{"ast":null,"code":"import { isObject, deepClone } from \"../helpers/object.mjs\";\nimport { arrayEach } from \"./../helpers/array.mjs\";\nimport { isUndefined } from \"../helpers/mixed.mjs\";\nimport { extendNotExistingKeys, normalizeLanguageCode, warnUserAboutLanguageRegistration } from \"./utils.mjs\";\nimport staticRegister from \"../utils/staticRegister.mjs\";\nimport { getPhraseFormatters } from \"./phraseFormatters/index.mjs\";\nimport DEFAULT_DICTIONARY from \"./languages/en-US.mjs\";\nimport * as _dictionaryKeys from \"./constants.mjs\";\nexport { _dictionaryKeys as dictionaryKeys };\nexport var DEFAULT_LANGUAGE_CODE = DEFAULT_DICTIONARY.languageCode;\nvar _staticRegister = staticRegister('languagesDictionaries'),\n  registerGloballyLanguageDictionary = _staticRegister.register,\n  getGlobalLanguageDictionary = _staticRegister.getItem,\n  hasGlobalLanguageDictionary = _staticRegister.hasItem,\n  getGlobalLanguagesDictionaries = _staticRegister.getValues;\n\n/**\n * Register automatically the default language dictionary.\n */\nregisterLanguageDictionary(DEFAULT_DICTIONARY);\n\n/**\n * Register language dictionary for specific language code.\n *\n * @param {string|object} languageCodeOrDictionary Language code for specific language i.e. 'en-US', 'pt-BR', 'de-DE' or object representing dictionary.\n * @param {object} dictionary Dictionary for specific language (optional if first parameter has already dictionary).\n * @returns {object}\n */\nexport function registerLanguageDictionary(languageCodeOrDictionary, dictionary) {\n  var languageCode = languageCodeOrDictionary;\n  var dictionaryObject = dictionary;\n\n  // Dictionary passed as first argument.\n  if (isObject(languageCodeOrDictionary)) {\n    dictionaryObject = languageCodeOrDictionary;\n    languageCode = dictionaryObject.languageCode;\n  }\n  extendLanguageDictionary(languageCode, dictionaryObject);\n  registerGloballyLanguageDictionary(languageCode, deepClone(dictionaryObject));\n\n  // We do not allow user to work with dictionary by reference, it can cause lot of bugs.\n  return deepClone(dictionaryObject);\n}\n\n/**\n * Extend handled dictionary by default language dictionary. As result, if any dictionary key isn't defined for specific language, it will be filled with default language value (\"dictionary gaps\" are supplemented).\n *\n * @private\n * @param {string} languageCode Language code.\n * @param {object} dictionary Dictionary which is extended.\n */\nfunction extendLanguageDictionary(languageCode, dictionary) {\n  if (languageCode !== DEFAULT_LANGUAGE_CODE) {\n    extendNotExistingKeys(dictionary, getGlobalLanguageDictionary(DEFAULT_LANGUAGE_CODE));\n  }\n}\n\n/**\n * Get language dictionary for specific language code.\n *\n * @param {string} languageCode Language code.\n * @returns {object} Object with constants representing identifiers for translation (as keys) and corresponding translation phrases (as values).\n */\nexport function getLanguageDictionary(languageCode) {\n  if (!hasLanguageDictionary(languageCode)) {\n    return null;\n  }\n  return deepClone(getGlobalLanguageDictionary(languageCode));\n}\n\n/**\n *\n * Get if language with specified language code was registered.\n *\n * @param {string} languageCode Language code for specific language i.e. 'en-US', 'pt-BR', 'de-DE'.\n * @returns {boolean}\n */\nexport function hasLanguageDictionary(languageCode) {\n  return hasGlobalLanguageDictionary(languageCode);\n}\n\n/**\n * Get default language dictionary.\n *\n * @returns {object} Object with constants representing identifiers for translation (as keys) and corresponding translation phrases (as values).\n */\nexport function getDefaultLanguageDictionary() {\n  return DEFAULT_DICTIONARY;\n}\n\n/**\n * Get registered language dictionaries.\n *\n * @returns {Array}\n */\nexport function getLanguagesDictionaries() {\n  return getGlobalLanguagesDictionaries();\n}\n\n/**\n * Get phrase for specified dictionary key.\n *\n * @param {string} languageCode Language code for specific language i.e. 'en-US', 'pt-BR', 'de-DE'.\n * @param {string} dictionaryKey Constant which is dictionary key.\n * @param {*} argumentsForFormatters Arguments which will be handled by formatters.\n *\n * @returns {string}\n */\nexport function getTranslatedPhrase(languageCode, dictionaryKey, argumentsForFormatters) {\n  var languageDictionary = getLanguageDictionary(languageCode);\n  if (languageDictionary === null) {\n    return null;\n  }\n  var phrasePropositions = languageDictionary[dictionaryKey];\n  if (isUndefined(phrasePropositions)) {\n    return null;\n  }\n  var formattedPhrase = getFormattedPhrase(phrasePropositions, argumentsForFormatters);\n  if (Array.isArray(formattedPhrase)) {\n    return formattedPhrase[0];\n  }\n  return formattedPhrase;\n}\n\n/**\n * Get formatted phrase from phrases propositions for specified dictionary key.\n *\n * @private\n * @param {Array|string} phrasePropositions List of phrase propositions.\n * @param {*} argumentsForFormatters Arguments which will be handled by formatters.\n *\n * @returns {Array|string}\n */\nfunction getFormattedPhrase(phrasePropositions, argumentsForFormatters) {\n  var formattedPhrasePropositions = phrasePropositions;\n  arrayEach(getPhraseFormatters(), function (formatter) {\n    formattedPhrasePropositions = formatter(phrasePropositions, argumentsForFormatters);\n  });\n  return formattedPhrasePropositions;\n}\n\n/**\n * Returns valid language code. If the passed language code doesn't exist default one will be used.\n *\n * @param {string} languageCode Language code for specific language i.e. 'en-US', 'pt-BR', 'de-DE'.\n * @returns {string}\n */\nexport function getValidLanguageCode(languageCode) {\n  var normalizedLanguageCode = normalizeLanguageCode(languageCode);\n  if (!hasLanguageDictionary(normalizedLanguageCode)) {\n    normalizedLanguageCode = DEFAULT_LANGUAGE_CODE;\n    warnUserAboutLanguageRegistration(languageCode);\n  }\n  return normalizedLanguageCode;\n}","map":{"version":3,"names":["isObject","deepClone","arrayEach","isUndefined","extendNotExistingKeys","normalizeLanguageCode","warnUserAboutLanguageRegistration","staticRegister","getPhraseFormatters","DEFAULT_DICTIONARY","_dictionaryKeys","dictionaryKeys","DEFAULT_LANGUAGE_CODE","languageCode","_staticRegister","registerGloballyLanguageDictionary","register","getGlobalLanguageDictionary","getItem","hasGlobalLanguageDictionary","hasItem","getGlobalLanguagesDictionaries","getValues","registerLanguageDictionary","languageCodeOrDictionary","dictionary","dictionaryObject","extendLanguageDictionary","getLanguageDictionary","hasLanguageDictionary","getDefaultLanguageDictionary","getLanguagesDictionaries","getTranslatedPhrase","dictionaryKey","argumentsForFormatters","languageDictionary","phrasePropositions","formattedPhrase","getFormattedPhrase","Array","isArray","formattedPhrasePropositions","formatter","getValidLanguageCode","normalizedLanguageCode"],"sources":["/home/rstorey/wwwdev/Blucktool/node_modules/handsontable/i18n/registry.mjs"],"sourcesContent":["import { isObject, deepClone } from \"../helpers/object.mjs\";\nimport { arrayEach } from \"./../helpers/array.mjs\";\nimport { isUndefined } from \"../helpers/mixed.mjs\";\nimport { extendNotExistingKeys, normalizeLanguageCode, warnUserAboutLanguageRegistration } from \"./utils.mjs\";\nimport staticRegister from \"../utils/staticRegister.mjs\";\nimport { getPhraseFormatters } from \"./phraseFormatters/index.mjs\";\nimport DEFAULT_DICTIONARY from \"./languages/en-US.mjs\";\nimport * as _dictionaryKeys from \"./constants.mjs\";\nexport { _dictionaryKeys as dictionaryKeys };\nexport var DEFAULT_LANGUAGE_CODE = DEFAULT_DICTIONARY.languageCode;\nvar _staticRegister = staticRegister('languagesDictionaries'),\n  registerGloballyLanguageDictionary = _staticRegister.register,\n  getGlobalLanguageDictionary = _staticRegister.getItem,\n  hasGlobalLanguageDictionary = _staticRegister.hasItem,\n  getGlobalLanguagesDictionaries = _staticRegister.getValues;\n\n/**\n * Register automatically the default language dictionary.\n */\nregisterLanguageDictionary(DEFAULT_DICTIONARY);\n\n/**\n * Register language dictionary for specific language code.\n *\n * @param {string|object} languageCodeOrDictionary Language code for specific language i.e. 'en-US', 'pt-BR', 'de-DE' or object representing dictionary.\n * @param {object} dictionary Dictionary for specific language (optional if first parameter has already dictionary).\n * @returns {object}\n */\nexport function registerLanguageDictionary(languageCodeOrDictionary, dictionary) {\n  var languageCode = languageCodeOrDictionary;\n  var dictionaryObject = dictionary;\n\n  // Dictionary passed as first argument.\n  if (isObject(languageCodeOrDictionary)) {\n    dictionaryObject = languageCodeOrDictionary;\n    languageCode = dictionaryObject.languageCode;\n  }\n  extendLanguageDictionary(languageCode, dictionaryObject);\n  registerGloballyLanguageDictionary(languageCode, deepClone(dictionaryObject));\n\n  // We do not allow user to work with dictionary by reference, it can cause lot of bugs.\n  return deepClone(dictionaryObject);\n}\n\n/**\n * Extend handled dictionary by default language dictionary. As result, if any dictionary key isn't defined for specific language, it will be filled with default language value (\"dictionary gaps\" are supplemented).\n *\n * @private\n * @param {string} languageCode Language code.\n * @param {object} dictionary Dictionary which is extended.\n */\nfunction extendLanguageDictionary(languageCode, dictionary) {\n  if (languageCode !== DEFAULT_LANGUAGE_CODE) {\n    extendNotExistingKeys(dictionary, getGlobalLanguageDictionary(DEFAULT_LANGUAGE_CODE));\n  }\n}\n\n/**\n * Get language dictionary for specific language code.\n *\n * @param {string} languageCode Language code.\n * @returns {object} Object with constants representing identifiers for translation (as keys) and corresponding translation phrases (as values).\n */\nexport function getLanguageDictionary(languageCode) {\n  if (!hasLanguageDictionary(languageCode)) {\n    return null;\n  }\n  return deepClone(getGlobalLanguageDictionary(languageCode));\n}\n\n/**\n *\n * Get if language with specified language code was registered.\n *\n * @param {string} languageCode Language code for specific language i.e. 'en-US', 'pt-BR', 'de-DE'.\n * @returns {boolean}\n */\nexport function hasLanguageDictionary(languageCode) {\n  return hasGlobalLanguageDictionary(languageCode);\n}\n\n/**\n * Get default language dictionary.\n *\n * @returns {object} Object with constants representing identifiers for translation (as keys) and corresponding translation phrases (as values).\n */\nexport function getDefaultLanguageDictionary() {\n  return DEFAULT_DICTIONARY;\n}\n\n/**\n * Get registered language dictionaries.\n *\n * @returns {Array}\n */\nexport function getLanguagesDictionaries() {\n  return getGlobalLanguagesDictionaries();\n}\n\n/**\n * Get phrase for specified dictionary key.\n *\n * @param {string} languageCode Language code for specific language i.e. 'en-US', 'pt-BR', 'de-DE'.\n * @param {string} dictionaryKey Constant which is dictionary key.\n * @param {*} argumentsForFormatters Arguments which will be handled by formatters.\n *\n * @returns {string}\n */\nexport function getTranslatedPhrase(languageCode, dictionaryKey, argumentsForFormatters) {\n  var languageDictionary = getLanguageDictionary(languageCode);\n  if (languageDictionary === null) {\n    return null;\n  }\n  var phrasePropositions = languageDictionary[dictionaryKey];\n  if (isUndefined(phrasePropositions)) {\n    return null;\n  }\n  var formattedPhrase = getFormattedPhrase(phrasePropositions, argumentsForFormatters);\n  if (Array.isArray(formattedPhrase)) {\n    return formattedPhrase[0];\n  }\n  return formattedPhrase;\n}\n\n/**\n * Get formatted phrase from phrases propositions for specified dictionary key.\n *\n * @private\n * @param {Array|string} phrasePropositions List of phrase propositions.\n * @param {*} argumentsForFormatters Arguments which will be handled by formatters.\n *\n * @returns {Array|string}\n */\nfunction getFormattedPhrase(phrasePropositions, argumentsForFormatters) {\n  var formattedPhrasePropositions = phrasePropositions;\n  arrayEach(getPhraseFormatters(), function (formatter) {\n    formattedPhrasePropositions = formatter(phrasePropositions, argumentsForFormatters);\n  });\n  return formattedPhrasePropositions;\n}\n\n/**\n * Returns valid language code. If the passed language code doesn't exist default one will be used.\n *\n * @param {string} languageCode Language code for specific language i.e. 'en-US', 'pt-BR', 'de-DE'.\n * @returns {string}\n */\nexport function getValidLanguageCode(languageCode) {\n  var normalizedLanguageCode = normalizeLanguageCode(languageCode);\n  if (!hasLanguageDictionary(normalizedLanguageCode)) {\n    normalizedLanguageCode = DEFAULT_LANGUAGE_CODE;\n    warnUserAboutLanguageRegistration(languageCode);\n  }\n  return normalizedLanguageCode;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}