{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"jSuites\"] = factory();else root[\"jSuites\"] = factory();\n})(this, function () {\n  return (/******/function () {\n      // webpackBootstrap\n      /******/\n      var __webpack_modules__ = {\n        /***/195: /***/function (module) {\n          /**\r\n           * (c) jSuites Javascript Plugins and Web Components (v4)\r\n           *\r\n           * Website: https://jsuites.net\r\n           * Description: Create amazing web based applications.\r\n           * Plugin: Organogram\r\n           *\r\n           * MIT License\r\n           */\n\n          ;\n          (function (global, factory) {\n            true ? module.exports = factory() : 0;\n          })(this, function () {\n            return function (str) {\n              function int64(msint_32, lsint_32) {\n                this.highOrder = msint_32;\n                this.lowOrder = lsint_32;\n              }\n              var H = [new int64(0x6a09e667, 0xf3bcc908), new int64(0xbb67ae85, 0x84caa73b), new int64(0x3c6ef372, 0xfe94f82b), new int64(0xa54ff53a, 0x5f1d36f1), new int64(0x510e527f, 0xade682d1), new int64(0x9b05688c, 0x2b3e6c1f), new int64(0x1f83d9ab, 0xfb41bd6b), new int64(0x5be0cd19, 0x137e2179)];\n              var K = [new int64(0x428a2f98, 0xd728ae22), new int64(0x71374491, 0x23ef65cd), new int64(0xb5c0fbcf, 0xec4d3b2f), new int64(0xe9b5dba5, 0x8189dbbc), new int64(0x3956c25b, 0xf348b538), new int64(0x59f111f1, 0xb605d019), new int64(0x923f82a4, 0xaf194f9b), new int64(0xab1c5ed5, 0xda6d8118), new int64(0xd807aa98, 0xa3030242), new int64(0x12835b01, 0x45706fbe), new int64(0x243185be, 0x4ee4b28c), new int64(0x550c7dc3, 0xd5ffb4e2), new int64(0x72be5d74, 0xf27b896f), new int64(0x80deb1fe, 0x3b1696b1), new int64(0x9bdc06a7, 0x25c71235), new int64(0xc19bf174, 0xcf692694), new int64(0xe49b69c1, 0x9ef14ad2), new int64(0xefbe4786, 0x384f25e3), new int64(0x0fc19dc6, 0x8b8cd5b5), new int64(0x240ca1cc, 0x77ac9c65), new int64(0x2de92c6f, 0x592b0275), new int64(0x4a7484aa, 0x6ea6e483), new int64(0x5cb0a9dc, 0xbd41fbd4), new int64(0x76f988da, 0x831153b5), new int64(0x983e5152, 0xee66dfab), new int64(0xa831c66d, 0x2db43210), new int64(0xb00327c8, 0x98fb213f), new int64(0xbf597fc7, 0xbeef0ee4), new int64(0xc6e00bf3, 0x3da88fc2), new int64(0xd5a79147, 0x930aa725), new int64(0x06ca6351, 0xe003826f), new int64(0x14292967, 0x0a0e6e70), new int64(0x27b70a85, 0x46d22ffc), new int64(0x2e1b2138, 0x5c26c926), new int64(0x4d2c6dfc, 0x5ac42aed), new int64(0x53380d13, 0x9d95b3df), new int64(0x650a7354, 0x8baf63de), new int64(0x766a0abb, 0x3c77b2a8), new int64(0x81c2c92e, 0x47edaee6), new int64(0x92722c85, 0x1482353b), new int64(0xa2bfe8a1, 0x4cf10364), new int64(0xa81a664b, 0xbc423001), new int64(0xc24b8b70, 0xd0f89791), new int64(0xc76c51a3, 0x0654be30), new int64(0xd192e819, 0xd6ef5218), new int64(0xd6990624, 0x5565a910), new int64(0xf40e3585, 0x5771202a), new int64(0x106aa070, 0x32bbd1b8), new int64(0x19a4c116, 0xb8d2d0c8), new int64(0x1e376c08, 0x5141ab53), new int64(0x2748774c, 0xdf8eeb99), new int64(0x34b0bcb5, 0xe19b48a8), new int64(0x391c0cb3, 0xc5c95a63), new int64(0x4ed8aa4a, 0xe3418acb), new int64(0x5b9cca4f, 0x7763e373), new int64(0x682e6ff3, 0xd6b2b8a3), new int64(0x748f82ee, 0x5defb2fc), new int64(0x78a5636f, 0x43172f60), new int64(0x84c87814, 0xa1f0ab72), new int64(0x8cc70208, 0x1a6439ec), new int64(0x90befffa, 0x23631e28), new int64(0xa4506ceb, 0xde82bde9), new int64(0xbef9a3f7, 0xb2c67915), new int64(0xc67178f2, 0xe372532b), new int64(0xca273ece, 0xea26619c), new int64(0xd186b8c7, 0x21c0c207), new int64(0xeada7dd6, 0xcde0eb1e), new int64(0xf57d4f7f, 0xee6ed178), new int64(0x06f067aa, 0x72176fba), new int64(0x0a637dc5, 0xa2c898a6), new int64(0x113f9804, 0xbef90dae), new int64(0x1b710b35, 0x131c471b), new int64(0x28db77f5, 0x23047d84), new int64(0x32caab7b, 0x40c72493), new int64(0x3c9ebe0a, 0x15c9bebc), new int64(0x431d67c4, 0x9c100d4c), new int64(0x4cc5d4be, 0xcb3e42b6), new int64(0x597f299c, 0xfc657e2a), new int64(0x5fcb6fab, 0x3ad6faec), new int64(0x6c44198c, 0x4a475817)];\n              var W = new Array(64);\n              var a, b, c, d, e, f, g, h, i, j;\n              var T1, T2;\n              var charsize = 8;\n              function utf8_encode(str) {\n                return unescape(encodeURIComponent(str));\n              }\n              function str2binb(str) {\n                var bin = [];\n                var mask = (1 << charsize) - 1;\n                var len = str.length * charsize;\n                for (var i = 0; i < len; i += charsize) {\n                  bin[i >> 5] |= (str.charCodeAt(i / charsize) & mask) << 32 - charsize - i % 32;\n                }\n                return bin;\n              }\n              function binb2hex(binarray) {\n                var hex_tab = \"0123456789abcdef\";\n                var str = \"\";\n                var length = binarray.length * 4;\n                var srcByte;\n                for (var i = 0; i < length; i += 1) {\n                  srcByte = binarray[i >> 2] >> (3 - i % 4) * 8;\n                  str += hex_tab.charAt(srcByte >> 4 & 0xF) + hex_tab.charAt(srcByte & 0xF);\n                }\n                return str;\n              }\n              function safe_add_2(x, y) {\n                var lsw, msw, lowOrder, highOrder;\n                lsw = (x.lowOrder & 0xFFFF) + (y.lowOrder & 0xFFFF);\n                msw = (x.lowOrder >>> 16) + (y.lowOrder >>> 16) + (lsw >>> 16);\n                lowOrder = (msw & 0xFFFF) << 16 | lsw & 0xFFFF;\n                lsw = (x.highOrder & 0xFFFF) + (y.highOrder & 0xFFFF) + (msw >>> 16);\n                msw = (x.highOrder >>> 16) + (y.highOrder >>> 16) + (lsw >>> 16);\n                highOrder = (msw & 0xFFFF) << 16 | lsw & 0xFFFF;\n                return new int64(highOrder, lowOrder);\n              }\n              function safe_add_4(a, b, c, d) {\n                var lsw, msw, lowOrder, highOrder;\n                lsw = (a.lowOrder & 0xFFFF) + (b.lowOrder & 0xFFFF) + (c.lowOrder & 0xFFFF) + (d.lowOrder & 0xFFFF);\n                msw = (a.lowOrder >>> 16) + (b.lowOrder >>> 16) + (c.lowOrder >>> 16) + (d.lowOrder >>> 16) + (lsw >>> 16);\n                lowOrder = (msw & 0xFFFF) << 16 | lsw & 0xFFFF;\n                lsw = (a.highOrder & 0xFFFF) + (b.highOrder & 0xFFFF) + (c.highOrder & 0xFFFF) + (d.highOrder & 0xFFFF) + (msw >>> 16);\n                msw = (a.highOrder >>> 16) + (b.highOrder >>> 16) + (c.highOrder >>> 16) + (d.highOrder >>> 16) + (lsw >>> 16);\n                highOrder = (msw & 0xFFFF) << 16 | lsw & 0xFFFF;\n                return new int64(highOrder, lowOrder);\n              }\n              function safe_add_5(a, b, c, d, e) {\n                var lsw, msw, lowOrder, highOrder;\n                lsw = (a.lowOrder & 0xFFFF) + (b.lowOrder & 0xFFFF) + (c.lowOrder & 0xFFFF) + (d.lowOrder & 0xFFFF) + (e.lowOrder & 0xFFFF);\n                msw = (a.lowOrder >>> 16) + (b.lowOrder >>> 16) + (c.lowOrder >>> 16) + (d.lowOrder >>> 16) + (e.lowOrder >>> 16) + (lsw >>> 16);\n                lowOrder = (msw & 0xFFFF) << 16 | lsw & 0xFFFF;\n                lsw = (a.highOrder & 0xFFFF) + (b.highOrder & 0xFFFF) + (c.highOrder & 0xFFFF) + (d.highOrder & 0xFFFF) + (e.highOrder & 0xFFFF) + (msw >>> 16);\n                msw = (a.highOrder >>> 16) + (b.highOrder >>> 16) + (c.highOrder >>> 16) + (d.highOrder >>> 16) + (e.highOrder >>> 16) + (lsw >>> 16);\n                highOrder = (msw & 0xFFFF) << 16 | lsw & 0xFFFF;\n                return new int64(highOrder, lowOrder);\n              }\n              function maj(x, y, z) {\n                return new int64(x.highOrder & y.highOrder ^ x.highOrder & z.highOrder ^ y.highOrder & z.highOrder, x.lowOrder & y.lowOrder ^ x.lowOrder & z.lowOrder ^ y.lowOrder & z.lowOrder);\n              }\n              function ch(x, y, z) {\n                return new int64(x.highOrder & y.highOrder ^ ~x.highOrder & z.highOrder, x.lowOrder & y.lowOrder ^ ~x.lowOrder & z.lowOrder);\n              }\n              function rotr(x, n) {\n                if (n <= 32) {\n                  return new int64(x.highOrder >>> n | x.lowOrder << 32 - n, x.lowOrder >>> n | x.highOrder << 32 - n);\n                } else {\n                  return new int64(x.lowOrder >>> n | x.highOrder << 32 - n, x.highOrder >>> n | x.lowOrder << 32 - n);\n                }\n              }\n              function sigma0(x) {\n                var rotr28 = rotr(x, 28);\n                var rotr34 = rotr(x, 34);\n                var rotr39 = rotr(x, 39);\n                return new int64(rotr28.highOrder ^ rotr34.highOrder ^ rotr39.highOrder, rotr28.lowOrder ^ rotr34.lowOrder ^ rotr39.lowOrder);\n              }\n              function sigma1(x) {\n                var rotr14 = rotr(x, 14);\n                var rotr18 = rotr(x, 18);\n                var rotr41 = rotr(x, 41);\n                return new int64(rotr14.highOrder ^ rotr18.highOrder ^ rotr41.highOrder, rotr14.lowOrder ^ rotr18.lowOrder ^ rotr41.lowOrder);\n              }\n              function gamma0(x) {\n                var rotr1 = rotr(x, 1),\n                  rotr8 = rotr(x, 8),\n                  shr7 = shr(x, 7);\n                return new int64(rotr1.highOrder ^ rotr8.highOrder ^ shr7.highOrder, rotr1.lowOrder ^ rotr8.lowOrder ^ shr7.lowOrder);\n              }\n              function gamma1(x) {\n                var rotr19 = rotr(x, 19);\n                var rotr61 = rotr(x, 61);\n                var shr6 = shr(x, 6);\n                return new int64(rotr19.highOrder ^ rotr61.highOrder ^ shr6.highOrder, rotr19.lowOrder ^ rotr61.lowOrder ^ shr6.lowOrder);\n              }\n              function shr(x, n) {\n                if (n <= 32) {\n                  return new int64(x.highOrder >>> n, x.lowOrder >>> n | x.highOrder << 32 - n);\n                } else {\n                  return new int64(0, x.highOrder << 32 - n);\n                }\n              }\n              var str = utf8_encode(str);\n              var strlen = str.length * charsize;\n              str = str2binb(str);\n              str[strlen >> 5] |= 0x80 << 24 - strlen % 32;\n              str[(strlen + 128 >> 10 << 5) + 31] = strlen;\n              for (var i = 0; i < str.length; i += 32) {\n                a = H[0];\n                b = H[1];\n                c = H[2];\n                d = H[3];\n                e = H[4];\n                f = H[5];\n                g = H[6];\n                h = H[7];\n                for (var j = 0; j < 80; j++) {\n                  if (j < 16) {\n                    W[j] = new int64(str[j * 2 + i], str[j * 2 + i + 1]);\n                  } else {\n                    W[j] = safe_add_4(gamma1(W[j - 2]), W[j - 7], gamma0(W[j - 15]), W[j - 16]);\n                  }\n                  T1 = safe_add_5(h, sigma1(e), ch(e, f, g), K[j], W[j]);\n                  T2 = safe_add_2(sigma0(a), maj(a, b, c));\n                  h = g;\n                  g = f;\n                  f = e;\n                  e = safe_add_2(d, T1);\n                  d = c;\n                  c = b;\n                  b = a;\n                  a = safe_add_2(T1, T2);\n                }\n                H[0] = safe_add_2(a, H[0]);\n                H[1] = safe_add_2(b, H[1]);\n                H[2] = safe_add_2(c, H[2]);\n                H[3] = safe_add_2(d, H[3]);\n                H[4] = safe_add_2(e, H[4]);\n                H[5] = safe_add_2(f, H[5]);\n                H[6] = safe_add_2(g, H[6]);\n                H[7] = safe_add_2(h, H[7]);\n              }\n              var binarray = [];\n              for (var i = 0; i < H.length; i++) {\n                binarray.push(H[i].highOrder);\n                binarray.push(H[i].lowOrder);\n              }\n              return binb2hex(binarray);\n            };\n          });\n\n          /***/\n        }\n\n        /******/\n      };\n      /************************************************************************/\n      /******/ // The module cache\n      /******/\n      var __webpack_module_cache__ = {};\n      /******/\n      /******/ // The require function\n      /******/\n      function __webpack_require__(moduleId) {\n        /******/ // Check if module is in cache\n        /******/var cachedModule = __webpack_module_cache__[moduleId];\n        /******/\n        if (cachedModule !== undefined) {\n          /******/return cachedModule.exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/\n        var module = __webpack_module_cache__[moduleId] = {\n          /******/ // no module.id needed\n          /******/ // no module.loaded needed\n          /******/exports: {}\n          /******/\n        };\n        /******/\n        /******/ // Execute the module function\n        /******/\n        __webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Return the exports of the module\n        /******/\n        return module.exports;\n        /******/\n      }\n      /******/\n      /************************************************************************/\n      /******/ /* webpack/runtime/compat get default export */\n      /******/\n      !function () {\n        /******/ // getDefaultExport function for compatibility with non-harmony modules\n        /******/__webpack_require__.n = function (module) {\n          /******/var getter = module && module.__esModule ? /******/function () {\n            return module['default'];\n          } : /******/function () {\n            return module;\n          };\n          /******/\n          __webpack_require__.d(getter, {\n            a: getter\n          });\n          /******/\n          return getter;\n          /******/\n        };\n        /******/\n      }();\n      /******/\n      /******/ /* webpack/runtime/define property getters */\n      /******/\n      !function () {\n        /******/ // define getter functions for harmony exports\n        /******/__webpack_require__.d = function (exports, definition) {\n          /******/for (var key in definition) {\n            /******/if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n              /******/Object.defineProperty(exports, key, {\n                enumerable: true,\n                get: definition[key]\n              });\n              /******/\n            }\n            /******/\n          }\n          /******/\n        };\n        /******/\n      }();\n      /******/\n      /******/ /* webpack/runtime/hasOwnProperty shorthand */\n      /******/\n      !function () {\n        /******/__webpack_require__.o = function (obj, prop) {\n          return Object.prototype.hasOwnProperty.call(obj, prop);\n        };\n        /******/\n      }();\n      /******/\n      /************************************************************************/\n      var __webpack_exports__ = {};\n      // This entry need to be wrapped in an IIFE because it need to be in strict mode.\n      !function () {\n        \"use strict\";\n\n        // EXPORTS\n        __webpack_require__.d(__webpack_exports__, {\n          \"default\": function () {\n            return (/* binding */jsuites\n            );\n          }\n        });\n        ; // CONCATENATED MODULE: ./src/utils/helpers.js\n        var Helpers = {};\n\n        // Two digits\n        Helpers.two = function (value) {\n          value = '' + value;\n          if (value.length == 1) {\n            value = '0' + value;\n          }\n          return value;\n        };\n        Helpers.focus = function (el) {\n          if (el.innerText.length) {\n            var range = document.createRange();\n            var sel = window.getSelection();\n            var node = el.childNodes[el.childNodes.length - 1];\n            range.setStart(node, node.length);\n            range.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(range);\n            el.scrollLeft = el.scrollWidth;\n          }\n        };\n        Helpers.isNumeric = function (num) {\n          if (typeof num === 'string') {\n            num = num.trim();\n          }\n          return !isNaN(num) && num !== null && num !== '';\n        };\n        Helpers.guid = function () {\n          return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            var r = Math.random() * 16 | 0,\n              v = c == 'x' ? r : r & 0x3 | 0x8;\n            return v.toString(16);\n          });\n        };\n        Helpers.getNode = function () {\n          var node = document.getSelection().anchorNode;\n          if (node) {\n            return node.nodeType == 3 ? node.parentNode : node;\n          } else {\n            return null;\n          }\n        };\n        /**\r\n         * Generate hash from a string\r\n         */\n        Helpers.hash = function (str) {\n          var hash = 0,\n            i,\n            chr;\n          if (str.length === 0) {\n            return hash;\n          } else {\n            for (i = 0; i < str.length; i++) {\n              chr = str.charCodeAt(i);\n              if (chr > 32) {\n                hash = (hash << 5) - hash + chr;\n                hash |= 0;\n              }\n            }\n          }\n          return hash;\n        };\n\n        /**\r\n         * Generate a random color\r\n         */\n        Helpers.randomColor = function (h) {\n          var lum = -0.25;\n          var hex = String('#' + Math.random().toString(16).slice(2, 8).toUpperCase()).replace(/[^0-9a-f]/gi, '');\n          if (hex.length < 6) {\n            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n          }\n          var rgb = [],\n            c,\n            i;\n          for (i = 0; i < 3; i++) {\n            c = parseInt(hex.substr(i * 2, 2), 16);\n            c = Math.round(Math.min(Math.max(0, c + c * lum), 255)).toString(16);\n            rgb.push((\"00\" + c).substr(c.length));\n          }\n\n          // Return hex\n          if (h == true) {\n            return '#' + Helpers.two(rgb[0].toString(16)) + Helpers.two(rgb[1].toString(16)) + Helpers.two(rgb[2].toString(16));\n          }\n          return rgb;\n        };\n        Helpers.getWindowWidth = function () {\n          var w = window,\n            d = document,\n            e = d.documentElement,\n            g = d.getElementsByTagName('body')[0],\n            x = w.innerWidth || e.clientWidth || g.clientWidth;\n          return x;\n        };\n        Helpers.getWindowHeight = function () {\n          var w = window,\n            d = document,\n            e = d.documentElement,\n            g = d.getElementsByTagName('body')[0],\n            y = w.innerHeight || e.clientHeight || g.clientHeight;\n          return y;\n        };\n        Helpers.getPosition = function (e) {\n          if (e.changedTouches && e.changedTouches[0]) {\n            var x = e.changedTouches[0].pageX;\n            var y = e.changedTouches[0].pageY;\n          } else {\n            var x = window.Event ? e.pageX : e.clientX + (document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft);\n            var y = window.Event ? e.pageY : e.clientY + (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);\n          }\n          return [x, y];\n        };\n        Helpers.click = function (el) {\n          if (el.click) {\n            el.click();\n          } else {\n            var evt = new MouseEvent('click', {\n              bubbles: true,\n              cancelable: true,\n              view: window\n            });\n            el.dispatchEvent(evt);\n          }\n        };\n        Helpers.findElement = function (element, condition) {\n          var foundElement = false;\n          function path(element) {\n            if (element && !foundElement) {\n              if (typeof condition == 'function') {\n                foundElement = condition(element);\n              } else if (typeof condition == 'string') {\n                if (element.classList && element.classList.contains(condition)) {\n                  foundElement = element;\n                }\n              }\n            }\n            if (element.parentNode && !foundElement) {\n              path(element.parentNode);\n            }\n          }\n          path(element);\n          return foundElement;\n        };\n\n        /* harmony default export */\n        var helpers = Helpers;\n        ; // CONCATENATED MODULE: ./src/utils/helpers.date.js\n\n        function HelpersDate() {\n          var Component = {};\n          Component.now = function (date, dateOnly) {\n            var y = null;\n            var m = null;\n            var d = null;\n            var h = null;\n            var i = null;\n            var s = null;\n            if (Array.isArray(date)) {\n              y = date[0];\n              m = date[1];\n              d = date[2];\n              h = date[3];\n              i = date[4];\n              s = date[5];\n            } else {\n              if (!date) {\n                date = new Date();\n              }\n              y = date.getFullYear();\n              m = date.getMonth() + 1;\n              d = date.getDate();\n              h = date.getHours();\n              i = date.getMinutes();\n              s = date.getSeconds();\n            }\n            if (dateOnly == true) {\n              return helpers.two(y) + '-' + helpers.two(m) + '-' + helpers.two(d);\n            } else {\n              return helpers.two(y) + '-' + helpers.two(m) + '-' + helpers.two(d) + ' ' + helpers.two(h) + ':' + helpers.two(i) + ':' + helpers.two(s);\n            }\n          };\n          Component.toArray = function (value) {\n            var date = value.split(value.indexOf('T') !== -1 ? 'T' : ' ');\n            var time = date[1];\n            var date = date[0].split('-');\n            var y = parseInt(date[0]);\n            var m = parseInt(date[1]);\n            var d = parseInt(date[2]);\n            var h = 0;\n            var i = 0;\n            if (time) {\n              time = time.split(':');\n              h = parseInt(time[0]);\n              i = parseInt(time[1]);\n            }\n            return [y, m, d, h, i, 0];\n          };\n          var excelInitialTime = Date.UTC(1900, 0, 0);\n          var excelLeapYearBug = Date.UTC(1900, 1, 29);\n          var millisecondsPerDay = 86400000;\n\n          /**\r\n           * Date to number\r\n           */\n          Component.dateToNum = function (jsDate) {\n            if (typeof jsDate === 'string') {\n              jsDate = new Date(jsDate + '  GMT+0');\n            }\n            var jsDateInMilliseconds = jsDate.getTime();\n            if (jsDateInMilliseconds >= excelLeapYearBug) {\n              jsDateInMilliseconds += millisecondsPerDay;\n            }\n            jsDateInMilliseconds -= excelInitialTime;\n            return jsDateInMilliseconds / millisecondsPerDay;\n          };\n\n          /**\r\n           * Number to date\r\n           *\r\n           * IMPORTANT: Excel incorrectly considers 1900 to be a leap year\r\n           */\n          Component.numToDate = function (excelSerialNumber) {\n            var jsDateInMilliseconds = excelInitialTime + excelSerialNumber * millisecondsPerDay;\n            if (jsDateInMilliseconds >= excelLeapYearBug) {\n              jsDateInMilliseconds -= millisecondsPerDay;\n            }\n            const d = new Date(jsDateInMilliseconds);\n            var date = [d.getUTCFullYear(), d.getUTCMonth() + 1, d.getUTCDate(), d.getUTCHours(), d.getUTCMinutes(), d.getUTCSeconds()];\n            return Component.now(date);\n          };\n\n          // Jsuites calendar labels\n          Component.weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n          Component.months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n          Component.weekdaysShort = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n          Component.monthsShort = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n          return Component;\n        }\n\n        /* harmony default export */\n        var helpers_date = HelpersDate();\n        ; // CONCATENATED MODULE: ./src/utils/dictionary.js\n\n        // Update dictionary\n        var setDictionary = function (d) {\n          if (!document.dictionary) {\n            document.dictionary = {};\n          }\n          // Replace the key into the dictionary and append the new ones\n          var t = null;\n          var i = null;\n          var k = Object.keys(d);\n          for (i = 0; i < k.length; i++) {\n            document.dictionary[k[i]] = d[k[i]];\n          }\n\n          // Translations\n          for (i = 0; i < helpers_date.weekdays.length; i++) {\n            t = translate(helpers_date.weekdays[i]);\n            if (helpers_date.weekdays[i]) {\n              helpers_date.weekdays[i] = t;\n              helpers_date.weekdaysShort[i] = t.substr(0, 3);\n            }\n          }\n          for (i = 0; i < helpers_date.months.length; i++) {\n            t = translate(helpers_date.months[i]);\n            if (t) {\n              helpers_date.months[i] = t;\n              helpers_date.monthsShort[i] = t.substr(0, 3);\n            }\n          }\n        };\n\n        // Translate\n        var translate = function (t) {\n          if (typeof document !== \"undefined\" && document.dictionary) {\n            return document.dictionary[t] || t;\n          } else {\n            return t;\n          }\n        };\n\n        /* harmony default export */\n        var dictionary = {\n          setDictionary,\n          translate\n        };\n        ; // CONCATENATED MODULE: ./src/utils/tracking.js\n        function Tracking(component, state) {\n          if (state == true) {\n            document.jsuitesComponents = document.jsuitesComponents.filter(function (v) {\n              return v !== null;\n            });\n\n            // Start after all events\n            setTimeout(function () {\n              document.jsuitesComponents.push(component);\n            }, 0);\n          } else {\n            var index = document.jsuitesComponents.indexOf(component);\n            if (index >= 0) {\n              document.jsuitesComponents.splice(index, 1);\n            }\n          }\n        }\n        ; // CONCATENATED MODULE: ./src/utils/path.js\n        function Path(str, val) {\n          str = str.split('.');\n          if (str.length) {\n            var o = this;\n            var p = null;\n            while (str.length > 1) {\n              // Get the property\n              p = str.shift();\n              // Check if the property exists\n              if (o.hasOwnProperty(p)) {\n                o = o[p];\n              } else {\n                // Property does not exists\n                if (val === undefined) {\n                  return undefined;\n                } else {\n                  // Create the property\n                  o[p] = {};\n                  // Next property\n                  o = o[p];\n                }\n              }\n            }\n            // Get the property\n            p = str.shift();\n            // Set or get the value\n            if (val !== undefined) {\n              o[p] = val;\n              // Success\n              return true;\n            } else {\n              // Return the value\n              if (o) {\n                return o[p];\n              }\n            }\n          }\n          // Something went wrong\n          return false;\n        }\n        ; // CONCATENATED MODULE: ./src/utils/sorting.js\n        function Sorting(el, options) {\n          var obj = {};\n          obj.options = {};\n          var defaults = {\n            pointer: null,\n            direction: null,\n            ondragstart: null,\n            ondragend: null,\n            ondrop: null\n          };\n          var dragElement = null;\n\n          // Loop through the initial configuration\n          for (var property in defaults) {\n            if (options && options.hasOwnProperty(property)) {\n              obj.options[property] = options[property];\n            } else {\n              obj.options[property] = defaults[property];\n            }\n          }\n          el.classList.add('jsorting');\n          el.addEventListener('dragstart', function (e) {\n            var position = Array.prototype.indexOf.call(e.target.parentNode.children, e.target);\n            dragElement = {\n              element: e.target,\n              o: position,\n              d: position\n            };\n            e.target.style.opacity = '0.25';\n            if (typeof obj.options.ondragstart == 'function') {\n              obj.options.ondragstart(el, e.target, e);\n            }\n          });\n          el.addEventListener('dragover', function (e) {\n            e.preventDefault();\n            if (getElement(e.target) && dragElement) {\n              if (e.target.getAttribute('draggable') == 'true' && dragElement.element != e.target) {\n                if (!obj.options.direction) {\n                  var condition = e.target.clientHeight / 2 > e.offsetY;\n                } else {\n                  var condition = e.target.clientWidth / 2 > e.offsetX;\n                }\n                if (condition) {\n                  e.target.parentNode.insertBefore(dragElement.element, e.target);\n                } else {\n                  e.target.parentNode.insertBefore(dragElement.element, e.target.nextSibling);\n                }\n                dragElement.d = Array.prototype.indexOf.call(e.target.parentNode.children, dragElement.element);\n              }\n            }\n          });\n          el.addEventListener('dragleave', function (e) {\n            e.preventDefault();\n          });\n          el.addEventListener('dragend', function (e) {\n            e.preventDefault();\n            if (dragElement) {\n              if (typeof obj.options.ondragend == 'function') {\n                obj.options.ondragend(el, dragElement.element, e);\n              }\n\n              // Cancelled put element to the original position\n              if (dragElement.o < dragElement.d) {\n                e.target.parentNode.insertBefore(dragElement.element, e.target.parentNode.children[dragElement.o]);\n              } else {\n                e.target.parentNode.insertBefore(dragElement.element, e.target.parentNode.children[dragElement.o].nextSibling);\n              }\n              dragElement.element.style.opacity = '';\n              dragElement = null;\n            }\n          });\n          el.addEventListener('drop', function (e) {\n            e.preventDefault();\n            if (dragElement && dragElement.o != dragElement.d) {\n              if (typeof obj.options.ondrop == 'function') {\n                obj.options.ondrop(el, dragElement.o, dragElement.d, dragElement.element, e.target, e);\n              }\n            }\n            dragElement.element.style.opacity = '';\n            dragElement = null;\n          });\n          var getElement = function (element) {\n            var sorting = false;\n            function path(element) {\n              if (element.className) {\n                if (element.classList.contains('jsorting')) {\n                  sorting = true;\n                }\n              }\n              if (!sorting) {\n                path(element.parentNode);\n              }\n            }\n            path(element);\n            return sorting;\n          };\n          for (var i = 0; i < el.children.length; i++) {\n            if (!el.children[i].hasAttribute('draggable')) {\n              el.children[i].setAttribute('draggable', 'true');\n            }\n          }\n          el.val = function () {\n            var id = null;\n            var data = [];\n            for (var i = 0; i < el.children.length; i++) {\n              if (id = el.children[i].getAttribute('data-id')) {\n                data.push(id);\n              }\n            }\n            return data;\n          };\n          return el;\n        }\n        ; // CONCATENATED MODULE: ./src/utils/lazyloading.js\n        function LazyLoading(el, options) {\n          var obj = {};\n\n          // Mandatory options\n          if (!options.loadUp || typeof options.loadUp != 'function') {\n            options.loadUp = function () {\n              return false;\n            };\n          }\n          if (!options.loadDown || typeof options.loadDown != 'function') {\n            options.loadDown = function () {\n              return false;\n            };\n          }\n          // Timer ms\n          if (!options.timer) {\n            options.timer = 100;\n          }\n\n          // Timer\n          var timeControlLoading = null;\n\n          // Controls\n          var scrollControls = function (e) {\n            if (timeControlLoading == null) {\n              var event = false;\n              var scrollTop = el.scrollTop;\n              if (el.scrollTop + el.clientHeight * 2 >= el.scrollHeight) {\n                if (options.loadDown()) {\n                  if (scrollTop == el.scrollTop) {\n                    el.scrollTop = el.scrollTop - el.clientHeight;\n                  }\n                  event = true;\n                }\n              } else if (el.scrollTop <= el.clientHeight) {\n                if (options.loadUp()) {\n                  if (scrollTop == el.scrollTop) {\n                    el.scrollTop = el.scrollTop + el.clientHeight;\n                  }\n                  event = true;\n                }\n              }\n              timeControlLoading = setTimeout(function () {\n                timeControlLoading = null;\n              }, options.timer);\n              if (event) {\n                if (typeof options.onupdate == 'function') {\n                  options.onupdate();\n                }\n              }\n            }\n          };\n\n          // Onscroll\n          el.onscroll = function (e) {\n            scrollControls(e);\n          };\n          el.onwheel = function (e) {\n            scrollControls(e);\n          };\n          return obj;\n        }\n        ; // CONCATENATED MODULE: ./src/plugins/ajax.js\n        function Ajax() {\n          var Component = function (options, complete) {\n            if (Array.isArray(options)) {\n              // Create multiple request controller\n              var multiple = {\n                instance: [],\n                complete: complete\n              };\n              if (options.length > 0) {\n                for (var i = 0; i < options.length; i++) {\n                  options[i].multiple = multiple;\n                  multiple.instance.push(Component(options[i]));\n                }\n              }\n              return multiple;\n            }\n            if (!options.data) {\n              options.data = {};\n            }\n            if (options.type) {\n              options.method = options.type;\n            }\n\n            // Default method\n            if (!options.method) {\n              options.method = 'GET';\n            }\n\n            // Default type\n            if (!options.dataType) {\n              options.dataType = 'json';\n            }\n            if (options.data) {\n              // Parse object to variables format\n              var parseData = function (value, key) {\n                var vars = [];\n                if (value) {\n                  var keys = Object.keys(value);\n                  if (keys.length) {\n                    for (var i = 0; i < keys.length; i++) {\n                      if (key) {\n                        var k = key + '[' + keys[i] + ']';\n                      } else {\n                        var k = keys[i];\n                      }\n                      if (value[k] instanceof FileList) {\n                        vars[k] = value[keys[i]];\n                      } else if (value[keys[i]] === null || value[keys[i]] === undefined) {\n                        vars[k] = '';\n                      } else if (typeof value[keys[i]] == 'object') {\n                        var r = parseData(value[keys[i]], k);\n                        var o = Object.keys(r);\n                        for (var j = 0; j < o.length; j++) {\n                          vars[o[j]] = r[o[j]];\n                        }\n                      } else {\n                        vars[k] = value[keys[i]];\n                      }\n                    }\n                  }\n                }\n                return vars;\n              };\n              var d = parseData(options.data);\n              var k = Object.keys(d);\n\n              // Data form\n              if (options.method == 'GET') {\n                if (k.length) {\n                  var data = [];\n                  for (var i = 0; i < k.length; i++) {\n                    data.push(k[i] + '=' + encodeURIComponent(d[k[i]]));\n                  }\n                  if (options.url.indexOf('?') < 0) {\n                    options.url += '?';\n                  }\n                  options.url += data.join('&');\n                }\n              } else {\n                var data = new FormData();\n                for (var i = 0; i < k.length; i++) {\n                  if (d[k[i]] instanceof FileList) {\n                    if (d[k[i]].length) {\n                      for (var j = 0; j < d[k[i]].length; j++) {\n                        data.append(k[i], d[k[i]][j], d[k[i]][j].name);\n                      }\n                    }\n                  } else {\n                    data.append(k[i], d[k[i]]);\n                  }\n                }\n              }\n            }\n            var httpRequest = new XMLHttpRequest();\n            httpRequest.open(options.method, options.url, true);\n            httpRequest.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\n            // Content type\n            if (options.contentType) {\n              httpRequest.setRequestHeader('Content-Type', options.contentType);\n            }\n\n            // Headers\n            if (options.method == 'POST') {\n              httpRequest.setRequestHeader('Accept', 'application/json');\n            } else {\n              if (options.dataType == 'blob') {\n                httpRequest.responseType = \"blob\";\n              } else {\n                if (!options.contentType) {\n                  if (options.dataType == 'json') {\n                    httpRequest.setRequestHeader('Content-Type', 'text/json');\n                  } else if (options.dataType == 'html') {\n                    httpRequest.setRequestHeader('Content-Type', 'text/html');\n                  }\n                }\n              }\n            }\n\n            // No cache\n            if (options.cache != true) {\n              httpRequest.setRequestHeader('pragma', 'no-cache');\n              httpRequest.setRequestHeader('cache-control', 'no-cache');\n            }\n\n            // Authentication\n            if (options.withCredentials == true) {\n              httpRequest.withCredentials = true;\n            }\n\n            // Before send\n            if (typeof options.beforeSend == 'function') {\n              options.beforeSend(httpRequest);\n            }\n\n            // Before send\n            if (typeof Component.beforeSend == 'function') {\n              Component.beforeSend(httpRequest);\n            }\n            if (document.ajax && typeof document.ajax.beforeSend == 'function') {\n              document.ajax.beforeSend(httpRequest);\n            }\n            httpRequest.onload = function () {\n              if (httpRequest.status === 200) {\n                if (options.dataType == 'json') {\n                  try {\n                    var result = JSON.parse(httpRequest.responseText);\n                    if (options.success && typeof options.success == 'function') {\n                      options.success(result);\n                    }\n                  } catch (err) {\n                    if (options.error && typeof options.error == 'function') {\n                      options.error(err, result);\n                    }\n                  }\n                } else {\n                  if (options.dataType == 'blob') {\n                    var result = httpRequest.response;\n                  } else {\n                    var result = httpRequest.responseText;\n                  }\n                  if (options.success && typeof options.success == 'function') {\n                    options.success(result);\n                  }\n                }\n              } else {\n                if (options.error && typeof options.error == 'function') {\n                  options.error(httpRequest.responseText, httpRequest.status);\n                }\n              }\n\n              // Global queue\n              if (Component.queue && Component.queue.length > 0) {\n                Component.send(Component.queue.shift());\n              }\n\n              // Global complete method\n              if (Component.requests && Component.requests.length) {\n                // Get index of this request in the container\n                var index = Component.requests.indexOf(httpRequest);\n                // Remove from the ajax requests container\n                Component.requests.splice(index, 1);\n                // Deprected: Last one?\n                if (!Component.requests.length) {\n                  // Object event\n                  if (options.complete && typeof options.complete == 'function') {\n                    options.complete(result);\n                  }\n                }\n                // Group requests\n                if (options.group) {\n                  if (Component.oncomplete && typeof Component.oncomplete[options.group] == 'function') {\n                    if (!Component.pending(options.group)) {\n                      Component.oncomplete[options.group]();\n                      Component.oncomplete[options.group] = null;\n                    }\n                  }\n                }\n                // Multiple requests controller\n                if (options.multiple && options.multiple.instance) {\n                  // Get index of this request in the container\n                  var index = options.multiple.instance.indexOf(httpRequest);\n                  // Remove from the ajax requests container\n                  options.multiple.instance.splice(index, 1);\n                  // If this is the last one call method complete\n                  if (!options.multiple.instance.length) {\n                    if (options.multiple.complete && typeof options.multiple.complete == 'function') {\n                      options.multiple.complete(result);\n                    }\n                  }\n                }\n              }\n            };\n\n            // Keep the options\n            httpRequest.options = options;\n            // Data\n            httpRequest.data = data;\n\n            // Queue\n            if (options.queue == true && Component.requests.length > 0) {\n              Component.queue.push(httpRequest);\n            } else {\n              Component.send(httpRequest);\n            }\n            return httpRequest;\n          };\n          Component.send = function (httpRequest) {\n            if (httpRequest.data) {\n              if (Array.isArray(httpRequest.data)) {\n                httpRequest.send(httpRequest.data.join('&'));\n              } else {\n                httpRequest.send(httpRequest.data);\n              }\n            } else {\n              httpRequest.send();\n            }\n            Component.requests.push(httpRequest);\n          };\n          Component.exists = function (url, __callback) {\n            var http = new XMLHttpRequest();\n            http.open('HEAD', url, false);\n            http.send();\n            if (http.status) {\n              __callback(http.status);\n            }\n          };\n          Component.pending = function (group) {\n            var n = 0;\n            var o = Component.requests;\n            if (o && o.length) {\n              for (var i = 0; i < o.length; i++) {\n                if (!group || group == o[i].options.group) {\n                  n++;\n                }\n              }\n            }\n            return n;\n          };\n          Component.oncomplete = {};\n          Component.requests = [];\n          Component.queue = [];\n          return Component;\n        }\n\n        /* harmony default export */\n        var ajax = Ajax();\n        ; // CONCATENATED MODULE: ./src/plugins/animation.js\n        function Animation() {\n          var Component = {\n            loading: {}\n          };\n          Component.loading.show = function (timeout) {\n            if (!Component.loading.element) {\n              Component.loading.element = document.createElement('div');\n              Component.loading.element.className = 'jloading';\n            }\n            document.body.appendChild(Component.loading.element);\n\n            // Max timeout in seconds\n            if (timeout > 0) {\n              setTimeout(function () {\n                obj.hide();\n              }, timeout * 1000);\n            }\n          };\n          Component.loading.hide = function () {\n            if (Component.loading.element && Component.loading.element.parentNode) {\n              document.body.removeChild(Component.loading.element);\n            }\n          };\n          Component.slideLeft = function (element, direction, done) {\n            if (direction == true) {\n              element.classList.add('slide-left-in');\n              setTimeout(function () {\n                element.classList.remove('slide-left-in');\n                if (typeof done == 'function') {\n                  done();\n                }\n              }, 400);\n            } else {\n              element.classList.add('slide-left-out');\n              setTimeout(function () {\n                element.classList.remove('slide-left-out');\n                if (typeof done == 'function') {\n                  done();\n                }\n              }, 400);\n            }\n          };\n          Component.slideRight = function (element, direction, done) {\n            if (direction == true) {\n              element.classList.add('slide-right-in');\n              setTimeout(function () {\n                element.classList.remove('slide-right-in');\n                if (typeof done == 'function') {\n                  done();\n                }\n              }, 400);\n            } else {\n              element.classList.add('slide-right-out');\n              setTimeout(function () {\n                element.classList.remove('slide-right-out');\n                if (typeof done == 'function') {\n                  done();\n                }\n              }, 400);\n            }\n          };\n          Component.slideTop = function (element, direction, done) {\n            if (direction == true) {\n              element.classList.add('slide-top-in');\n              setTimeout(function () {\n                element.classList.remove('slide-top-in');\n                if (typeof done == 'function') {\n                  done();\n                }\n              }, 400);\n            } else {\n              element.classList.add('slide-top-out');\n              setTimeout(function () {\n                element.classList.remove('slide-top-out');\n                if (typeof done == 'function') {\n                  done();\n                }\n              }, 400);\n            }\n          };\n          Component.slideBottom = function (element, direction, done) {\n            if (direction == true) {\n              element.classList.add('slide-bottom-in');\n              setTimeout(function () {\n                element.classList.remove('slide-bottom-in');\n                if (typeof done == 'function') {\n                  done();\n                }\n              }, 400);\n            } else {\n              element.classList.add('slide-bottom-out');\n              setTimeout(function () {\n                element.classList.remove('slide-bottom-out');\n                if (typeof done == 'function') {\n                  done();\n                }\n              }, 100);\n            }\n          };\n          Component.fadeIn = function (element, done) {\n            element.style.display = '';\n            element.classList.add('fade-in');\n            setTimeout(function () {\n              element.classList.remove('fade-in');\n              if (typeof done == 'function') {\n                done();\n              }\n            }, 2000);\n          };\n          Component.fadeOut = function (element, done) {\n            element.classList.add('fade-out');\n            setTimeout(function () {\n              element.style.display = 'none';\n              element.classList.remove('fade-out');\n              if (typeof done == 'function') {\n                done();\n              }\n            }, 1000);\n          };\n          return Component;\n        }\n\n        /* harmony default export */\n        var animation = Animation();\n        ; // CONCATENATED MODULE: ./src/plugins/mask.js\n\n        function Mask() {\n          // Currency\n          var tokens = {\n            // Text\n            text: ['@'],\n            // Currency tokens\n            currency: ['#(.{1})##0?(.{1}0+)?( ?;(.*)?)?', '#'],\n            // Percentage\n            percentage: ['0{1}(.{1}0+)?%'],\n            // Number\n            numeric: ['0{1}(.{1}0+)?'],\n            // Data tokens\n            datetime: ['YYYY', 'YYY', 'YY', 'MMMMM', 'MMMM', 'MMM', 'MM', 'DDDDD', 'DDDD', 'DDD', 'DD', 'DY', 'DAY', 'WD', 'D', 'Q', 'MONTH', 'MON', 'HH24', 'HH12', 'HH', '\\\\[H\\\\]', 'H', 'AM/PM', 'PM', 'AM', 'MI', 'SS', 'MS', 'Y', 'M'],\n            // Other\n            general: ['A', '0', '[0-9a-zA-Z\\$]+', '.']\n          };\n          var getDate = function () {\n            if (this.mask.toLowerCase().indexOf('[h]') !== -1) {\n              var m = 0;\n              if (this.date[4]) {\n                m = parseFloat(this.date[4] / 60);\n              }\n              var v = parseInt(this.date[3]) + m;\n              v /= 24;\n            } else if (!(this.date[0] && this.date[1] && this.date[2]) && (this.date[3] || this.date[4])) {\n              v = helpers.two(this.date[3]) + ':' + helpers.two(this.date[4]) + ':' + helpers.two(this.date[5]);\n            } else {\n              if (this.date[0] && this.date[1] && !this.date[2]) {\n                this.date[2] = 1;\n              }\n              v = helpers.two(this.date[0]) + '-' + helpers.two(this.date[1]) + '-' + helpers.two(this.date[2]);\n              if (this.date[3] || this.date[4] || this.date[5]) {\n                v += ' ' + helpers.two(this.date[3]) + ':' + helpers.two(this.date[4]) + ':' + helpers.two(this.date[5]);\n              }\n            }\n            return v;\n          };\n          var extractDate = function () {\n            var v = '';\n            if (!(this.date[0] && this.date[1] && this.date[2]) && (this.date[3] || this.date[4])) {\n              if (this.mask.toLowerCase().indexOf('[h]') !== -1) {\n                v = parseInt(this.date[3]);\n              } else {\n                v = parseInt(this.date[3]) % 24;\n              }\n              if (this.date[4]) {\n                v += parseFloat(this.date[4] / 60);\n              }\n              v /= 24;\n            } else if (this.date[0] || this.date[1] || this.date[2] || this.date[3] || this.date[4] || this.date[5]) {\n              if (this.date[0] && this.date[1] && !this.date[2]) {\n                this.date[2] = 1;\n              }\n              var t = helpers_date.now(this.date);\n              v = helpers_date.dateToNum(t);\n              if (this.date[4]) {\n                v += parseFloat(this.date[4] / 60);\n              }\n            }\n            if (isNaN(v)) {\n              v = '';\n            }\n            return v;\n          };\n          var isBlank = function (v) {\n            return v === null || v === '' || v === undefined ? true : false;\n          };\n          var isFormula = function (value) {\n            return ('' + value).chartAt(0) == '=';\n          };\n          var isNumeric = function (t) {\n            return t === 'currency' || t === 'percentage' || t === 'numeric' ? true : false;\n          };\n          /**\n           * Get the decimal defined in the mask configuration\n           */\n          var getDecimal = function (v) {\n            if (v && Number(v) == v) {\n              return '.';\n            } else {\n              if (this.options.decimal) {\n                return this.options.decimal;\n              } else {\n                if (this.locale) {\n                  var t = Intl.NumberFormat(this.locale).format(1.1);\n                  return this.options.decimal = t[1];\n                } else {\n                  if (!v) {\n                    v = this.mask;\n                  }\n                  var e = new RegExp('0{1}(.{1})0+', 'ig');\n                  var t = e.exec(v);\n                  if (t && t[1] && t[1].length == 1) {\n                    // Save decimal\n                    this.options.decimal = t[1];\n                    // Return decimal\n                    return t[1];\n                  } else {\n                    // Did not find any decimal last resort the default\n                    var e = new RegExp('#{1}(.{1})#+', 'ig');\n                    var t = e.exec(v);\n                    if (t && t[1] && t[1].length == 1) {\n                      if (t[1] === ',') {\n                        this.options.decimal = '.';\n                      } else {\n                        this.options.decimal = ',';\n                      }\n                    } else {\n                      this.options.decimal = '1.1'.toLocaleString().substring(1, 2);\n                    }\n                  }\n                }\n              }\n            }\n            if (this.options.decimal) {\n              return this.options.decimal;\n            } else {\n              return null;\n            }\n          };\n          var ParseValue = function (v, decimal) {\n            if (v == '') {\n              return '';\n            }\n\n            // Get decimal\n            if (!decimal) {\n              decimal = getDecimal.call(this);\n            }\n\n            // New value\n            v = ('' + v).split(decimal);\n\n            // Signal\n            var signal = v[0].match(/[-]+/g);\n            if (signal && signal.length) {\n              signal = true;\n            } else {\n              signal = false;\n            }\n            v[0] = v[0].match(/[0-9]+/g);\n            if (v[0]) {\n              if (signal) {\n                v[0].unshift('-');\n              }\n              v[0] = v[0].join('');\n            } else {\n              if (signal) {\n                v[0] = '-';\n              }\n            }\n            if (v[0] || v[1]) {\n              if (v[1] !== undefined) {\n                v[1] = v[1].match(/[0-9]+/g);\n                if (v[1]) {\n                  v[1] = v[1].join('');\n                } else {\n                  v[1] = '';\n                }\n              }\n            } else {\n              return '';\n            }\n            return v;\n          };\n          var FormatValue = function (v, event) {\n            if (v == '') {\n              return '';\n            }\n            // Get decimal\n            var d = getDecimal.call(this);\n            // Convert value\n            var o = this.options;\n            // Parse value\n            v = ParseValue.call(this, v);\n            if (v == '') {\n              return '';\n            }\n            // Temporary value\n            if (v[0]) {\n              var t = parseFloat(v[0] + '.1');\n              if (o.style == 'percent') {\n                t /= 100;\n              }\n            } else {\n              var t = null;\n            }\n            if ((v[0] == '-' || v[0] == '-00') && !v[1] && event && event.inputType == \"deleteContentBackward\") {\n              return '';\n            }\n            var n = new Intl.NumberFormat(this.locale, o).format(t);\n            n = n.split(d);\n            if (typeof n[1] !== 'undefined') {\n              var s = n[1].replace(/[0-9]*/g, '');\n              if (s) {\n                n[2] = s;\n              }\n            }\n            if (v[1] !== undefined) {\n              n[1] = d + v[1];\n            } else {\n              n[1] = '';\n            }\n            return n.join('');\n          };\n          var Format = function (e, event) {\n            var v = Value.call(e);\n            if (!v) {\n              return;\n            }\n\n            // Get decimal\n            var d = getDecimal.call(this);\n            var n = FormatValue.call(this, v, event);\n            var t = n.length - v.length;\n            var index = Caret.call(e) + t;\n            // Set value and update caret\n            Value.call(e, n, index, true);\n          };\n          var Extract = function (v) {\n            // Keep the raw value\n            var current = ParseValue.call(this, v);\n            if (current) {\n              // Negative values\n              if (current[0] === '-') {\n                current[0] = '-0';\n              }\n              return parseFloat(current.join('.'));\n            }\n            return null;\n          };\n\n          /**\n           * Caret getter and setter methods\n           */\n          var Caret = function (index, adjustNumeric) {\n            if (index === undefined) {\n              if (this.tagName == 'DIV') {\n                var pos = 0;\n                var s = window.getSelection();\n                if (s) {\n                  if (s.rangeCount !== 0) {\n                    var r = s.getRangeAt(0);\n                    var p = r.cloneRange();\n                    p.selectNodeContents(this);\n                    p.setEnd(r.endContainer, r.endOffset);\n                    pos = p.toString().length;\n                  }\n                }\n                return pos;\n              } else {\n                return this.selectionStart;\n              }\n            } else {\n              // Get the current value\n              var n = Value.call(this);\n\n              // Review the position\n              if (adjustNumeric) {\n                var p = null;\n                for (var i = 0; i < n.length; i++) {\n                  if (n[i].match(/[\\-0-9]/g) || n[i] == '.' || n[i] == ',') {\n                    p = i;\n                  }\n                }\n\n                // If the string has no numbers\n                if (p === null) {\n                  p = n.indexOf(' ');\n                }\n                if (index >= p) {\n                  index = p + 1;\n                }\n              }\n\n              // Do not update caret\n              if (index > n.length) {\n                index = n.length;\n              }\n              if (index) {\n                // Set caret\n                if (this.tagName == 'DIV') {\n                  var s = window.getSelection();\n                  var r = document.createRange();\n                  if (this.childNodes[0]) {\n                    r.setStart(this.childNodes[0], index);\n                    s.removeAllRanges();\n                    s.addRange(r);\n                  }\n                } else {\n                  this.selectionStart = index;\n                  this.selectionEnd = index;\n                }\n              }\n            }\n          };\n\n          /**\n           * Value getter and setter method\n           */\n          var Value = function (v, updateCaret, adjustNumeric) {\n            if (this.tagName == 'DIV') {\n              if (v === undefined) {\n                var v = this.innerText;\n                if (this.value && this.value.length > v.length) {\n                  v = this.value;\n                }\n                return v;\n              } else {\n                if (this.innerText !== v) {\n                  this.innerText = v;\n                  if (updateCaret) {\n                    Caret.call(this, updateCaret, adjustNumeric);\n                  }\n                }\n              }\n            } else {\n              if (v === undefined) {\n                return this.value;\n              } else {\n                if (this.value !== v) {\n                  this.value = v;\n                  if (updateCaret) {\n                    Caret.call(this, updateCaret, adjustNumeric);\n                  }\n                }\n              }\n            }\n          };\n\n          // Labels\n          var weekDaysFull = helpers_date.weekdays;\n          var weekDays = helpers_date.weekdaysShort;\n          var monthsFull = helpers_date.months;\n          var months = helpers_date.monthsShort;\n          var parser = {\n            'YEAR': function (v, s) {\n              var y = '' + new Date().getFullYear();\n              if (typeof this.values[this.index] === 'undefined') {\n                this.values[this.index] = '';\n              }\n              if (parseInt(v) >= 0 && parseInt(v) <= 10) {\n                if (this.values[this.index].length < s) {\n                  this.values[this.index] += v;\n                }\n              }\n              if (this.values[this.index].length == s) {\n                if (s == 2) {\n                  var y = y.substr(0, 2) + this.values[this.index];\n                } else if (s == 3) {\n                  var y = y.substr(0, 1) + this.values[this.index];\n                } else if (s == 4) {\n                  var y = this.values[this.index];\n                }\n                this.date[0] = y;\n                this.index++;\n              }\n            },\n            'YYYY': function (v) {\n              parser.YEAR.call(this, v, 4);\n            },\n            'YYY': function (v) {\n              parser.YEAR.call(this, v, 3);\n            },\n            'YY': function (v) {\n              parser.YEAR.call(this, v, 2);\n            },\n            'FIND': function (v, a) {\n              if (isBlank(this.values[this.index])) {\n                this.values[this.index] = '';\n              }\n              if (this.event && this.event.inputType && this.event.inputType.indexOf('delete') > -1) {\n                this.values[this.index] += v;\n                return;\n              }\n              var pos = 0;\n              var count = 0;\n              var value = (this.values[this.index] + v).toLowerCase();\n              for (var i = 0; i < a.length; i++) {\n                if (a[i].toLowerCase().indexOf(value) == 0) {\n                  pos = i;\n                  count++;\n                }\n              }\n              if (count > 1) {\n                this.values[this.index] += v;\n              } else if (count == 1) {\n                // Jump number of chars\n                var t = a[pos].length - this.values[this.index].length - 1;\n                this.position += t;\n                this.values[this.index] = a[pos];\n                this.index++;\n                return pos;\n              }\n            },\n            'MMM': function (v) {\n              var ret = parser.FIND.call(this, v, months);\n              if (ret !== undefined) {\n                this.date[1] = ret + 1;\n              }\n            },\n            'MON': function (v) {\n              parser['MMM'].call(this, v);\n            },\n            'MMMM': function (v) {\n              var ret = parser.FIND.call(this, v, monthsFull);\n              if (ret !== undefined) {\n                this.date[1] = ret + 1;\n              }\n            },\n            'MONTH': function (v) {\n              parser['MMMM'].call(this, v);\n            },\n            'MMMMM': function (v) {\n              if (isBlank(this.values[this.index])) {\n                this.values[this.index] = '';\n              }\n              var pos = 0;\n              var count = 0;\n              var value = (this.values[this.index] + v).toLowerCase();\n              for (var i = 0; i < monthsFull.length; i++) {\n                if (monthsFull[i][0].toLowerCase().indexOf(value) == 0) {\n                  this.values[this.index] = monthsFull[i][0];\n                  this.date[1] = i + 1;\n                  this.index++;\n                  break;\n                }\n              }\n            },\n            'MM': function (v) {\n              if (isBlank(this.values[this.index])) {\n                if (parseInt(v) > 1 && parseInt(v) < 10) {\n                  this.date[1] = this.values[this.index] = '0' + v;\n                  this.index++;\n                } else if (parseInt(v) < 2) {\n                  this.values[this.index] = v;\n                }\n              } else {\n                if (this.values[this.index] == 1 && parseInt(v) < 3) {\n                  this.date[1] = this.values[this.index] += v;\n                  this.index++;\n                } else if (this.values[this.index] == 0 && parseInt(v) > 0 && parseInt(v) < 10) {\n                  this.date[1] = this.values[this.index] += v;\n                  this.index++;\n                }\n              }\n            },\n            'M': function (v) {\n              var test = false;\n              if (parseInt(v) >= 0 && parseInt(v) < 10) {\n                if (isBlank(this.values[this.index])) {\n                  this.values[this.index] = v;\n                  if (v > 1) {\n                    this.date[1] = this.values[this.index];\n                    this.index++;\n                  }\n                } else {\n                  if (this.values[this.index] == 1 && parseInt(v) < 3) {\n                    this.date[1] = this.values[this.index] += v;\n                    this.index++;\n                  } else if (this.values[this.index] == 0 && parseInt(v) > 0) {\n                    this.date[1] = this.values[this.index] += v;\n                    this.index++;\n                  } else {\n                    var test = true;\n                  }\n                }\n              } else {\n                var test = true;\n              }\n\n              // Re-test\n              if (test == true) {\n                var t = parseInt(this.values[this.index]);\n                if (t > 0 && t < 12) {\n                  this.date[2] = this.values[this.index];\n                  this.index++;\n                  // Repeat the character\n                  this.position--;\n                }\n              }\n            },\n            'D': function (v) {\n              var test = false;\n              if (parseInt(v) >= 0 && parseInt(v) < 10) {\n                if (isBlank(this.values[this.index])) {\n                  this.values[this.index] = v;\n                  if (parseInt(v) > 3) {\n                    this.date[2] = this.values[this.index];\n                    this.index++;\n                  }\n                } else {\n                  if (this.values[this.index] == 3 && parseInt(v) < 2) {\n                    this.date[2] = this.values[this.index] += v;\n                    this.index++;\n                  } else if (this.values[this.index] == 1 || this.values[this.index] == 2) {\n                    this.date[2] = this.values[this.index] += v;\n                    this.index++;\n                  } else if (this.values[this.index] == 0 && parseInt(v) > 0) {\n                    this.date[2] = this.values[this.index] += v;\n                    this.index++;\n                  } else {\n                    var test = true;\n                  }\n                }\n              } else {\n                var test = true;\n              }\n\n              // Re-test\n              if (test == true) {\n                var t = parseInt(this.values[this.index]);\n                if (t > 0 && t < 32) {\n                  this.date[2] = this.values[this.index];\n                  this.index++;\n                  // Repeat the character\n                  this.position--;\n                }\n              }\n            },\n            'DD': function (v) {\n              if (isBlank(this.values[this.index])) {\n                if (parseInt(v) > 3 && parseInt(v) < 10) {\n                  this.date[2] = this.values[this.index] = '0' + v;\n                  this.index++;\n                } else if (parseInt(v) < 10) {\n                  this.values[this.index] = v;\n                }\n              } else {\n                if (this.values[this.index] == 3 && parseInt(v) < 2) {\n                  this.date[2] = this.values[this.index] += v;\n                  this.index++;\n                } else if ((this.values[this.index] == 1 || this.values[this.index] == 2) && parseInt(v) < 10) {\n                  this.date[2] = this.values[this.index] += v;\n                  this.index++;\n                } else if (this.values[this.index] == 0 && parseInt(v) > 0 && parseInt(v) < 10) {\n                  this.date[2] = this.values[this.index] += v;\n                  this.index++;\n                }\n              }\n            },\n            'DDD': function (v) {\n              parser.FIND.call(this, v, weekDays);\n            },\n            'DY': function (v) {\n              parser['DDD'].call(this, v);\n            },\n            'DDDD': function (v) {\n              parser.FIND.call(this, v, weekDaysFull);\n            },\n            'DAY': function (v) {\n              parser['DDDD'].call(this, v);\n            },\n            'HH12': function (v, two) {\n              if (isBlank(this.values[this.index])) {\n                if (parseInt(v) > 1 && parseInt(v) < 10) {\n                  if (two) {\n                    v = 0 + v;\n                  }\n                  this.date[3] = this.values[this.index] = v;\n                  this.index++;\n                } else if (parseInt(v) < 10) {\n                  this.values[this.index] = v;\n                }\n              } else {\n                if (this.values[this.index] == 1 && parseInt(v) < 3) {\n                  this.date[3] = this.values[this.index] += v;\n                  this.index++;\n                } else if (this.values[this.index] < 1 && parseInt(v) < 10) {\n                  this.date[3] = this.values[this.index] += v;\n                  this.index++;\n                }\n              }\n            },\n            'HH24': function (v, two) {\n              var test = false;\n              if (parseInt(v) >= 0 && parseInt(v) < 10) {\n                if (this.values[this.index] == null || this.values[this.index] == '') {\n                  if (parseInt(v) > 2 && parseInt(v) < 10) {\n                    if (two) {\n                      v = 0 + v;\n                    }\n                    this.date[3] = this.values[this.index] = v;\n                    this.index++;\n                  } else if (parseInt(v) < 10) {\n                    this.values[this.index] = v;\n                  }\n                } else {\n                  if (this.values[this.index] == 2 && parseInt(v) < 4) {\n                    this.date[3] = this.values[this.index] += v;\n                    this.index++;\n                  } else if (this.values[this.index] < 2 && parseInt(v) < 10) {\n                    this.date[3] = this.values[this.index] += v;\n                    this.index++;\n                  }\n                }\n              }\n            },\n            'HH': function (v) {\n              parser['HH24'].call(this, v, 1);\n            },\n            'H': function (v) {\n              parser['HH24'].call(this, v, 0);\n            },\n            '\\\\[H\\\\]': function (v) {\n              if (this.values[this.index] == undefined) {\n                this.values[this.index] = '';\n              }\n              if (v.match(/[0-9]/g)) {\n                this.date[3] = this.values[this.index] += v;\n              } else {\n                if (this.values[this.index].match(/[0-9]/g)) {\n                  this.date[3] = this.values[this.index];\n                  this.index++;\n                  // Repeat the character\n                  this.position--;\n                }\n              }\n            },\n            'N60': function (v, i) {\n              if (this.values[this.index] == null || this.values[this.index] == '') {\n                if (parseInt(v) > 5 && parseInt(v) < 10) {\n                  this.date[i] = this.values[this.index] = '0' + v;\n                  this.index++;\n                } else if (parseInt(v) < 10) {\n                  this.values[this.index] = v;\n                }\n              } else {\n                if (parseInt(v) < 10) {\n                  this.date[i] = this.values[this.index] += v;\n                  this.index++;\n                }\n              }\n            },\n            'MI': function (v) {\n              parser.N60.call(this, v, 4);\n            },\n            'SS': function (v) {\n              parser.N60.call(this, v, 5);\n            },\n            'AM/PM': function (v) {\n              this.values[this.index] = '';\n              if (v) {\n                if (this.date[3] > 12) {\n                  this.values[this.index] = 'PM';\n                } else {\n                  this.values[this.index] = 'AM';\n                }\n              }\n              this.index++;\n            },\n            'WD': function (v) {\n              if (typeof this.values[this.index] === 'undefined') {\n                this.values[this.index] = '';\n              }\n              if (parseInt(v) >= 0 && parseInt(v) < 7) {\n                this.values[this.index] = v;\n              }\n              if (this.value[this.index].length == 1) {\n                this.index++;\n              }\n            },\n            '0{1}(.{1}0+)?': function (v) {\n              // Get decimal\n              var decimal = getDecimal.call(this);\n              // Negative number\n              var neg = false;\n              // Create if is blank\n              if (isBlank(this.values[this.index])) {\n                this.values[this.index] = '';\n              } else {\n                if (this.values[this.index] == '-') {\n                  neg = true;\n                }\n              }\n              var current = ParseValue.call(this, this.values[this.index], decimal);\n              if (current) {\n                this.values[this.index] = current.join(decimal);\n              }\n              // New entry\n              if (parseInt(v) >= 0 && parseInt(v) < 10) {\n                // Replace the zero for a number\n                if (this.values[this.index] == '0' && v > 0) {\n                  this.values[this.index] = '';\n                } else if (this.values[this.index] == '-0' && v > 0) {\n                  this.values[this.index] = '-';\n                }\n                // Don't add up zeros because does not mean anything here\n                if (this.values[this.index] != '0' && this.values[this.index] != '-0' || v == decimal) {\n                  this.values[this.index] += v;\n                }\n              } else if (decimal && v == decimal) {\n                if (this.values[this.index].indexOf(decimal) == -1) {\n                  if (!this.values[this.index]) {\n                    this.values[this.index] = '0';\n                  }\n                  this.values[this.index] += v;\n                }\n              } else if (v == '-') {\n                // Negative signed\n                neg = true;\n              }\n              if (neg === true && this.values[this.index][0] !== '-') {\n                this.values[this.index] = '-' + this.values[this.index];\n              }\n            },\n            '0{1}(.{1}0+)?%': function (v) {\n              parser['0{1}(.{1}0+)?'].call(this, v);\n              if (this.values[this.index].match(/[\\-0-9]/g)) {\n                if (this.values[this.index] && this.values[this.index].indexOf('%') == -1) {\n                  this.values[this.index] += '%';\n                }\n              } else {\n                this.values[this.index] = '';\n              }\n            },\n            '#(.{1})##0?(.{1}0+)?( ?;(.*)?)?': function (v) {\n              // Parse number\n              parser['0{1}(.{1}0+)?'].call(this, v);\n              // Get decimal\n              var decimal = getDecimal.call(this);\n              // Get separator\n              var separator = this.tokens[this.index].substr(1, 1);\n              // Negative\n              var negative = this.values[this.index][0] === '-' ? true : false;\n              // Current value\n              var current = ParseValue.call(this, this.values[this.index], decimal);\n\n              // Get main and decimal parts\n              if (current !== '') {\n                // Format number\n                var n = current[0].match(/[0-9]/g);\n                if (n) {\n                  // Format\n                  n = n.join('');\n                  var t = [];\n                  var s = 0;\n                  for (var j = n.length - 1; j >= 0; j--) {\n                    t.push(n[j]);\n                    s++;\n                    if (!(s % 3)) {\n                      t.push(separator);\n                    }\n                  }\n                  t = t.reverse();\n                  current[0] = t.join('');\n                  if (current[0].substr(0, 1) == separator) {\n                    current[0] = current[0].substr(1);\n                  }\n                } else {\n                  current[0] = '';\n                }\n\n                // Value\n                this.values[this.index] = current.join(decimal);\n\n                // Negative\n                if (negative) {\n                  this.values[this.index] = '-' + this.values[this.index];\n                }\n              }\n            },\n            '0': function (v) {\n              if (v.match(/[0-9]/g)) {\n                this.values[this.index] = v;\n                this.index++;\n              }\n            },\n            '[0-9a-zA-Z$]+': function (v) {\n              if (isBlank(this.values[this.index])) {\n                this.values[this.index] = '';\n              }\n              var t = this.tokens[this.index];\n              var s = this.values[this.index];\n              var i = s.length;\n              if (t[i] == v) {\n                this.values[this.index] += v;\n                if (this.values[this.index] == t) {\n                  this.index++;\n                }\n              } else {\n                this.values[this.index] = t;\n                this.index++;\n                if (v.match(/[\\-0-9]/g)) {\n                  // Repeat the character\n                  this.position--;\n                }\n              }\n            },\n            'A': function (v) {\n              if (v.match(/[a-zA-Z]/gi)) {\n                this.values[this.index] = v;\n                this.index++;\n              }\n            },\n            '.': function (v) {\n              parser['[0-9a-zA-Z$]+'].call(this, v);\n            },\n            '@': function (v) {\n              if (isBlank(this.values[this.index])) {\n                this.values[this.index] = '';\n              }\n              this.values[this.index] += v;\n            }\n          };\n\n          /**\n           * Get the tokens in the mask string\n           */\n          var getTokens = function (str) {\n            if (this.type == 'general') {\n              var t = [].concat(tokens.general);\n            } else {\n              var t = [].concat(tokens.currency, tokens.datetime, tokens.percentage, tokens.numeric, tokens.text, tokens.general);\n            }\n            // Expression to extract all tokens from the string\n            var e = new RegExp(t.join('|'), 'gi');\n            // Extract\n            return str.match(e);\n          };\n\n          /**\n           * Get the method of one given token\n           */\n          var getMethod = function (str) {\n            if (!this.type) {\n              var types = Object.keys(tokens);\n            } else if (this.type == 'text') {\n              var types = ['text'];\n            } else if (this.type == 'general') {\n              var types = ['general'];\n            } else if (this.type == 'datetime') {\n              var types = ['numeric', 'datetime', 'general'];\n            } else {\n              var types = ['currency', 'percentage', 'numeric', 'general'];\n            }\n\n            // Found\n            for (var i = 0; i < types.length; i++) {\n              var type = types[i];\n              for (var j = 0; j < tokens[type].length; j++) {\n                var e = new RegExp(tokens[type][j], 'gi');\n                var r = str.match(e);\n                if (r) {\n                  return {\n                    type: type,\n                    method: tokens[type][j]\n                  };\n                }\n              }\n            }\n          };\n\n          /**\n           * Identify each method for each token\n           */\n          var getMethods = function (t) {\n            var result = [];\n            for (var i = 0; i < t.length; i++) {\n              var m = getMethod.call(this, t[i]);\n              if (m) {\n                result.push(m.method);\n              } else {\n                result.push(null);\n              }\n            }\n\n            // Compatibility with excel\n            for (var i = 0; i < result.length; i++) {\n              if (result[i] == 'MM') {\n                // Not a month, correct to minutes\n                if (result[i - 1] && result[i - 1].indexOf('H') >= 0) {\n                  result[i] = 'MI';\n                } else if (result[i - 2] && result[i - 2].indexOf('H') >= 0) {\n                  result[i] = 'MI';\n                } else if (result[i + 1] && result[i + 1].indexOf('S') >= 0) {\n                  result[i] = 'MI';\n                } else if (result[i + 2] && result[i + 2].indexOf('S') >= 0) {\n                  result[i] = 'MI';\n                }\n              }\n            }\n            return result;\n          };\n\n          /**\n           * Get the type for one given token\n           */\n          var getType = function (str) {\n            var m = getMethod.call(this, str);\n            if (m) {\n              var type = m.type;\n            }\n            if (type) {\n              var numeric = 0;\n              // Make sure the correct type\n              var t = getTokens.call(this, str);\n              for (var i = 0; i < t.length; i++) {\n                m = getMethod.call(this, t[i]);\n                if (m && isNumeric(m.type)) {\n                  numeric++;\n                }\n              }\n              if (numeric > 1) {\n                type = 'general';\n              }\n            }\n            return type;\n          };\n\n          /**\n           * Parse character per character using the detected tokens in the mask\n           */\n          var parse = function () {\n            // Parser method for this position\n            if (typeof parser[this.methods[this.index]] == 'function') {\n              parser[this.methods[this.index]].call(this, this.value[this.position]);\n              this.position++;\n            } else {\n              this.values[this.index] = this.tokens[this.index];\n              this.index++;\n            }\n          };\n          var isFormula = function (value) {\n            var v = ('' + value)[0];\n            return v == '=' ? true : false;\n          };\n          var toPlainString = function (num) {\n            return ('' + +num).replace(/(-?)(\\d*)\\.?(\\d*)e([+-]\\d+)/, function (a, b, c, d, e) {\n              return e < 0 ? b + '0.' + Array(1 - e - c.length).join(0) + c + d : b + c + d + Array(e - d.length + 1).join(0);\n            });\n          };\n\n          /**\n           * Mask function\n           * @param {mixed|string} JS input or a string to be parsed\n           * @param {object|string} When the first param is a string, the second is the mask or object with the mask options\n           */\n          var obj = function (e, config, returnObject) {\n            // Options\n            var r = null;\n            var t = null;\n            var o = {\n              // Element\n              input: null,\n              // Current value\n              value: null,\n              // Mask options\n              options: {},\n              // New values for each token found\n              values: [],\n              // Token position\n              index: 0,\n              // Character position\n              position: 0,\n              // Date raw values\n              date: [0, 0, 0, 0, 0, 0],\n              // Raw number for the numeric values\n              number: 0\n            };\n\n            // This is a JavaScript Event\n            if (typeof e == 'object') {\n              // Element\n              o.input = e.target;\n              // Current value\n              o.value = Value.call(e.target);\n              // Current caret position\n              o.caret = Caret.call(e.target);\n              // Mask\n              if (t = e.target.getAttribute('data-mask')) {\n                o.mask = t;\n              }\n              // Type\n              if (t = e.target.getAttribute('data-type')) {\n                o.type = t;\n              }\n              // Options\n              if (e.target.mask) {\n                if (e.target.mask.options) {\n                  o.options = e.target.mask.options;\n                }\n                if (e.target.mask.locale) {\n                  o.locale = e.target.mask.locale;\n                }\n              } else {\n                // Locale\n                if (t = e.target.getAttribute('data-locale')) {\n                  o.locale = t;\n                  if (o.mask) {\n                    o.options.style = o.mask;\n                  }\n                }\n              }\n              // Extra configuration\n              if (e.target.attributes && e.target.attributes.length) {\n                for (var i = 0; i < e.target.attributes.length; i++) {\n                  var k = e.target.attributes[i].name;\n                  var v = e.target.attributes[i].value;\n                  if (k.substr(0, 4) == 'data') {\n                    o.options[k.substr(5)] = v;\n                  }\n                }\n              }\n            } else {\n              // Options\n              if (typeof config == 'string') {\n                // Mask\n                o.mask = config;\n              } else {\n                // Mask\n                var k = Object.keys(config);\n                for (var i = 0; i < k.length; i++) {\n                  o[k[i]] = config[k[i]];\n                }\n              }\n              if (typeof e === 'number') {\n                // Get decimal\n                getDecimal.call(o, o.mask);\n                // Replace to the correct decimal\n                e = ('' + e).replace('.', o.options.decimal);\n              }\n\n              // Current\n              o.value = e;\n              if (o.input) {\n                // Value\n                Value.call(o.input, e);\n                // Focus\n                helpers.focus(o.input);\n                // Caret\n                o.caret = Caret.call(o.input);\n              }\n            }\n\n            // Mask detected start the process\n            if (!isFormula(o.value) && (o.mask || o.locale)) {\n              // Compatibility fixes\n              if (o.mask) {\n                // Remove []\n                o.mask = o.mask.replace(new RegExp(/\\[h]/), '|h|');\n                o.mask = o.mask.replace(new RegExp(/\\[.*?\\]/), '');\n                o.mask = o.mask.replace(new RegExp(/\\|h\\|/), '[h]');\n                if (o.mask.indexOf(';') !== -1) {\n                  var t = o.mask.split(';');\n                  o.mask = t[0];\n                }\n                // Excel mask TODO: Improve\n                if (o.mask.indexOf('##') !== -1) {\n                  var d = o.mask.split(';');\n                  if (d[0]) {\n                    d[0] = d[0].replace('*', '\\t');\n                    d[0] = d[0].replace(new RegExp(/_-/g), ' ');\n                    d[0] = d[0].replace(new RegExp(/_/g), '');\n                    d[0] = d[0].replace('##0.###', '##0.000');\n                    d[0] = d[0].replace('##0.##', '##0.00');\n                    d[0] = d[0].replace('##0.#', '##0.0');\n                    d[0] = d[0].replace('##0,###', '##0,000');\n                    d[0] = d[0].replace('##0,##', '##0,00');\n                    d[0] = d[0].replace('##0,#', '##0,0');\n                  }\n                  o.mask = d[0];\n                }\n                // Get type\n                if (!o.type) {\n                  o.type = getType.call(o, o.mask);\n                }\n                // Get tokens\n                o.tokens = getTokens.call(o, o.mask);\n              }\n\n              // On new input\n              if (typeof e !== 'object' || !e.inputType || !e.inputType.indexOf('insert') || !e.inputType.indexOf('delete')) {\n                // Start transformation\n                if (o.locale) {\n                  if (o.input) {\n                    Format.call(o, o.input, e);\n                  } else {\n                    var newValue = FormatValue.call(o, o.value);\n                  }\n                } else {\n                  // Get tokens\n                  o.methods = getMethods.call(o, o.tokens);\n                  o.event = e;\n\n                  // Go through all tokes\n                  while (o.position < o.value.length && typeof o.tokens[o.index] !== 'undefined') {\n                    // Get the appropriate parser\n                    parse.call(o);\n                  }\n\n                  // New value\n                  var newValue = o.values.join('');\n\n                  // Add tokens to the end of string only if string is not empty\n                  if (isNumeric(o.type) && newValue !== '') {\n                    // Complement things in the end of the mask\n                    while (typeof o.tokens[o.index] !== 'undefined') {\n                      var t = getMethod.call(o, o.tokens[o.index]);\n                      if (t && t.type == 'general') {\n                        o.values[o.index] = o.tokens[o.index];\n                      }\n                      o.index++;\n                    }\n                    var adjustNumeric = true;\n                  } else {\n                    var adjustNumeric = false;\n                  }\n\n                  // New value\n                  newValue = o.values.join('');\n\n                  // Reset value\n                  if (o.input) {\n                    t = newValue.length - o.value.length;\n                    if (t > 0) {\n                      var caret = o.caret + t;\n                    } else {\n                      var caret = o.caret;\n                    }\n                    Value.call(o.input, newValue, caret, adjustNumeric);\n                  }\n                }\n              }\n\n              // Update raw data\n              if (o.input) {\n                var label = null;\n                if (isNumeric(o.type)) {\n                  // Extract the number\n                  o.number = Extract.call(o, Value.call(o.input));\n                  // Keep the raw data as a property of the tag\n                  if (o.type == 'percentage') {\n                    label = o.number / 100;\n                  } else {\n                    label = o.number;\n                  }\n                } else if (o.type == 'datetime') {\n                  label = getDate.call(o);\n                  if (o.date[0] && o.date[1] && o.date[2]) {\n                    o.input.setAttribute('data-completed', true);\n                  }\n                }\n                if (label) {\n                  o.input.setAttribute('data-value', label);\n                }\n              }\n              if (newValue !== undefined) {\n                if (returnObject) {\n                  return o;\n                } else {\n                  return newValue;\n                }\n              }\n            }\n          };\n\n          // Get the type of the mask\n          obj.getType = getType;\n\n          // Extract the tokens from a mask\n          obj.prepare = function (str, o) {\n            if (!o) {\n              o = {};\n            }\n            return getTokens.call(o, str);\n          };\n\n          /**\n           * Apply the mask to a element (legacy)\n           */\n          obj.apply = function (e) {\n            var v = Value.call(e.target);\n            if (e.key.length == 1) {\n              v += e.key;\n            }\n            Value.call(e.target, obj(v, e.target.getAttribute('data-mask')));\n          };\n\n          /**\n           * Legacy support\n           */\n          obj.run = function (value, mask, decimal) {\n            return obj(value, {\n              mask: mask,\n              decimal: decimal\n            });\n          };\n\n          /**\n           * Extract number from masked string\n           */\n          obj.extract = function (v, options, returnObject) {\n            if (isBlank(v)) {\n              return v;\n            }\n            if (typeof options != 'object') {\n              return v;\n            } else {\n              options = Object.assign({}, options);\n              if (!options.options) {\n                options.options = {};\n              }\n            }\n\n            // Compatibility\n            if (!options.mask && options.format) {\n              options.mask = options.format;\n            }\n\n            // Remove []\n            if (options.mask) {\n              if (options.mask.indexOf(';') !== -1) {\n                var t = options.mask.split(';');\n                options.mask = t[0];\n              }\n              options.mask = options.mask.replace(new RegExp(/\\[h]/), '|h|');\n              options.mask = options.mask.replace(new RegExp(/\\[.*?\\]/), '');\n              options.mask = options.mask.replace(new RegExp(/\\|h\\|/), '[h]');\n            }\n\n            // Get decimal\n            getDecimal.call(options, options.mask);\n            var type = null;\n            var value = null;\n            if (options.type == 'percent' || options.options.style == 'percent') {\n              type = 'percentage';\n            } else if (options.mask) {\n              type = getType.call(options, options.mask);\n            }\n            if (type === 'general') {\n              var o = obj(v, options, true);\n              value = v;\n            } else if (type === 'datetime') {\n              if (v instanceof Date) {\n                v = obj.getDateString(v, options.mask);\n              }\n              var o = obj(v, options, true);\n              if (helpers.isNumeric(v)) {\n                value = v;\n              } else {\n                value = extractDate.call(o);\n              }\n            } else {\n              value = Extract.call(options, v);\n              // Percentage\n              if (type == 'percentage') {\n                value /= 100;\n              }\n              var o = options;\n            }\n            o.value = value;\n            if (!o.type && type) {\n              o.type = type;\n            }\n            if (returnObject) {\n              return o;\n            } else {\n              return value;\n            }\n          };\n\n          /**\n           * Render\n           */\n          obj.render = function (value, options, fullMask) {\n            if (isBlank(value)) {\n              return value;\n            }\n            if (typeof options != 'object') {\n              return value;\n            } else {\n              options = Object.assign({}, options);\n              if (!options.options) {\n                options.options = {};\n              }\n            }\n\n            // Compatibility\n            if (!options.mask && options.format) {\n              options.mask = options.format;\n            }\n\n            // Remove []\n            if (options.mask) {\n              if (options.mask.indexOf(';') !== -1) {\n                var t = options.mask.split(';');\n                options.mask = t[0];\n              }\n              options.mask = options.mask.replace(new RegExp(/\\[h]/), '|h|');\n              options.mask = options.mask.replace(new RegExp(/\\[.*?\\]/), '');\n              options.mask = options.mask.replace(new RegExp(/\\|h\\|/), '[h]');\n            }\n            var type = null;\n            if (options.type == 'percent' || options.options.style == 'percent') {\n              type = 'percentage';\n            } else if (options.mask) {\n              type = getType.call(options, options.mask);\n            } else if (value instanceof Date) {\n              type = 'datetime';\n            }\n\n            // Fill with blanks\n            var fillWithBlanks = false;\n            if (type == 'datetime' || options.type == 'calendar') {\n              var t = obj.getDateString(value, options.mask);\n              if (t) {\n                value = t;\n              }\n              if (options.mask && fullMask) {\n                fillWithBlanks = true;\n              }\n            } else {\n              // Percentage\n              if (type == 'percentage') {\n                value *= 100;\n              }\n              // Number of decimal places\n              if (typeof value === 'number') {\n                var t = null;\n                if (options.mask && fullMask && ('' + value).indexOf('e') === -1) {\n                  var d = getDecimal.call(options, options.mask);\n                  if (options.mask.indexOf(d) !== -1) {\n                    d = options.mask.split(d);\n                    d = '' + d[1].match(/[0-9]+/g);\n                    d = d.length;\n                    t = value.toFixed(d);\n                  } else {\n                    t = value.toFixed(0);\n                  }\n                } else if (options.locale && fullMask) {\n                  // Append zeros\n                  var d = ('' + value).split('.');\n                  if (options.options) {\n                    if (typeof d[1] === 'undefined') {\n                      d[1] = '';\n                    }\n                    var len = d[1].length;\n                    if (options.options.minimumFractionDigits > len) {\n                      for (var i = 0; i < options.options.minimumFractionDigits - len; i++) {\n                        d[1] += '0';\n                      }\n                    }\n                  }\n                  if (!d[1].length) {\n                    t = d[0];\n                  } else {\n                    t = d.join('.');\n                  }\n                  var len = d[1].length;\n                  if (options.options && options.options.maximumFractionDigits < len) {\n                    t = parseFloat(t).toFixed(options.options.maximumFractionDigits);\n                  }\n                } else {\n                  t = toPlainString(value);\n                }\n                if (t !== null) {\n                  value = t;\n                  // Get decimal\n                  getDecimal.call(options, options.mask);\n                  // Replace to the correct decimal\n                  if (options.options.decimal) {\n                    value = value.replace('.', options.options.decimal);\n                  }\n                }\n              } else {\n                if (options.mask && fullMask) {\n                  fillWithBlanks = true;\n                }\n              }\n            }\n            if (fillWithBlanks) {\n              var s = options.mask.length - value.length;\n              if (s > 0) {\n                for (var i = 0; i < s; i++) {\n                  value += ' ';\n                }\n              }\n            }\n            value = obj(value, options);\n\n            // Numeric mask, number of zeros\n            if (fullMask && type === 'numeric') {\n              var maskZeros = options.mask.match(new RegExp(/^[0]+$/gm));\n              if (maskZeros && maskZeros.length === 1) {\n                var maskLength = maskZeros[0].length;\n                if (maskLength > 3) {\n                  value = '' + value;\n                  while (value.length < maskLength) {\n                    value = '0' + value;\n                  }\n                }\n              }\n            }\n            return value;\n          };\n          obj.set = function (e, m) {\n            if (m) {\n              e.setAttribute('data-mask', m);\n              // Reset the value\n              var event = new Event('input', {\n                bubbles: true,\n                cancelable: true\n              });\n              e.dispatchEvent(event);\n            }\n          };\n\n          // Helper to extract date from a string\n          obj.extractDateFromString = function (date, format) {\n            var o = obj(date, {\n              mask: format\n            }, true);\n\n            // Check if in format Excel (Need difference with format date or type detected is numeric)\n            if (date > 0 && Number(date) == date && (o.values.join(\"\") !== o.value || o.type == \"numeric\")) {\n              var d = new Date(Math.round((date - 25569) * 86400 * 1000));\n              return d.getFullYear() + \"-\" + helpers.two(d.getMonth()) + \"-\" + helpers.two(d.getDate()) + ' 00:00:00';\n            }\n            var complete = false;\n            if (o.values.length === o.tokens.length && o.values[o.values.length - 1].length >= o.tokens[o.tokens.length - 1].length) {\n              complete = true;\n            }\n            if (o.date[0] && o.date[1] && (o.date[2] || complete)) {\n              if (!o.date[2]) {\n                o.date[2] = 1;\n              }\n              return o.date[0] + '-' + helpers.two(o.date[1]) + '-' + helpers.two(o.date[2]) + ' ' + helpers.two(o.date[3]) + ':' + helpers.two(o.date[4]) + ':' + helpers.two(o.date[5]);\n            }\n            return '';\n          };\n\n          // Helper to convert date into string\n          obj.getDateString = function (value, options) {\n            if (!options) {\n              var options = {};\n            }\n\n            // Labels\n            if (options && typeof options == 'object') {\n              var format = options.format;\n            } else {\n              var format = options;\n            }\n            if (!format) {\n              format = 'YYYY-MM-DD';\n            }\n\n            // Convert to number of hours\n            if (format.indexOf('[h]') >= 0) {\n              var result = 0;\n              if (value && helpers.isNumeric(value)) {\n                result = parseFloat(24 * Number(value));\n                if (format.indexOf('mm') >= 0) {\n                  var h = ('' + result).split('.');\n                  if (h[1]) {\n                    var d = 60 * parseFloat('0.' + h[1]);\n                    d = parseFloat(d.toFixed(2));\n                  } else {\n                    var d = 0;\n                  }\n                  result = parseInt(h[0]) + ':' + helpers.two(d);\n                }\n              }\n              return result;\n            }\n\n            // Date instance\n            if (value instanceof Date) {\n              value = helpers_date.now(value);\n            } else if (value && helpers.isNumeric(value)) {\n              value = helpers_date.numToDate(value);\n            }\n\n            // Tokens\n            var tokens = ['DAY', 'WD', 'DDDD', 'DDD', 'DD', 'D', 'Q', 'HH24', 'HH12', 'HH', 'H', 'AM/PM', 'MI', 'SS', 'MS', 'YYYY', 'YYY', 'YY', 'Y', 'MONTH', 'MON', 'MMMMM', 'MMMM', 'MMM', 'MM', 'M', '.'];\n\n            // Expression to extract all tokens from the string\n            var e = new RegExp(tokens.join('|'), 'gi');\n            // Extract\n            var t = format.match(e);\n\n            // Compatibility with excel\n            for (var i = 0; i < t.length; i++) {\n              if (t[i].toUpperCase() == 'MM') {\n                // Not a month, correct to minutes\n                if (t[i - 1] && t[i - 1].toUpperCase().indexOf('H') >= 0) {\n                  t[i] = 'mi';\n                } else if (t[i - 2] && t[i - 2].toUpperCase().indexOf('H') >= 0) {\n                  t[i] = 'mi';\n                } else if (t[i + 1] && t[i + 1].toUpperCase().indexOf('S') >= 0) {\n                  t[i] = 'mi';\n                } else if (t[i + 2] && t[i + 2].toUpperCase().indexOf('S') >= 0) {\n                  t[i] = 'mi';\n                }\n              }\n            }\n\n            // Object\n            var o = {\n              tokens: t\n            };\n\n            // Value\n            if (value) {\n              var d = '' + value;\n              var splitStr = d.indexOf('T') !== -1 ? 'T' : ' ';\n              d = d.split(splitStr);\n              var h = 0;\n              var m = 0;\n              var s = 0;\n              if (d[1]) {\n                h = d[1].split(':');\n                m = h[1] ? h[1] : 0;\n                s = h[2] ? h[2] : 0;\n                h = h[0] ? h[0] : 0;\n              }\n              d = d[0].split('-');\n              if (d[0] && d[1] && d[2] && d[0] > 0 && d[1] > 0 && d[1] < 13 && d[2] > 0 && d[2] < 32) {\n                // Data\n                o.data = [d[0], d[1], d[2], h, m, s];\n\n                // Value\n                o.value = [];\n\n                // Calendar instance\n                var calendar = new Date(o.data[0], o.data[1] - 1, o.data[2], o.data[3], o.data[4], o.data[5]);\n\n                // Get method\n                var get = function (i) {\n                  // Token\n                  var t = this.tokens[i];\n                  // Case token\n                  var s = t.toUpperCase();\n                  var v = null;\n                  if (s === 'YYYY') {\n                    v = this.data[0];\n                  } else if (s === 'YYY') {\n                    v = this.data[0].substring(1, 4);\n                  } else if (s === 'YY') {\n                    v = this.data[0].substring(2, 4);\n                  } else if (s === 'Y') {\n                    v = this.data[0].substring(3, 4);\n                  } else if (t === 'MON') {\n                    v = helpers_date.months[calendar.getMonth()].substr(0, 3).toUpperCase();\n                  } else if (t === 'mon') {\n                    v = helpers_date.months[calendar.getMonth()].substr(0, 3).toLowerCase();\n                  } else if (t === 'MONTH') {\n                    v = helpers_date.months[calendar.getMonth()].toUpperCase();\n                  } else if (t === 'month') {\n                    v = helpers_date.months[calendar.getMonth()].toLowerCase();\n                  } else if (s === 'MMMMM') {\n                    v = helpers_date.months[calendar.getMonth()].substr(0, 1);\n                  } else if (s === 'MMMM' || t === 'Month') {\n                    v = helpers_date.months[calendar.getMonth()];\n                  } else if (s === 'MMM' || t == 'Mon') {\n                    v = helpers_date.months[calendar.getMonth()].substr(0, 3);\n                  } else if (s === 'MM') {\n                    v = helpers.two(this.data[1]);\n                  } else if (s === 'M') {\n                    v = calendar.getMonth() + 1;\n                  } else if (t === 'DAY') {\n                    v = helpers_date.weekdays[calendar.getDay()].toUpperCase();\n                  } else if (t === 'day') {\n                    v = helpers_date.weekdays[calendar.getDay()].toLowerCase();\n                  } else if (s === 'DDDD' || t == 'Day') {\n                    v = helpers_date.weekdays[calendar.getDay()];\n                  } else if (s === 'DDD') {\n                    v = helpers_date.weekdays[calendar.getDay()].substr(0, 3);\n                  } else if (s === 'DD') {\n                    v = helpers.two(this.data[2]);\n                  } else if (s === 'D') {\n                    v = this.data[2];\n                  } else if (s === 'Q') {\n                    v = Math.floor((calendar.getMonth() + 3) / 3);\n                  } else if (s === 'HH24' || s === 'HH') {\n                    v = helpers.two(this.data[3]);\n                  } else if (s === 'HH12') {\n                    if (this.data[3] > 12) {\n                      v = helpers.two(this.data[3] - 12);\n                    } else {\n                      v = helpers.two(this.data[3]);\n                    }\n                  } else if (s === 'H') {\n                    v = this.data[3];\n                  } else if (s === 'MI') {\n                    v = helpers.two(this.data[4]);\n                  } else if (s === 'SS') {\n                    v = helpers.two(this.data[5]);\n                  } else if (s === 'MS') {\n                    v = calendar.getMilliseconds();\n                  } else if (s === 'AM/PM') {\n                    if (this.data[3] >= 12) {\n                      v = 'PM';\n                    } else {\n                      v = 'AM';\n                    }\n                  } else if (s === 'WD') {\n                    v = helpers_date.weekdays[calendar.getDay()];\n                  }\n                  if (v === null) {\n                    this.value[i] = this.tokens[i];\n                  } else {\n                    this.value[i] = v;\n                  }\n                };\n                for (var i = 0; i < o.tokens.length; i++) {\n                  get.call(o, i);\n                }\n                // Put pieces together\n                value = o.value.join('');\n              } else {\n                value = '';\n              }\n            }\n            return value;\n          };\n          if (typeof document !== 'undefined') {\n            document.addEventListener('input', function (e) {\n              if (e.target.getAttribute('data-mask') || e.target.mask) {\n                obj(e);\n              }\n            });\n          }\n          return obj;\n        }\n\n        /* harmony default export */\n        var mask = Mask();\n        ; // CONCATENATED MODULE: ./src/plugins/calendar.js\n\n        function Calendar() {\n          var Component = function (el, options) {\n            // Already created, update options\n            if (el.calendar) {\n              return el.calendar.setOptions(options, true);\n            }\n\n            // New instance\n            var obj = {\n              type: 'calendar'\n            };\n            obj.options = {};\n\n            // Date\n            obj.date = null;\n\n            /**\r\n             * Update options\r\n             */\n            obj.setOptions = function (options, reset) {\n              // Default configuration\n              var defaults = {\n                // Render type: [ default | year-month-picker ]\n                type: 'default',\n                // Restrictions\n                validRange: null,\n                // Starting weekday - 0 for sunday, 6 for saturday\n                startingDay: null,\n                // Date format\n                format: 'DD/MM/YYYY',\n                // Allow keyboard date entry\n                readonly: true,\n                // Today is default\n                today: false,\n                // Show timepicker\n                time: false,\n                // Show the reset button\n                resetButton: true,\n                // Placeholder\n                placeholder: '',\n                // Translations can be done here\n                months: helpers_date.monthsShort,\n                monthsFull: helpers_date.months,\n                weekdays: helpers_date.weekdays,\n                textDone: dictionary.translate('Done'),\n                textReset: dictionary.translate('Reset'),\n                textUpdate: dictionary.translate('Update'),\n                // Value\n                value: null,\n                // Fullscreen (this is automatic set for screensize < 800)\n                fullscreen: false,\n                // Create the calendar closed as default\n                opened: false,\n                // Events\n                onopen: null,\n                onclose: null,\n                onchange: null,\n                onupdate: null,\n                // Internal mode controller\n                mode: null,\n                position: null,\n                // Data type\n                dataType: null,\n                // Controls\n                controls: true\n              };\n\n              // Loop through our object\n              for (var property in defaults) {\n                if (options && options.hasOwnProperty(property)) {\n                  obj.options[property] = options[property];\n                } else {\n                  if (typeof obj.options[property] == 'undefined' || reset === true) {\n                    obj.options[property] = defaults[property];\n                  }\n                }\n              }\n\n              // Reset button\n              if (obj.options.resetButton == false) {\n                calendarReset.style.display = 'none';\n              } else {\n                calendarReset.style.display = '';\n              }\n\n              // Readonly\n              if (obj.options.readonly) {\n                el.setAttribute('readonly', 'readonly');\n              } else {\n                el.removeAttribute('readonly');\n              }\n\n              // Placeholder\n              if (obj.options.placeholder) {\n                el.setAttribute('placeholder', obj.options.placeholder);\n              } else {\n                el.removeAttribute('placeholder');\n              }\n              if (helpers.isNumeric(obj.options.value) && obj.options.value > 0) {\n                obj.options.value = Component.numToDate(obj.options.value);\n                // Data type numeric\n                obj.options.dataType = 'numeric';\n              }\n\n              // Texts\n              calendarReset.innerHTML = obj.options.textReset;\n              calendarConfirm.innerHTML = obj.options.textDone;\n              calendarControlsUpdateButton.innerHTML = obj.options.textUpdate;\n\n              // Define mask\n              el.setAttribute('data-mask', obj.options.format.toLowerCase());\n\n              // Value\n              if (!obj.options.value && obj.options.today) {\n                var value = Component.now();\n              } else {\n                var value = obj.options.value;\n              }\n\n              // Set internal date\n              if (value) {\n                // Force the update\n                obj.options.value = null;\n                // New value\n                obj.setValue(value);\n              }\n              return obj;\n            };\n\n            /**\r\n             * Open the calendar\r\n             */\n            obj.open = function (value) {\n              if (!calendar.classList.contains('jcalendar-focus')) {\n                if (!calendar.classList.contains('jcalendar-inline')) {\n                  // Current\n                  Component.current = obj;\n                  // Start tracking\n                  Tracking(obj, true);\n                  // Create the days\n                  obj.getDays();\n                  // Render months\n                  if (obj.options.type == 'year-month-picker') {\n                    obj.getMonths();\n                  }\n                  // Get time\n                  if (obj.options.time) {\n                    calendarSelectHour.value = obj.date[3];\n                    calendarSelectMin.value = obj.date[4];\n                  }\n\n                  // Show calendar\n                  calendar.classList.add('jcalendar-focus');\n\n                  // Get the position of the corner helper\n                  if (helpers.getWindowWidth() < 800 || obj.options.fullscreen) {\n                    calendar.classList.add('jcalendar-fullsize');\n                    // Animation\n                    animation.slideBottom(calendarContent, 1);\n                  } else {\n                    calendar.classList.remove('jcalendar-fullsize');\n                    var rect = el.getBoundingClientRect();\n                    var rectContent = calendarContent.getBoundingClientRect();\n                    if (obj.options.position) {\n                      calendarContainer.style.position = 'fixed';\n                      if (window.innerHeight < rect.bottom + rectContent.height) {\n                        calendarContainer.style.top = rect.top - (rectContent.height + 2) + 'px';\n                      } else {\n                        calendarContainer.style.top = rect.top + rect.height + 2 + 'px';\n                      }\n                      calendarContainer.style.left = rect.left + 'px';\n                    } else {\n                      if (window.innerHeight < rect.bottom + rectContent.height) {\n                        var d = -1 * (rect.height + rectContent.height + 2);\n                        if (d + rect.top < 0) {\n                          d = -1 * (rect.top + rect.height);\n                        }\n                        calendarContainer.style.top = d + 'px';\n                      } else {\n                        calendarContainer.style.top = 2 + 'px';\n                      }\n                      if (window.innerWidth < rect.left + rectContent.width) {\n                        var d = window.innerWidth - (rect.left + rectContent.width + 20);\n                        calendarContainer.style.left = d + 'px';\n                      } else {\n                        calendarContainer.style.left = '0px';\n                      }\n                    }\n                  }\n\n                  // Events\n                  if (typeof obj.options.onopen == 'function') {\n                    obj.options.onopen(el);\n                  }\n                }\n              }\n            };\n            obj.close = function (ignoreEvents, update) {\n              if (calendar.classList.contains('jcalendar-focus')) {\n                if (update !== false) {\n                  var element = calendar.querySelector('.jcalendar-selected');\n                  if (typeof update == 'string') {\n                    var value = update;\n                  } else if (!element || element.classList.contains('jcalendar-disabled')) {\n                    var value = obj.options.value;\n                  } else {\n                    var value = obj.getValue();\n                  }\n                  obj.setValue(value);\n                }\n\n                // Events\n                if (!ignoreEvents && typeof obj.options.onclose == 'function') {\n                  obj.options.onclose(el);\n                }\n                // Hide\n                calendar.classList.remove('jcalendar-focus');\n                // Stop tracking\n                Tracking(obj, false);\n                // Current\n                Component.current = null;\n              }\n              return obj.options.value;\n            };\n            obj.prev = function () {\n              // Check if the visualization is the days picker or years picker\n              if (obj.options.mode == 'years') {\n                obj.date[0] = obj.date[0] - 12;\n\n                // Update picker table of days\n                obj.getYears();\n              } else if (obj.options.mode == 'months') {\n                obj.date[0] = parseInt(obj.date[0]) - 1;\n                // Update picker table of months\n                obj.getMonths();\n              } else {\n                // Go to the previous month\n                if (obj.date[1] < 2) {\n                  obj.date[0] = obj.date[0] - 1;\n                  obj.date[1] = 12;\n                } else {\n                  obj.date[1] = obj.date[1] - 1;\n                }\n\n                // Update picker table of days\n                obj.getDays();\n              }\n            };\n            obj.next = function () {\n              // Check if the visualization is the days picker or years picker\n              if (obj.options.mode == 'years') {\n                obj.date[0] = parseInt(obj.date[0]) + 12;\n\n                // Update picker table of days\n                obj.getYears();\n              } else if (obj.options.mode == 'months') {\n                obj.date[0] = parseInt(obj.date[0]) + 1;\n                // Update picker table of months\n                obj.getMonths();\n              } else {\n                // Go to the previous month\n                if (obj.date[1] > 11) {\n                  obj.date[0] = parseInt(obj.date[0]) + 1;\n                  obj.date[1] = 1;\n                } else {\n                  obj.date[1] = parseInt(obj.date[1]) + 1;\n                }\n\n                // Update picker table of days\n                obj.getDays();\n              }\n            };\n\n            /**\r\n             * Set today\r\n             */\n            obj.setToday = function () {\n              // Today\n              var value = new Date().toISOString().substr(0, 10);\n              // Change value\n              obj.setValue(value);\n              // Value\n              return value;\n            };\n            obj.setValue = function (val) {\n              if (!val) {\n                val = '' + val;\n              }\n              // Values\n              var newValue = val;\n              var oldValue = obj.options.value;\n              if (oldValue != newValue) {\n                // Set label\n                if (!newValue) {\n                  obj.date = null;\n                  var val = '';\n                  el.classList.remove('jcalendar_warning');\n                  el.title = '';\n                } else {\n                  var value = obj.setLabel(newValue, obj.options);\n                  var date = newValue.split(' ');\n                  if (!date[1]) {\n                    date[1] = '00:00:00';\n                  }\n                  var time = date[1].split(':');\n                  var date = date[0].split('-');\n                  var y = parseInt(date[0]);\n                  var m = parseInt(date[1]);\n                  var d = parseInt(date[2]);\n                  var h = parseInt(time[0]);\n                  var i = parseInt(time[1]);\n                  obj.date = [y, m, d, h, i, 0];\n                  var val = obj.setLabel(newValue, obj.options);\n\n                  // Current selection day\n                  var current = Component.now(new Date(y, m - 1, d), true);\n\n                  // Available ranges\n                  if (obj.options.validRange) {\n                    if (!obj.options.validRange[0] || current >= obj.options.validRange[0]) {\n                      var test1 = true;\n                    } else {\n                      var test1 = false;\n                    }\n                    if (!obj.options.validRange[1] || current <= obj.options.validRange[1]) {\n                      var test2 = true;\n                    } else {\n                      var test2 = false;\n                    }\n                    if (!(test1 && test2)) {\n                      el.classList.add('jcalendar_warning');\n                      el.title = dictionary.translate('Date outside the valid range');\n                    } else {\n                      el.classList.remove('jcalendar_warning');\n                      el.title = '';\n                    }\n                  } else {\n                    el.classList.remove('jcalendar_warning');\n                    el.title = '';\n                  }\n                }\n\n                // New value\n                obj.options.value = newValue;\n                if (typeof obj.options.onchange == 'function') {\n                  obj.options.onchange(el, newValue, oldValue);\n                }\n\n                // Lemonade JS\n                if (el.value != val) {\n                  el.value = val;\n                  if (typeof el.oninput == 'function') {\n                    el.oninput({\n                      type: 'input',\n                      target: el,\n                      value: el.value\n                    });\n                  }\n                }\n              }\n              obj.getDays();\n              // Render months\n              if (obj.options.type == 'year-month-picker') {\n                obj.getMonths();\n              }\n            };\n            obj.getValue = function () {\n              if (obj.date) {\n                if (obj.options.time) {\n                  return helpers.two(obj.date[0]) + '-' + helpers.two(obj.date[1]) + '-' + helpers.two(obj.date[2]) + ' ' + helpers.two(obj.date[3]) + ':' + helpers.two(obj.date[4]) + ':' + helpers.two(0);\n                } else {\n                  return helpers.two(obj.date[0]) + '-' + helpers.two(obj.date[1]) + '-' + helpers.two(obj.date[2]) + ' ' + helpers.two(0) + ':' + helpers.two(0) + ':' + helpers.two(0);\n                }\n              } else {\n                return \"\";\n              }\n            };\n\n            /**\r\n             *  Calendar\r\n             */\n            obj.update = function (element, v) {\n              if (element.classList.contains('jcalendar-disabled')) {\n                // Do nothing\n              } else {\n                var elements = calendar.querySelector('.jcalendar-selected');\n                if (elements) {\n                  elements.classList.remove('jcalendar-selected');\n                }\n                element.classList.add('jcalendar-selected');\n                if (element.classList.contains('jcalendar-set-month')) {\n                  obj.date[1] = v;\n                  obj.date[2] = 1; // first day of the month\n                } else {\n                  obj.date[2] = element.innerText;\n                }\n                if (!obj.options.time) {\n                  obj.close();\n                } else {\n                  obj.date[3] = calendarSelectHour.value;\n                  obj.date[4] = calendarSelectMin.value;\n                }\n              }\n\n              // Update\n              updateActions();\n            };\n\n            /**\r\n             * Set to blank\r\n             */\n            obj.reset = function () {\n              // Close calendar\n              obj.setValue('');\n              obj.date = null;\n              obj.close(false, false);\n            };\n\n            /**\r\n             * Get calendar days\r\n             */\n            obj.getDays = function () {\n              // Mode\n              obj.options.mode = 'days';\n\n              // Setting current values in case of NULLs\n              var date = new Date();\n\n              // Current selection\n              var year = obj.date && helpers.isNumeric(obj.date[0]) ? obj.date[0] : parseInt(date.getFullYear());\n              var month = obj.date && helpers.isNumeric(obj.date[1]) ? obj.date[1] : parseInt(date.getMonth()) + 1;\n              var day = obj.date && helpers.isNumeric(obj.date[2]) ? obj.date[2] : parseInt(date.getDate());\n              var hour = obj.date && helpers.isNumeric(obj.date[3]) ? obj.date[3] : parseInt(date.getHours());\n              var min = obj.date && helpers.isNumeric(obj.date[4]) ? obj.date[4] : parseInt(date.getMinutes());\n\n              // Selection container\n              obj.date = [year, month, day, hour, min, 0];\n\n              // Update title\n              calendarLabelYear.innerHTML = year;\n              calendarLabelMonth.innerHTML = obj.options.months[month - 1];\n\n              // Current month and Year\n              var isCurrentMonthAndYear = date.getMonth() == month - 1 && date.getFullYear() == year ? true : false;\n              var currentDay = date.getDate();\n\n              // Number of days in the month\n              var date = new Date(year, month, 0, 0, 0);\n              var numberOfDays = date.getDate();\n\n              // First day\n              var date = new Date(year, month - 1, 0, 0, 0);\n              var firstDay = date.getDay() + 1;\n\n              // Index value\n              var index = obj.options.startingDay || 0;\n\n              // First of day relative to the starting calendar weekday\n              firstDay = firstDay - index;\n\n              // Reset table\n              calendarBody.innerHTML = '';\n\n              // Weekdays Row\n              var row = document.createElement('tr');\n              row.setAttribute('align', 'center');\n              calendarBody.appendChild(row);\n\n              // Create weekdays row\n              for (var i = 0; i < 7; i++) {\n                var cell = document.createElement('td');\n                cell.classList.add('jcalendar-weekday');\n                cell.innerHTML = obj.options.weekdays[index].substr(0, 1);\n                row.appendChild(cell);\n                // Next week day\n                index++;\n                // Restart index\n                if (index > 6) {\n                  index = 0;\n                }\n              }\n\n              // Index of days\n              var index = 0;\n              var d = 0;\n\n              // Calendar table\n              for (var j = 0; j < 6; j++) {\n                // Reset cells container\n                var row = document.createElement('tr');\n                row.setAttribute('align', 'center');\n                row.style.height = '34px';\n\n                // Create cells\n                for (var i = 0; i < 7; i++) {\n                  // Create cell\n                  var cell = document.createElement('td');\n                  cell.classList.add('jcalendar-set-day');\n                  if (index >= firstDay && index < firstDay + numberOfDays) {\n                    // Day cell\n                    d++;\n                    cell.innerHTML = d;\n\n                    // Selected\n                    if (d == day) {\n                      cell.classList.add('jcalendar-selected');\n                    }\n\n                    // Current selection day is today\n                    if (isCurrentMonthAndYear && currentDay == d) {\n                      cell.style.fontWeight = 'bold';\n                    }\n\n                    // Current selection day\n                    var current = Component.now(new Date(year, month - 1, d), true);\n\n                    // Available ranges\n                    if (obj.options.validRange) {\n                      if (!obj.options.validRange[0] || current >= obj.options.validRange[0]) {\n                        var test1 = true;\n                      } else {\n                        var test1 = false;\n                      }\n                      if (!obj.options.validRange[1] || current <= obj.options.validRange[1]) {\n                        var test2 = true;\n                      } else {\n                        var test2 = false;\n                      }\n                      if (!(test1 && test2)) {\n                        cell.classList.add('jcalendar-disabled');\n                      }\n                    }\n                  }\n                  // Day cell\n                  row.appendChild(cell);\n                  // Index\n                  index++;\n                }\n\n                // Add cell to the calendar body\n                calendarBody.appendChild(row);\n              }\n\n              // Show time controls\n              if (obj.options.time) {\n                calendarControlsTime.style.display = '';\n              } else {\n                calendarControlsTime.style.display = 'none';\n              }\n\n              // Update\n              updateActions();\n            };\n            obj.getMonths = function () {\n              // Mode\n              obj.options.mode = 'months';\n\n              // Loading month labels\n              var months = obj.options.months;\n\n              // Value\n              var value = obj.options.value;\n\n              // Current date\n              var date = new Date();\n              var currentYear = parseInt(date.getFullYear());\n              var currentMonth = parseInt(date.getMonth()) + 1;\n              var selectedYear = obj.date && helpers.isNumeric(obj.date[0]) ? obj.date[0] : currentYear;\n              var selectedMonth = obj.date && helpers.isNumeric(obj.date[1]) ? obj.date[1] : currentMonth;\n\n              // Update title\n              calendarLabelYear.innerHTML = obj.date[0];\n              calendarLabelMonth.innerHTML = months[selectedMonth - 1];\n\n              // Table\n              var table = document.createElement('table');\n              table.setAttribute('width', '100%');\n\n              // Row\n              var row = null;\n\n              // Calendar table\n              for (var i = 0; i < 12; i++) {\n                if (!(i % 4)) {\n                  // Reset cells container\n                  var row = document.createElement('tr');\n                  row.setAttribute('align', 'center');\n                  table.appendChild(row);\n                }\n\n                // Create cell\n                var cell = document.createElement('td');\n                cell.classList.add('jcalendar-set-month');\n                cell.setAttribute('data-value', i + 1);\n                cell.innerText = months[i];\n                if (obj.options.validRange) {\n                  var current = selectedYear + '-' + helpers.two(i + 1);\n                  if (!obj.options.validRange[0] || current >= obj.options.validRange[0].substr(0, 7)) {\n                    var test1 = true;\n                  } else {\n                    var test1 = false;\n                  }\n                  if (!obj.options.validRange[1] || current <= obj.options.validRange[1].substr(0, 7)) {\n                    var test2 = true;\n                  } else {\n                    var test2 = false;\n                  }\n                  if (!(test1 && test2)) {\n                    cell.classList.add('jcalendar-disabled');\n                  }\n                }\n                if (i + 1 == selectedMonth) {\n                  cell.classList.add('jcalendar-selected');\n                }\n                if (currentYear == selectedYear && i + 1 == currentMonth) {\n                  cell.style.fontWeight = 'bold';\n                }\n                row.appendChild(cell);\n              }\n              calendarBody.innerHTML = '<tr><td colspan=\"7\"></td></tr>';\n              calendarBody.children[0].children[0].appendChild(table);\n\n              // Update\n              updateActions();\n            };\n            obj.getYears = function () {\n              // Mode\n              obj.options.mode = 'years';\n\n              // Current date\n              var date = new Date();\n              var currentYear = date.getFullYear();\n              var selectedYear = obj.date && helpers.isNumeric(obj.date[0]) ? obj.date[0] : parseInt(date.getFullYear());\n\n              // Array of years\n              var y = [];\n              for (var i = 0; i < 25; i++) {\n                y[i] = parseInt(obj.date[0]) + (i - 12);\n              }\n\n              // Assembling the year tables\n              var table = document.createElement('table');\n              table.setAttribute('width', '100%');\n              for (var i = 0; i < 25; i++) {\n                if (!(i % 5)) {\n                  // Reset cells container\n                  var row = document.createElement('tr');\n                  row.setAttribute('align', 'center');\n                  table.appendChild(row);\n                }\n\n                // Create cell\n                var cell = document.createElement('td');\n                cell.classList.add('jcalendar-set-year');\n                cell.innerText = y[i];\n                if (selectedYear == y[i]) {\n                  cell.classList.add('jcalendar-selected');\n                }\n                if (currentYear == y[i]) {\n                  cell.style.fontWeight = 'bold';\n                }\n                row.appendChild(cell);\n              }\n              calendarBody.innerHTML = '<tr><td colspan=\"7\"></td></tr>';\n              calendarBody.firstChild.firstChild.appendChild(table);\n\n              // Update\n              updateActions();\n            };\n            obj.setLabel = function (value, mixed) {\n              return Component.getDateString(value, mixed);\n            };\n            obj.fromFormatted = function (value, format) {\n              return Component.extractDateFromString(value, format);\n            };\n            var mouseUpControls = function (e) {\n              var element = helpers.findElement(e.target, 'jcalendar-container');\n              if (element) {\n                var action = e.target.className;\n\n                // Object id\n                if (action == 'jcalendar-prev') {\n                  obj.prev();\n                } else if (action == 'jcalendar-next') {\n                  obj.next();\n                } else if (action == 'jcalendar-month') {\n                  obj.getMonths();\n                } else if (action == 'jcalendar-year') {\n                  obj.getYears();\n                } else if (action == 'jcalendar-set-year') {\n                  obj.date[0] = e.target.innerText;\n                  if (obj.options.type == 'year-month-picker') {\n                    obj.getMonths();\n                  } else {\n                    obj.getDays();\n                  }\n                } else if (e.target.classList.contains('jcalendar-set-month')) {\n                  var month = parseInt(e.target.getAttribute('data-value'));\n                  if (obj.options.type == 'year-month-picker') {\n                    obj.update(e.target, month);\n                  } else {\n                    obj.date[1] = month;\n                    obj.getDays();\n                  }\n                } else if (action == 'jcalendar-confirm' || action == 'jcalendar-update' || action == 'jcalendar-close') {\n                  obj.close();\n                } else if (action == 'jcalendar-backdrop') {\n                  obj.close(false, false);\n                } else if (action == 'jcalendar-reset') {\n                  obj.reset();\n                } else if (e.target.classList.contains('jcalendar-set-day') && e.target.innerText) {\n                  obj.update(e.target);\n                }\n              } else {\n                obj.close();\n              }\n            };\n            var keyUpControls = function (e) {\n              if (e.target.value && e.target.value.length > 3) {\n                var test = Component.extractDateFromString(e.target.value, obj.options.format);\n                if (test) {\n                  obj.setValue(test);\n                }\n              }\n            };\n\n            // Update actions button\n            var updateActions = function () {\n              var currentDay = calendar.querySelector('.jcalendar-selected');\n              if (currentDay && currentDay.classList.contains('jcalendar-disabled')) {\n                calendarControlsUpdateButton.setAttribute('disabled', 'disabled');\n                calendarSelectHour.setAttribute('disabled', 'disabled');\n                calendarSelectMin.setAttribute('disabled', 'disabled');\n              } else {\n                calendarControlsUpdateButton.removeAttribute('disabled');\n                calendarSelectHour.removeAttribute('disabled');\n                calendarSelectMin.removeAttribute('disabled');\n              }\n\n              // Event\n              if (typeof obj.options.onupdate == 'function') {\n                obj.options.onupdate(el, obj.getValue());\n              }\n            };\n            var calendar = null;\n            var calendarReset = null;\n            var calendarConfirm = null;\n            var calendarContainer = null;\n            var calendarContent = null;\n            var calendarLabelYear = null;\n            var calendarLabelMonth = null;\n            var calendarTable = null;\n            var calendarBody = null;\n            var calendarControls = null;\n            var calendarControlsTime = null;\n            var calendarControlsUpdate = null;\n            var calendarControlsUpdateButton = null;\n            var calendarSelectHour = null;\n            var calendarSelectMin = null;\n            var init = function () {\n              // Get value from initial element if that is an input\n              if (el.tagName == 'INPUT' && el.value) {\n                options.value = el.value;\n              }\n\n              // Calendar DOM elements\n              calendarReset = document.createElement('div');\n              calendarReset.className = 'jcalendar-reset';\n              calendarConfirm = document.createElement('div');\n              calendarConfirm.className = 'jcalendar-confirm';\n              calendarControls = document.createElement('div');\n              calendarControls.className = 'jcalendar-controls';\n              calendarControls.style.borderBottom = '1px solid #ddd';\n              calendarControls.appendChild(calendarReset);\n              calendarControls.appendChild(calendarConfirm);\n              calendarContainer = document.createElement('div');\n              calendarContainer.className = 'jcalendar-container';\n              calendarContent = document.createElement('div');\n              calendarContent.className = 'jcalendar-content';\n              calendarContainer.appendChild(calendarContent);\n\n              // Main element\n              if (el.tagName == 'DIV') {\n                calendar = el;\n                calendar.classList.add('jcalendar-inline');\n              } else {\n                // Add controls to the screen\n                calendarContent.appendChild(calendarControls);\n                calendar = document.createElement('div');\n                calendar.className = 'jcalendar';\n              }\n              calendar.classList.add('jcalendar-container');\n              calendar.appendChild(calendarContainer);\n\n              // Table container\n              var calendarTableContainer = document.createElement('div');\n              calendarTableContainer.className = 'jcalendar-table';\n              calendarContent.appendChild(calendarTableContainer);\n\n              // Previous button\n              var calendarHeaderPrev = document.createElement('td');\n              calendarHeaderPrev.setAttribute('colspan', '2');\n              calendarHeaderPrev.className = 'jcalendar-prev';\n\n              // Header with year and month\n              calendarLabelYear = document.createElement('span');\n              calendarLabelYear.className = 'jcalendar-year';\n              calendarLabelMonth = document.createElement('span');\n              calendarLabelMonth.className = 'jcalendar-month';\n              var calendarHeaderTitle = document.createElement('td');\n              calendarHeaderTitle.className = 'jcalendar-header';\n              calendarHeaderTitle.setAttribute('colspan', '3');\n              calendarHeaderTitle.appendChild(calendarLabelMonth);\n              calendarHeaderTitle.appendChild(calendarLabelYear);\n              var calendarHeaderNext = document.createElement('td');\n              calendarHeaderNext.setAttribute('colspan', '2');\n              calendarHeaderNext.className = 'jcalendar-next';\n              var calendarHeader = document.createElement('thead');\n              var calendarHeaderRow = document.createElement('tr');\n              calendarHeaderRow.appendChild(calendarHeaderPrev);\n              calendarHeaderRow.appendChild(calendarHeaderTitle);\n              calendarHeaderRow.appendChild(calendarHeaderNext);\n              calendarHeader.appendChild(calendarHeaderRow);\n              calendarTable = document.createElement('table');\n              calendarBody = document.createElement('tbody');\n              calendarTable.setAttribute('cellpadding', '0');\n              calendarTable.setAttribute('cellspacing', '0');\n              calendarTable.appendChild(calendarHeader);\n              calendarTable.appendChild(calendarBody);\n              calendarTableContainer.appendChild(calendarTable);\n              calendarSelectHour = document.createElement('select');\n              calendarSelectHour.className = 'jcalendar-select';\n              calendarSelectHour.onchange = function () {\n                obj.date[3] = this.value;\n\n                // Event\n                if (typeof obj.options.onupdate == 'function') {\n                  obj.options.onupdate(el, obj.getValue());\n                }\n              };\n              for (var i = 0; i < 24; i++) {\n                var element = document.createElement('option');\n                element.value = i;\n                element.innerHTML = helpers.two(i);\n                calendarSelectHour.appendChild(element);\n              }\n              calendarSelectMin = document.createElement('select');\n              calendarSelectMin.className = 'jcalendar-select';\n              calendarSelectMin.onchange = function () {\n                obj.date[4] = this.value;\n\n                // Event\n                if (typeof obj.options.onupdate == 'function') {\n                  obj.options.onupdate(el, obj.getValue());\n                }\n              };\n              for (var i = 0; i < 60; i++) {\n                var element = document.createElement('option');\n                element.value = i;\n                element.innerHTML = helpers.two(i);\n                calendarSelectMin.appendChild(element);\n              }\n\n              // Footer controls\n              var calendarControlsFooter = document.createElement('div');\n              calendarControlsFooter.className = 'jcalendar-controls';\n              calendarControlsTime = document.createElement('div');\n              calendarControlsTime.className = 'jcalendar-time';\n              calendarControlsTime.style.maxWidth = '140px';\n              calendarControlsTime.appendChild(calendarSelectHour);\n              calendarControlsTime.appendChild(calendarSelectMin);\n              calendarControlsUpdateButton = document.createElement('button');\n              calendarControlsUpdateButton.setAttribute('type', 'button');\n              calendarControlsUpdateButton.className = 'jcalendar-update';\n              calendarControlsUpdate = document.createElement('div');\n              calendarControlsUpdate.style.flexGrow = '10';\n              calendarControlsUpdate.appendChild(calendarControlsUpdateButton);\n              calendarControlsFooter.appendChild(calendarControlsTime);\n\n              // Only show the update button for input elements\n              if (el.tagName == 'INPUT') {\n                calendarControlsFooter.appendChild(calendarControlsUpdate);\n              }\n              calendarContent.appendChild(calendarControlsFooter);\n              var calendarBackdrop = document.createElement('div');\n              calendarBackdrop.className = 'jcalendar-backdrop';\n              calendar.appendChild(calendarBackdrop);\n\n              // Handle events\n              el.addEventListener(\"keyup\", keyUpControls);\n\n              // Add global events\n              calendar.addEventListener(\"swipeleft\", function (e) {\n                animation.slideLeft(calendarTable, 0, function () {\n                  obj.next();\n                  animation.slideRight(calendarTable, 1);\n                });\n                e.preventDefault();\n                e.stopPropagation();\n              });\n              calendar.addEventListener(\"swiperight\", function (e) {\n                animation.slideRight(calendarTable, 0, function () {\n                  obj.prev();\n                  animation.slideLeft(calendarTable, 1);\n                });\n                e.preventDefault();\n                e.stopPropagation();\n              });\n              if ('ontouchend' in document.documentElement === true) {\n                calendar.addEventListener(\"touchend\", mouseUpControls);\n                el.addEventListener(\"touchend\", obj.open);\n              } else {\n                calendar.addEventListener(\"mouseup\", mouseUpControls);\n                el.addEventListener(\"mouseup\", obj.open);\n              }\n\n              // Global controls\n              if (!Component.hasEvents) {\n                // Execute only one time\n                Component.hasEvents = true;\n                // Enter and Esc\n                document.addEventListener(\"keydown\", Component.keydown);\n              }\n\n              // Set configuration\n              obj.setOptions(options);\n\n              // Append element to the DOM\n              if (el.tagName == 'INPUT') {\n                el.parentNode.insertBefore(calendar, el.nextSibling);\n                // Add properties\n                el.setAttribute('autocomplete', 'off');\n                // Element\n                el.classList.add('jcalendar-input');\n                // Value\n                el.value = obj.setLabel(obj.getValue(), obj.options);\n              } else {\n                // Get days\n                obj.getDays();\n                // Hour\n                if (obj.options.time) {\n                  calendarSelectHour.value = obj.date[3];\n                  calendarSelectMin.value = obj.date[4];\n                }\n              }\n\n              // Default opened\n              if (obj.options.opened == true) {\n                obj.open();\n              }\n\n              // Controls\n              if (obj.options.controls == false) {\n                calendarContainer.classList.add('jcalendar-hide-controls');\n              }\n\n              // Change method\n              el.change = obj.setValue;\n\n              // Global generic value handler\n              el.val = function (val) {\n                if (val === undefined) {\n                  return obj.getValue();\n                } else {\n                  obj.setValue(val);\n                }\n              };\n\n              // Keep object available from the node\n              el.calendar = calendar.calendar = obj;\n            };\n            init();\n            return obj;\n          };\n          Component.keydown = function (e) {\n            var calendar = null;\n            if (calendar = Component.current) {\n              if (e.which == 13) {\n                // ENTER\n                calendar.close(false, true);\n              } else if (e.which == 27) {\n                // ESC\n                calendar.close(false, false);\n              }\n            }\n          };\n          Component.prettify = function (d, texts) {\n            if (!texts) {\n              var texts = {\n                justNow: 'Just now',\n                xMinutesAgo: '{0}m ago',\n                xHoursAgo: '{0}h ago',\n                xDaysAgo: '{0}d ago',\n                xWeeksAgo: '{0}w ago',\n                xMonthsAgo: '{0} mon ago',\n                xYearsAgo: '{0}y ago'\n              };\n            }\n            var d1 = new Date();\n            var d2 = new Date(d);\n            var total = parseInt((d1 - d2) / 1000 / 60);\n            String.prototype.format = function (o) {\n              return this.replace('{0}', o);\n            };\n            if (total == 0) {\n              var text = texts.justNow;\n            } else if (total < 90) {\n              var text = texts.xMinutesAgo.format(total);\n            } else if (total < 1440) {\n              // One day\n              var text = texts.xHoursAgo.format(Math.round(total / 60));\n            } else if (total < 20160) {\n              // 14 days\n              var text = texts.xDaysAgo.format(Math.round(total / 1440));\n            } else if (total < 43200) {\n              // 30 days\n              var text = texts.xWeeksAgo.format(Math.round(total / 10080));\n            } else if (total < 1036800) {\n              // 24 months\n              var text = texts.xMonthsAgo.format(Math.round(total / 43200));\n            } else {\n              // 24 months+\n              var text = texts.xYearsAgo.format(Math.round(total / 525600));\n            }\n            return text;\n          };\n          Component.prettifyAll = function () {\n            var elements = document.querySelectorAll('.prettydate');\n            for (var i = 0; i < elements.length; i++) {\n              if (elements[i].getAttribute('data-date')) {\n                elements[i].innerHTML = Component.prettify(elements[i].getAttribute('data-date'));\n              } else {\n                if (elements[i].innerHTML) {\n                  elements[i].setAttribute('title', elements[i].innerHTML);\n                  elements[i].setAttribute('data-date', elements[i].innerHTML);\n                  elements[i].innerHTML = Component.prettify(elements[i].innerHTML);\n                }\n              }\n            }\n          };\n          Component.now = helpers_date.now;\n          Component.toArray = helpers_date.toArray;\n          Component.dateToNum = helpers_date.dateToNum;\n          Component.numToDate = helpers_date.numToDate;\n          Component.weekdays = helpers_date.weekdays;\n          Component.months = helpers_date.months;\n          Component.weekdaysShort = helpers_date.weekdaysShort;\n          Component.monthsShort = helpers_date.monthsShort;\n\n          // Legacy shortcut\n          Component.extractDateFromString = mask.extractDateFromString;\n          Component.getDateString = mask.getDateString;\n          return Component;\n        }\n\n        /* harmony default export */\n        var calendar = Calendar();\n        ; // CONCATENATED MODULE: ./src/plugins/palette.js\n        // More palettes https://coolors.co/ or https://gka.github.io/palettes/#/10|s|003790,005647,ffffe0|ffffe0,ff005e,93003a|1|1\n\n        function Palette() {\n          var palette = {\n            material: [[\"#ffebee\", \"#fce4ec\", \"#f3e5f5\", \"#e8eaf6\", \"#e3f2fd\", \"#e0f7fa\", \"#e0f2f1\", \"#e8f5e9\", \"#f1f8e9\", \"#f9fbe7\", \"#fffde7\", \"#fff8e1\", \"#fff3e0\", \"#fbe9e7\", \"#efebe9\", \"#fafafa\", \"#eceff1\"], [\"#ffcdd2\", \"#f8bbd0\", \"#e1bee7\", \"#c5cae9\", \"#bbdefb\", \"#b2ebf2\", \"#b2dfdb\", \"#c8e6c9\", \"#dcedc8\", \"#f0f4c3\", \"#fff9c4\", \"#ffecb3\", \"#ffe0b2\", \"#ffccbc\", \"#d7ccc8\", \"#f5f5f5\", \"#cfd8dc\"], [\"#ef9a9a\", \"#f48fb1\", \"#ce93d8\", \"#9fa8da\", \"#90caf9\", \"#80deea\", \"#80cbc4\", \"#a5d6a7\", \"#c5e1a5\", \"#e6ee9c\", \"#fff59d\", \"#ffe082\", \"#ffcc80\", \"#ffab91\", \"#bcaaa4\", \"#eeeeee\", \"#b0bec5\"], [\"#e57373\", \"#f06292\", \"#ba68c8\", \"#7986cb\", \"#64b5f6\", \"#4dd0e1\", \"#4db6ac\", \"#81c784\", \"#aed581\", \"#dce775\", \"#fff176\", \"#ffd54f\", \"#ffb74d\", \"#ff8a65\", \"#a1887f\", \"#e0e0e0\", \"#90a4ae\"], [\"#ef5350\", \"#ec407a\", \"#ab47bc\", \"#5c6bc0\", \"#42a5f5\", \"#26c6da\", \"#26a69a\", \"#66bb6a\", \"#9ccc65\", \"#d4e157\", \"#ffee58\", \"#ffca28\", \"#ffa726\", \"#ff7043\", \"#8d6e63\", \"#bdbdbd\", \"#78909c\"], [\"#f44336\", \"#e91e63\", \"#9c27b0\", \"#3f51b5\", \"#2196f3\", \"#00bcd4\", \"#009688\", \"#4caf50\", \"#8bc34a\", \"#cddc39\", \"#ffeb3b\", \"#ffc107\", \"#ff9800\", \"#ff5722\", \"#795548\", \"#9e9e9e\", \"#607d8b\"], [\"#e53935\", \"#d81b60\", \"#8e24aa\", \"#3949ab\", \"#1e88e5\", \"#00acc1\", \"#00897b\", \"#43a047\", \"#7cb342\", \"#c0ca33\", \"#fdd835\", \"#ffb300\", \"#fb8c00\", \"#f4511e\", \"#6d4c41\", \"#757575\", \"#546e7a\"], [\"#d32f2f\", \"#c2185b\", \"#7b1fa2\", \"#303f9f\", \"#1976d2\", \"#0097a7\", \"#00796b\", \"#388e3c\", \"#689f38\", \"#afb42b\", \"#fbc02d\", \"#ffa000\", \"#f57c00\", \"#e64a19\", \"#5d4037\", \"#616161\", \"#455a64\"], [\"#c62828\", \"#ad1457\", \"#6a1b9a\", \"#283593\", \"#1565c0\", \"#00838f\", \"#00695c\", \"#2e7d32\", \"#558b2f\", \"#9e9d24\", \"#f9a825\", \"#ff8f00\", \"#ef6c00\", \"#d84315\", \"#4e342e\", \"#424242\", \"#37474f\"], [\"#b71c1c\", \"#880e4f\", \"#4a148c\", \"#1a237e\", \"#0d47a1\", \"#006064\", \"#004d40\", \"#1b5e20\", \"#33691e\", \"#827717\", \"#f57f17\", \"#ff6f00\", \"#e65100\", \"#bf360c\", \"#3e2723\", \"#212121\", \"#263238\"]],\n            fire: [[\"0b1a6d\", \"840f38\", \"b60718\", \"de030b\", \"ff0c0c\", \"fd491c\", \"fc7521\", \"faa331\", \"fbb535\", \"ffc73a\"], [\"071147\", \"5f0b28\", \"930513\", \"be0309\", \"ef0000\", \"fa3403\", \"fb670b\", \"f9991b\", \"faad1e\", \"ffc123\"], [\"03071e\", \"370617\", \"6a040f\", \"9d0208\", \"d00000\", \"dc2f02\", \"e85d04\", \"f48c06\", \"faa307\", \"ffba08\"], [\"020619\", \"320615\", \"61040d\", \"8c0207\", \"bc0000\", \"c82a02\", \"d05203\", \"db7f06\", \"e19405\", \"efab00\"], [\"020515\", \"2d0513\", \"58040c\", \"7f0206\", \"aa0000\", \"b62602\", \"b94903\", \"c57205\", \"ca8504\", \"d89b00\"]],\n            baby: [[\"eddcd2\", \"fff1e6\", \"fde2e4\", \"fad2e1\", \"c5dedd\", \"dbe7e4\", \"f0efeb\", \"d6e2e9\", \"bcd4e6\", \"99c1de\"], [\"e1c4b3\", \"ffd5b5\", \"fab6ba\", \"f5a8c4\", \"aacecd\", \"bfd5cf\", \"dbd9d0\", \"baceda\", \"9dc0db\", \"7eb1d5\"], [\"daa990\", \"ffb787\", \"f88e95\", \"f282a9\", \"8fc4c3\", \"a3c8be\", \"cec9b3\", \"9dbcce\", \"82acd2\", \"649dcb\"], [\"d69070\", \"ff9c5e\", \"f66770\", \"f05f8f\", \"74bbb9\", \"87bfae\", \"c5b993\", \"83aac3\", \"699bca\", \"4d89c2\"], [\"c97d5d\", \"f58443\", \"eb4d57\", \"e54a7b\", \"66a9a7\", \"78ae9c\", \"b5a67e\", \"7599b1\", \"5c88b7\", \"4978aa\"]],\n            chart: [['#C1D37F', '#4C5454', '#FFD275', '#66586F', '#D05D5B', '#C96480', '#95BF8F', '#6EA240', '#0F0F0E', '#EB8258', '#95A3B3', '#995D81']]\n          };\n          var Component = function (o) {\n            // Otherwise get palette value\n            if (palette[o]) {\n              return palette[o];\n            } else {\n              return palette.material;\n            }\n          };\n          Component.get = function (o) {\n            // Otherwise get palette value\n            if (palette[o]) {\n              return palette[o];\n            } else {\n              return palette;\n            }\n          };\n          Component.set = function (o, v) {\n            palette[o] = v;\n          };\n          return Component;\n        }\n\n        /* harmony default export */\n        var palette = Palette();\n        ; // CONCATENATED MODULE: ./src/plugins/tabs.js\n\n        function Tabs(el, options) {\n          var obj = {};\n          obj.options = {};\n\n          // Default configuration\n          var defaults = {\n            data: [],\n            position: null,\n            allowCreate: false,\n            allowChangePosition: false,\n            onclick: null,\n            onload: null,\n            onchange: null,\n            oncreate: null,\n            ondelete: null,\n            onbeforecreate: null,\n            onchangeposition: null,\n            animation: false,\n            hideHeaders: false,\n            padding: null,\n            palette: null,\n            maxWidth: null\n          };\n\n          // Loop through the initial configuration\n          for (var property in defaults) {\n            if (options && options.hasOwnProperty(property)) {\n              obj.options[property] = options[property];\n            } else {\n              obj.options[property] = defaults[property];\n            }\n          }\n\n          // Class\n          el.classList.add('jtabs');\n          var prev = null;\n          var next = null;\n          var border = null;\n\n          // Helpers\n          var setBorder = function (index) {\n            if (obj.options.animation) {\n              setTimeout(function () {\n                var rect = obj.headers.children[index].getBoundingClientRect();\n                if (obj.options.palette == 'modern') {\n                  border.style.width = rect.width - 4 + 'px';\n                  border.style.left = obj.headers.children[index].offsetLeft + 2 + 'px';\n                } else {\n                  border.style.width = rect.width + 'px';\n                  border.style.left = obj.headers.children[index].offsetLeft + 'px';\n                }\n                if (obj.options.position == 'bottom') {\n                  border.style.top = '0px';\n                } else {\n                  border.style.bottom = '0px';\n                }\n              }, 150);\n            }\n          };\n          var updateControls = function (x) {\n            if (typeof obj.headers.scrollTo == 'function') {\n              obj.headers.scrollTo({\n                left: x,\n                behavior: 'smooth'\n              });\n            } else {\n              obj.headers.scrollLeft = x;\n            }\n            if (x <= 1) {\n              prev.classList.add('disabled');\n            } else {\n              prev.classList.remove('disabled');\n            }\n            if (x >= obj.headers.scrollWidth - obj.headers.offsetWidth) {\n              next.classList.add('disabled');\n            } else {\n              next.classList.remove('disabled');\n            }\n            if (obj.headers.scrollWidth <= obj.headers.offsetWidth) {\n              prev.style.display = 'none';\n              next.style.display = 'none';\n            } else {\n              prev.style.display = '';\n              next.style.display = '';\n            }\n          };\n          obj.setBorder = setBorder;\n\n          // Set value\n          obj.open = function (index) {\n            var previous = null;\n            for (var i = 0; i < obj.headers.children.length; i++) {\n              if (obj.headers.children[i].classList.contains('jtabs-selected')) {\n                // Current one\n                previous = i;\n              }\n              // Remote selected\n              obj.headers.children[i].classList.remove('jtabs-selected');\n              if (obj.content.children[i]) {\n                obj.content.children[i].classList.remove('jtabs-selected');\n              }\n            }\n            obj.headers.children[index].classList.add('jtabs-selected');\n            if (obj.content.children[index]) {\n              obj.content.children[index].classList.add('jtabs-selected');\n            }\n            if (previous != index && typeof obj.options.onchange == 'function') {\n              if (obj.content.children[index]) {\n                obj.options.onchange(el, obj, index, obj.headers.children[index], obj.content.children[index]);\n              }\n            }\n\n            // Hide\n            if (obj.options.hideHeaders == true && obj.headers.children.length < 3 && obj.options.allowCreate == false) {\n              obj.headers.parentNode.style.display = 'none';\n            } else {\n              // Set border\n              setBorder(index);\n              obj.headers.parentNode.style.display = '';\n              var x1 = obj.headers.children[index].offsetLeft;\n              var x2 = x1 + obj.headers.children[index].offsetWidth;\n              var r1 = obj.headers.scrollLeft;\n              var r2 = r1 + obj.headers.offsetWidth;\n              if (!(r1 <= x1 && r2 >= x2)) {\n                // Out of the viewport\n                updateControls(x1 - 1);\n              }\n            }\n          };\n          obj.selectIndex = function (a) {\n            var index = Array.prototype.indexOf.call(obj.headers.children, a);\n            if (index >= 0) {\n              obj.open(index);\n            }\n            return index;\n          };\n          obj.rename = function (i, title) {\n            if (!title) {\n              title = prompt('New title', obj.headers.children[i].innerText);\n            }\n            obj.headers.children[i].innerText = title;\n            obj.open(i);\n          };\n          obj.create = function (title, url) {\n            if (typeof obj.options.onbeforecreate == 'function') {\n              var ret = obj.options.onbeforecreate(el);\n              if (ret === false) {\n                return false;\n              } else {\n                title = ret;\n              }\n            }\n            var div = obj.appendElement(title);\n            if (typeof obj.options.oncreate == 'function') {\n              obj.options.oncreate(el, div);\n            }\n            setBorder();\n            return div;\n          };\n          obj.remove = function (index) {\n            return obj.deleteElement(index);\n          };\n          obj.nextNumber = function () {\n            var num = 0;\n            for (var i = 0; i < obj.headers.children.length; i++) {\n              var tmp = obj.headers.children[i].innerText.match(/[0-9].*/);\n              if (tmp > num) {\n                num = parseInt(tmp);\n              }\n            }\n            if (!num) {\n              num = 1;\n            } else {\n              num++;\n            }\n            return num;\n          };\n          obj.deleteElement = function (index) {\n            if (!obj.headers.children[index]) {\n              return false;\n            } else {\n              obj.headers.removeChild(obj.headers.children[index]);\n              obj.content.removeChild(obj.content.children[index]);\n            }\n            obj.open(0);\n            if (typeof obj.options.ondelete == 'function') {\n              obj.options.ondelete(el, index);\n            }\n          };\n          obj.appendElement = function (title, cb) {\n            if (!title) {\n              var title = prompt('Title?', '');\n            }\n            if (title) {\n              // Add content\n              var div = document.createElement('div');\n              obj.content.appendChild(div);\n\n              // Add headers\n              var h = document.createElement('div');\n              h.innerHTML = title;\n              h.content = div;\n              obj.headers.insertBefore(h, obj.headers.lastChild);\n\n              // Sortable\n              if (obj.options.allowChangePosition) {\n                h.setAttribute('draggable', 'true');\n              }\n              // Open new tab\n              obj.selectIndex(h);\n\n              // Callback\n              if (typeof cb == 'function') {\n                cb(div, h);\n              }\n\n              // Return element\n              return div;\n            }\n          };\n          obj.getActive = function () {\n            for (var i = 0; i < obj.headers.children.length; i++) {\n              if (obj.headers.children[i].classList.contains('jtabs-selected')) {\n                return i;\n              }\n            }\n            return 0;\n          };\n          obj.updateContent = function (position, newContent) {\n            if (typeof newContent !== 'string') {\n              var contentItem = newContent;\n            } else {\n              var contentItem = document.createElement('div');\n              contentItem.innerHTML = newContent;\n            }\n            if (obj.content.children[position].classList.contains('jtabs-selected')) {\n              newContent.classList.add('jtabs-selected');\n            }\n            obj.content.replaceChild(newContent, obj.content.children[position]);\n            setBorder();\n          };\n          obj.updatePosition = function (f, t) {\n            // Ondrop update position of content\n            if (f > t) {\n              obj.content.insertBefore(obj.content.children[f], obj.content.children[t]);\n            } else {\n              obj.content.insertBefore(obj.content.children[f], obj.content.children[t].nextSibling);\n            }\n\n            // Open destination tab\n            obj.open(t);\n\n            // Call event\n            if (typeof obj.options.onchangeposition == 'function') {\n              obj.options.onchangeposition(obj.headers, f, t);\n            }\n          };\n          obj.move = function (f, t) {\n            if (f > t) {\n              obj.headers.insertBefore(obj.headers.children[f], obj.headers.children[t]);\n            } else {\n              obj.headers.insertBefore(obj.headers.children[f], obj.headers.children[t].nextSibling);\n            }\n            obj.updatePosition(f, t);\n          };\n          obj.setBorder = setBorder;\n          obj.init = function () {\n            el.innerHTML = '';\n\n            // Make sure the component is blank\n            obj.headers = document.createElement('div');\n            obj.content = document.createElement('div');\n            obj.headers.classList.add('jtabs-headers');\n            obj.content.classList.add('jtabs-content');\n            if (obj.options.palette) {\n              el.classList.add('jtabs-modern');\n            } else {\n              el.classList.remove('jtabs-modern');\n            }\n\n            // Padding\n            if (obj.options.padding) {\n              obj.content.style.padding = parseInt(obj.options.padding) + 'px';\n            }\n\n            // Header\n            var header = document.createElement('div');\n            header.className = 'jtabs-headers-container';\n            header.appendChild(obj.headers);\n            if (obj.options.maxWidth) {\n              header.style.maxWidth = parseInt(obj.options.maxWidth) + 'px';\n            }\n\n            // Controls\n            var controls = document.createElement('div');\n            controls.className = 'jtabs-controls';\n            controls.setAttribute('draggable', 'false');\n            header.appendChild(controls);\n\n            // Append DOM elements\n            if (obj.options.position == 'bottom') {\n              el.appendChild(obj.content);\n              el.appendChild(header);\n            } else {\n              el.appendChild(header);\n              el.appendChild(obj.content);\n            }\n\n            // New button\n            if (obj.options.allowCreate == true) {\n              var add = document.createElement('div');\n              add.className = 'jtabs-add';\n              add.onclick = function () {\n                obj.create();\n              };\n              controls.appendChild(add);\n            }\n            prev = document.createElement('div');\n            prev.className = 'jtabs-prev';\n            prev.onclick = function () {\n              updateControls(obj.headers.scrollLeft - obj.headers.offsetWidth);\n            };\n            controls.appendChild(prev);\n            next = document.createElement('div');\n            next.className = 'jtabs-next';\n            next.onclick = function () {\n              updateControls(obj.headers.scrollLeft + obj.headers.offsetWidth);\n            };\n            controls.appendChild(next);\n\n            // Data\n            for (var i = 0; i < obj.options.data.length; i++) {\n              // Title\n              if (obj.options.data[i].titleElement) {\n                var headerItem = obj.options.data[i].titleElement;\n              } else {\n                var headerItem = document.createElement('div');\n              }\n              // Icon\n              if (obj.options.data[i].icon) {\n                var iconContainer = document.createElement('div');\n                var icon = document.createElement('i');\n                icon.classList.add('material-icons');\n                icon.innerHTML = obj.options.data[i].icon;\n                iconContainer.appendChild(icon);\n                headerItem.appendChild(iconContainer);\n              }\n              // Title\n              if (obj.options.data[i].title) {\n                var title = document.createTextNode(obj.options.data[i].title);\n                headerItem.appendChild(title);\n              }\n              // Width\n              if (obj.options.data[i].width) {\n                headerItem.style.width = obj.options.data[i].width;\n              }\n              // Content\n              if (obj.options.data[i].contentElement) {\n                var contentItem = obj.options.data[i].contentElement;\n              } else {\n                var contentItem = document.createElement('div');\n                contentItem.innerHTML = obj.options.data[i].content;\n              }\n              obj.headers.appendChild(headerItem);\n              obj.content.appendChild(contentItem);\n            }\n\n            // Animation\n            border = document.createElement('div');\n            border.className = 'jtabs-border';\n            obj.headers.appendChild(border);\n            if (obj.options.animation) {\n              el.classList.add('jtabs-animation');\n            }\n\n            // Events\n            obj.headers.addEventListener(\"click\", function (e) {\n              if (e.target.parentNode.classList.contains('jtabs-headers')) {\n                var target = e.target;\n              } else {\n                if (e.target.tagName == 'I') {\n                  var target = e.target.parentNode.parentNode;\n                } else {\n                  var target = e.target.parentNode;\n                }\n              }\n              var index = obj.selectIndex(target);\n              if (typeof obj.options.onclick == 'function') {\n                obj.options.onclick(el, obj, index, obj.headers.children[index], obj.content.children[index]);\n              }\n            });\n            obj.headers.addEventListener(\"contextmenu\", function (e) {\n              obj.selectIndex(e.target);\n            });\n            if (obj.headers.children.length) {\n              // Open first tab\n              obj.open(0);\n            }\n\n            // Update controls\n            updateControls(0);\n            if (obj.options.allowChangePosition == true) {\n              Sorting(obj.headers, {\n                direction: 1,\n                ondrop: function (a, b, c) {\n                  obj.updatePosition(b, c);\n                }\n              });\n            }\n            if (typeof obj.options.onload == 'function') {\n              obj.options.onload(el, obj);\n            }\n          };\n\n          // Loading existing nodes as the data\n          if (el.children[0] && el.children[0].children.length) {\n            // Create from existing elements\n            for (var i = 0; i < el.children[0].children.length; i++) {\n              var item = obj.options.data && obj.options.data[i] ? obj.options.data[i] : {};\n              if (el.children[1] && el.children[1].children[i]) {\n                item.titleElement = el.children[0].children[i];\n                item.contentElement = el.children[1].children[i];\n              } else {\n                item.contentElement = el.children[0].children[i];\n              }\n              obj.options.data[i] = item;\n            }\n          }\n\n          // Remote controller flag\n          var loadingRemoteData = false;\n\n          // Create from data\n          if (obj.options.data) {\n            // Append children\n            for (var i = 0; i < obj.options.data.length; i++) {\n              if (obj.options.data[i].url) {\n                ajax({\n                  url: obj.options.data[i].url,\n                  type: 'GET',\n                  dataType: 'text/html',\n                  index: i,\n                  success: function (result) {\n                    obj.options.data[this.index].content = result;\n                  },\n                  complete: function () {\n                    obj.init();\n                  }\n                });\n\n                // Flag loading\n                loadingRemoteData = true;\n              }\n            }\n          }\n          if (!loadingRemoteData) {\n            obj.init();\n          }\n          el.tabs = obj;\n          return obj;\n        }\n        ; // CONCATENATED MODULE: ./src/plugins/color.js\n\n        function Color(el, options) {\n          // Already created, update options\n          if (el.color) {\n            return el.color.setOptions(options, true);\n          }\n\n          // New instance\n          var obj = {\n            type: 'color'\n          };\n          obj.options = {};\n          var container = null;\n          var backdrop = null;\n          var content = null;\n          var resetButton = null;\n          var closeButton = null;\n          var tabs = null;\n          var jsuitesTabs = null;\n\n          /**\r\n           * Update options\r\n           */\n          obj.setOptions = function (options, reset) {\n            /**\r\n             * @typedef {Object} defaults\r\n             * @property {(string|Array)} value - Initial value of the compontent\r\n             * @property {string} placeholder - The default instruction text on the element\r\n             * @property {requestCallback} onchange - Method to be execute after any changes on the element\r\n             * @property {requestCallback} onclose - Method to be execute when the element is closed\r\n             * @property {string} doneLabel - Label for button done\r\n             * @property {string} resetLabel - Label for button reset\r\n             * @property {string} resetValue - Value for button reset\r\n             * @property {Bool} showResetButton - Active or note for button reset - default false\r\n             */\n            var defaults = {\n              placeholder: '',\n              value: null,\n              onopen: null,\n              onclose: null,\n              onchange: null,\n              closeOnChange: true,\n              palette: null,\n              position: null,\n              doneLabel: 'Done',\n              resetLabel: 'Reset',\n              fullscreen: false,\n              opened: false\n            };\n            if (!options) {\n              options = {};\n            }\n            if (options && !options.palette) {\n              // Default palette\n              options.palette = palette();\n            }\n\n            // Loop through our object\n            for (var property in defaults) {\n              if (options && options.hasOwnProperty(property)) {\n                obj.options[property] = options[property];\n              } else {\n                if (typeof obj.options[property] == 'undefined' || reset === true) {\n                  obj.options[property] = defaults[property];\n                }\n              }\n            }\n\n            // Update the text of the controls, if they have already been created\n            if (resetButton) {\n              resetButton.innerHTML = obj.options.resetLabel;\n            }\n            if (closeButton) {\n              closeButton.innerHTML = obj.options.doneLabel;\n            }\n\n            // Update the pallete\n            if (obj.options.palette && jsuitesTabs) {\n              jsuitesTabs.updateContent(0, table());\n            }\n\n            // Value\n            if (typeof obj.options.value === 'string') {\n              el.value = obj.options.value;\n              if (el.tagName === 'INPUT') {\n                el.style.color = el.value;\n                el.style.backgroundColor = el.value;\n              }\n            }\n\n            // Placeholder\n            if (obj.options.placeholder) {\n              el.setAttribute('placeholder', obj.options.placeholder);\n            } else {\n              if (el.getAttribute('placeholder')) {\n                el.removeAttribute('placeholder');\n              }\n            }\n            return obj;\n          };\n          obj.select = function (color) {\n            // Remove current selected mark\n            var selected = container.querySelector('.jcolor-selected');\n            if (selected) {\n              selected.classList.remove('jcolor-selected');\n            }\n\n            // Mark cell as selected\n            if (obj.values[color]) {\n              obj.values[color].classList.add('jcolor-selected');\n            }\n            obj.options.value = color;\n          };\n\n          /**\r\n           * Open color pallete\r\n           */\n          obj.open = function () {\n            if (!container.classList.contains('jcolor-focus')) {\n              // Start tracking\n              Tracking(obj, true);\n\n              // Show color picker\n              container.classList.add('jcolor-focus');\n\n              // Select current color\n              if (obj.options.value) {\n                obj.select(obj.options.value);\n              }\n\n              // Reset margin\n              content.style.marginTop = '';\n              content.style.marginLeft = '';\n              var rectContent = content.getBoundingClientRect();\n              var availableWidth = helpers.getWindowWidth();\n              var availableHeight = helpers.getWindowHeight();\n              if (availableWidth < 800 || obj.options.fullscreen == true) {\n                content.classList.add('jcolor-fullscreen');\n                animation.slideBottom(content, 1);\n                backdrop.style.display = 'block';\n              } else {\n                if (content.classList.contains('jcolor-fullscreen')) {\n                  content.classList.remove('jcolor-fullscreen');\n                  backdrop.style.display = '';\n                }\n                if (obj.options.position) {\n                  content.style.position = 'fixed';\n                } else {\n                  content.style.position = '';\n                }\n                if (rectContent.left + rectContent.width > availableWidth) {\n                  content.style.marginLeft = -1 * (rectContent.left + rectContent.width - (availableWidth - 20)) + 'px';\n                }\n                if (rectContent.top + rectContent.height > availableHeight) {\n                  content.style.marginTop = -1 * (rectContent.top + rectContent.height - (availableHeight - 20)) + 'px';\n                }\n              }\n              if (typeof obj.options.onopen == 'function') {\n                obj.options.onopen(el, obj);\n              }\n              jsuitesTabs.setBorder(jsuitesTabs.getActive());\n\n              // Update sliders\n              if (obj.options.value) {\n                var rgb = HexToRgb(obj.options.value);\n                rgbInputs.forEach(function (rgbInput, index) {\n                  rgbInput.value = rgb[index];\n                  rgbInput.dispatchEvent(new Event('input'));\n                });\n              }\n            }\n          };\n\n          /**\r\n           * Close color pallete\r\n           */\n          obj.close = function (ignoreEvents) {\n            if (container.classList.contains('jcolor-focus')) {\n              // Remove focus\n              container.classList.remove('jcolor-focus');\n              // Make sure backdrop is hidden\n              backdrop.style.display = '';\n              // Call related events\n              if (!ignoreEvents && typeof obj.options.onclose == 'function') {\n                obj.options.onclose(el, obj);\n              }\n              // Stop  the object\n              Tracking(obj, false);\n            }\n            return obj.options.value;\n          };\n\n          /**\r\n           * Set value\r\n           */\n          obj.setValue = function (color) {\n            if (!color) {\n              color = '';\n            }\n            if (color != obj.options.value) {\n              obj.options.value = color;\n              slidersResult = color;\n\n              // Remove current selecded mark\n              obj.select(color);\n\n              // Onchange\n              if (typeof obj.options.onchange == 'function') {\n                obj.options.onchange(el, color, obj);\n              }\n\n              // Changes\n              if (el.value != obj.options.value) {\n                // Set input value\n                el.value = obj.options.value;\n                if (el.tagName === 'INPUT') {\n                  el.style.color = el.value;\n                  el.style.backgroundColor = el.value;\n                }\n\n                // Element onchange native\n                if (typeof el.oninput == 'function') {\n                  el.oninput({\n                    type: 'input',\n                    target: el,\n                    value: el.value\n                  });\n                }\n              }\n              if (obj.options.closeOnChange == true) {\n                obj.close();\n              }\n            }\n          };\n\n          /**\r\n           * Get value\r\n           */\n          obj.getValue = function () {\n            return obj.options.value;\n          };\n          var backdropClickControl = false;\n\n          // Converts a number in decimal to hexadecimal\n          var decToHex = function (num) {\n            var hex = num.toString(16);\n            return hex.length === 1 ? \"0\" + hex : hex;\n          };\n\n          // Converts a color in rgb to hexadecimal\n          var rgbToHex = function (r, g, b) {\n            return \"#\" + decToHex(r) + decToHex(g) + decToHex(b);\n          };\n\n          // Converts a number in hexadecimal to decimal\n          var hexToDec = function (hex) {\n            return parseInt('0x' + hex);\n          };\n\n          // Converts a color in hexadecimal to rgb\n          var HexToRgb = function (hex) {\n            return [hexToDec(hex.substr(1, 2)), hexToDec(hex.substr(3, 2)), hexToDec(hex.substr(5, 2))];\n          };\n          var table = function () {\n            // Content of the first tab\n            var tableContainer = document.createElement('div');\n            tableContainer.className = 'jcolor-grid';\n\n            // Cells\n            obj.values = [];\n\n            // Table pallete\n            var t = document.createElement('table');\n            t.setAttribute('cellpadding', '7');\n            t.setAttribute('cellspacing', '0');\n            for (var j = 0; j < obj.options.palette.length; j++) {\n              var tr = document.createElement('tr');\n              for (var i = 0; i < obj.options.palette[j].length; i++) {\n                var td = document.createElement('td');\n                var color = obj.options.palette[j][i];\n                if (color.length < 7 && color.substr(0, 1) !== '#') {\n                  color = '#' + color;\n                }\n                td.style.backgroundColor = color;\n                td.setAttribute('data-value', color);\n                td.innerHTML = '';\n                tr.appendChild(td);\n\n                // Selected color\n                if (obj.options.value == color) {\n                  td.classList.add('jcolor-selected');\n                }\n\n                // Possible values\n                obj.values[color] = td;\n              }\n              t.appendChild(tr);\n            }\n\n            // Append to the table\n            tableContainer.appendChild(t);\n            return tableContainer;\n          };\n\n          // Canvas where the image will be rendered\n          var canvas = document.createElement('canvas');\n          canvas.width = 200;\n          canvas.height = 160;\n          var context = canvas.getContext(\"2d\");\n          var resizeCanvas = function () {\n            // Specifications necessary to correctly obtain colors later in certain positions\n            var m = tabs.firstChild.getBoundingClientRect();\n            canvas.width = m.width - 14;\n            gradient();\n          };\n          var gradient = function () {\n            var g = context.createLinearGradient(0, 0, canvas.width, 0);\n            // Create color gradient\n            g.addColorStop(0, \"rgb(255,0,0)\");\n            g.addColorStop(0.15, \"rgb(255,0,255)\");\n            g.addColorStop(0.33, \"rgb(0,0,255)\");\n            g.addColorStop(0.49, \"rgb(0,255,255)\");\n            g.addColorStop(0.67, \"rgb(0,255,0)\");\n            g.addColorStop(0.84, \"rgb(255,255,0)\");\n            g.addColorStop(1, \"rgb(255,0,0)\");\n            context.fillStyle = g;\n            context.fillRect(0, 0, canvas.width, canvas.height);\n            g = context.createLinearGradient(0, 0, 0, canvas.height);\n            g.addColorStop(0, \"rgba(255,255,255,1)\");\n            g.addColorStop(0.5, \"rgba(255,255,255,0)\");\n            g.addColorStop(0.5, \"rgba(0,0,0,0)\");\n            g.addColorStop(1, \"rgba(0,0,0,1)\");\n            context.fillStyle = g;\n            context.fillRect(0, 0, canvas.width, canvas.height);\n          };\n          var hsl = function () {\n            var element = document.createElement('div');\n            element.className = \"jcolor-hsl\";\n            var point = document.createElement('div');\n            point.className = 'jcolor-point';\n            var div = document.createElement('div');\n            div.appendChild(canvas);\n            div.appendChild(point);\n            element.appendChild(div);\n\n            // Moves the marquee point to the specified position\n            var update = function (buttons, x, y) {\n              if (buttons === 1) {\n                var rect = element.getBoundingClientRect();\n                var left = x - rect.left;\n                var top = y - rect.top;\n                if (left < 0) {\n                  left = 0;\n                }\n                if (top < 0) {\n                  top = 0;\n                }\n                if (left > rect.width) {\n                  left = rect.width;\n                }\n                if (top > rect.height) {\n                  top = rect.height;\n                }\n                point.style.left = left + 'px';\n                point.style.top = top + 'px';\n                var pixel = context.getImageData(left, top, 1, 1).data;\n                slidersResult = rgbToHex(pixel[0], pixel[1], pixel[2]);\n              }\n            };\n\n            // Applies the point's motion function to the div that contains it\n            element.addEventListener('mousedown', function (e) {\n              update(e.buttons, e.clientX, e.clientY);\n            });\n            element.addEventListener('mousemove', function (e) {\n              update(e.buttons, e.clientX, e.clientY);\n            });\n            element.addEventListener('touchmove', function (e) {\n              update(1, e.changedTouches[0].clientX, e.changedTouches[0].clientY);\n            });\n            return element;\n          };\n          var slidersResult = '';\n          var rgbInputs = [];\n          var changeInputColors = function () {\n            if (slidersResult !== '') {\n              for (var j = 0; j < rgbInputs.length; j++) {\n                var currentColor = HexToRgb(slidersResult);\n                currentColor[j] = 0;\n                var newGradient = 'linear-gradient(90deg, rgb(';\n                newGradient += currentColor.join(', ');\n                newGradient += '), rgb(';\n                currentColor[j] = 255;\n                newGradient += currentColor.join(', ');\n                newGradient += '))';\n                rgbInputs[j].style.backgroundImage = newGradient;\n              }\n            }\n          };\n          var sliders = function () {\n            // Content of the third tab\n            var slidersElement = document.createElement('div');\n            slidersElement.className = 'jcolor-sliders';\n            var slidersBody = document.createElement('div');\n\n            // Creates a range-type input with the specified name\n            var createSliderInput = function (name) {\n              var inputContainer = document.createElement('div');\n              inputContainer.className = 'jcolor-sliders-input-container';\n              var label = document.createElement('label');\n              label.innerText = name;\n              var subContainer = document.createElement('div');\n              subContainer.className = 'jcolor-sliders-input-subcontainer';\n              var input = document.createElement('input');\n              input.type = 'range';\n              input.min = 0;\n              input.max = 255;\n              input.value = 0;\n              inputContainer.appendChild(label);\n              subContainer.appendChild(input);\n              var value = document.createElement('div');\n              value.innerText = input.value;\n              input.addEventListener('input', function () {\n                value.innerText = input.value;\n              });\n              subContainer.appendChild(value);\n              inputContainer.appendChild(subContainer);\n              slidersBody.appendChild(inputContainer);\n              return input;\n            };\n\n            // Creates red, green and blue inputs\n            rgbInputs = [createSliderInput('Red'), createSliderInput('Green'), createSliderInput('Blue')];\n            slidersElement.appendChild(slidersBody);\n\n            // Element that prints the current color\n            var slidersResultColor = document.createElement('div');\n            slidersResultColor.className = 'jcolor-sliders-final-color';\n            var resultElement = document.createElement('div');\n            resultElement.style.visibility = 'hidden';\n            resultElement.innerText = 'a';\n            slidersResultColor.appendChild(resultElement);\n\n            // Update the element that prints the current color\n            var updateResult = function () {\n              var resultColor = rgbToHex(parseInt(rgbInputs[0].value), parseInt(rgbInputs[1].value), parseInt(rgbInputs[2].value));\n              resultElement.innerText = resultColor;\n              resultElement.style.color = resultColor;\n              resultElement.style.removeProperty('visibility');\n              slidersResult = resultColor;\n            };\n\n            // Apply the update function to color inputs\n            rgbInputs.forEach(function (rgbInput) {\n              rgbInput.addEventListener('input', function () {\n                updateResult();\n                changeInputColors();\n              });\n            });\n            slidersElement.appendChild(slidersResultColor);\n            return slidersElement;\n          };\n          var init = function () {\n            // Initial options\n            obj.setOptions(options);\n\n            // Add a proper input tag when the element is an input\n            if (el.tagName == 'INPUT') {\n              el.classList.add('jcolor-input');\n              el.readOnly = true;\n            }\n\n            // Table container\n            container = document.createElement('div');\n            container.className = 'jcolor';\n\n            // Table container\n            backdrop = document.createElement('div');\n            backdrop.className = 'jcolor-backdrop';\n            container.appendChild(backdrop);\n\n            // Content\n            content = document.createElement('div');\n            content.className = 'jcolor-content';\n\n            // Controls\n            var controls = document.createElement('div');\n            controls.className = 'jcolor-controls';\n            content.appendChild(controls);\n\n            // Reset button\n            resetButton = document.createElement('div');\n            resetButton.className = 'jcolor-reset';\n            resetButton.innerHTML = obj.options.resetLabel;\n            controls.appendChild(resetButton);\n\n            // Close button\n            closeButton = document.createElement('div');\n            closeButton.className = 'jcolor-close';\n            closeButton.innerHTML = obj.options.doneLabel;\n            controls.appendChild(closeButton);\n\n            // Element that will be used to create the tabs\n            tabs = document.createElement('div');\n            content.appendChild(tabs);\n\n            // Starts the jSuites tabs component\n            jsuitesTabs = Tabs(tabs, {\n              animation: true,\n              data: [{\n                title: 'Grid',\n                contentElement: table()\n              }, {\n                title: 'Spectrum',\n                contentElement: hsl()\n              }, {\n                title: 'Sliders',\n                contentElement: sliders()\n              }],\n              onchange: function (element, instance, index) {\n                if (index === 1) {\n                  resizeCanvas();\n                } else {\n                  var color = slidersResult !== '' ? slidersResult : obj.getValue();\n                  if (index === 2 && color) {\n                    var rgb = HexToRgb(color);\n                    rgbInputs.forEach(function (rgbInput, index) {\n                      rgbInput.value = rgb[index];\n                      rgbInput.dispatchEvent(new Event('input'));\n                    });\n                  }\n                }\n              },\n              palette: 'modern'\n            });\n            container.appendChild(content);\n\n            // Insert picker after the element\n            if (el.tagName == 'INPUT') {\n              el.parentNode.insertBefore(container, el.nextSibling);\n            } else {\n              el.appendChild(container);\n            }\n            container.addEventListener(\"click\", function (e) {\n              if (e.target.tagName == 'TD') {\n                var value = e.target.getAttribute('data-value');\n                if (value) {\n                  obj.setValue(value);\n                }\n              } else if (e.target.classList.contains('jcolor-reset')) {\n                obj.setValue('');\n                obj.close();\n              } else if (e.target.classList.contains('jcolor-close')) {\n                if (jsuitesTabs.getActive() > 0) {\n                  obj.setValue(slidersResult);\n                }\n                obj.close();\n              } else if (e.target.classList.contains('jcolor-backdrop')) {\n                obj.close();\n              } else {\n                obj.open();\n              }\n            });\n\n            /**\r\n             * If element is focus open the picker\r\n             */\n            el.addEventListener(\"mouseup\", function (e) {\n              obj.open();\n            });\n\n            // If the picker is open on the spectrum tab, it changes the canvas size when the window size is changed\n            window.addEventListener('resize', function () {\n              if (container.classList.contains('jcolor-focus') && jsuitesTabs.getActive() == 1) {\n                resizeCanvas();\n              }\n            });\n\n            // Default opened\n            if (obj.options.opened == true) {\n              obj.open();\n            }\n\n            // Change\n            el.change = obj.setValue;\n\n            // Global generic value handler\n            el.val = function (val) {\n              if (val === undefined) {\n                return obj.getValue();\n              } else {\n                obj.setValue(val);\n              }\n            };\n\n            // Keep object available from the node\n            el.color = obj;\n\n            // Container shortcut\n            container.color = obj;\n          };\n          obj.toHex = function (rgb) {\n            var hex = function (x) {\n              return (\"0\" + parseInt(x).toString(16)).slice(-2);\n            };\n            if (rgb) {\n              if (/^#[0-9A-F]{6}$/i.test(rgb)) {\n                return rgb;\n              } else {\n                rgb = rgb.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);\n                if (rgb && rgb.length) {\n                  return \"#\" + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);\n                } else {\n                  return \"\";\n                }\n              }\n            }\n          };\n          init();\n          return obj;\n        }\n        ; // CONCATENATED MODULE: ./src/plugins/contextmenu.js\n\n        function Contextmenu() {\n          var Component = function (el, options) {\n            // New instance\n            var obj = {\n              type: 'contextmenu'\n            };\n            obj.options = {};\n\n            // Default configuration\n            var defaults = {\n              items: null,\n              onclick: null\n            };\n\n            // Loop through our object\n            for (var property in defaults) {\n              if (options && options.hasOwnProperty(property)) {\n                obj.options[property] = options[property];\n              } else {\n                obj.options[property] = defaults[property];\n              }\n            }\n\n            // Class definition\n            el.classList.add('jcontextmenu');\n\n            /**\r\n             * Open contextmenu\r\n             */\n            obj.open = function (e, items) {\n              if (items) {\n                // Update content\n                obj.options.items = items;\n                // Create items\n                obj.create(items);\n              }\n\n              // Close current contextmenu\n              if (Component.current) {\n                Component.current.close();\n              }\n\n              // Add to the opened components monitor\n              Tracking(obj, true);\n\n              // Show context menu\n              el.classList.add('jcontextmenu-focus');\n\n              // Current\n              Component.current = obj;\n\n              // Coordinates\n              if (obj.options.items && obj.options.items.length > 0 || el.children.length) {\n                if (e.target) {\n                  if (e.changedTouches && e.changedTouches[0]) {\n                    x = e.changedTouches[0].clientX;\n                    y = e.changedTouches[0].clientY;\n                  } else {\n                    var x = e.clientX;\n                    var y = e.clientY;\n                  }\n                } else {\n                  var x = e.x;\n                  var y = e.y;\n                }\n                var rect = el.getBoundingClientRect();\n                if (window.innerHeight < y + rect.height) {\n                  var h = y - rect.height;\n                  if (h < 0) {\n                    h = 0;\n                  }\n                  el.style.top = h + 'px';\n                } else {\n                  el.style.top = y + 'px';\n                }\n                if (window.innerWidth < x + rect.width) {\n                  if (x - rect.width > 0) {\n                    el.style.left = x - rect.width + 'px';\n                  } else {\n                    el.style.left = '10px';\n                  }\n                } else {\n                  el.style.left = x + 'px';\n                }\n              }\n            };\n            obj.isOpened = function () {\n              return el.classList.contains('jcontextmenu-focus') ? true : false;\n            };\n\n            /**\r\n             * Close menu\r\n             */\n            obj.close = function () {\n              if (el.classList.contains('jcontextmenu-focus')) {\n                el.classList.remove('jcontextmenu-focus');\n              }\n              Tracking(obj, false);\n            };\n\n            /**\r\n             * Create items based on the declared objectd\r\n             * @param {object} items - List of object\r\n             */\n            obj.create = function (items) {\n              // Update content\n              el.innerHTML = '';\n\n              // Add header contextmenu\n              var itemHeader = createHeader();\n              el.appendChild(itemHeader);\n\n              // Append items\n              for (var i = 0; i < items.length; i++) {\n                var itemContainer = createItemElement(items[i]);\n                el.appendChild(itemContainer);\n              }\n            };\n\n            /**\r\n             * createHeader for context menu\r\n             * @private\r\n             * @returns {HTMLElement}\r\n             */\n            function createHeader() {\n              var header = document.createElement('div');\n              header.classList.add(\"header\");\n              header.addEventListener(\"click\", function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n              });\n              var title = document.createElement('a');\n              title.classList.add(\"title\");\n              title.innerHTML = dictionary.translate(\"Menu\");\n              header.appendChild(title);\n              var closeButton = document.createElement('a');\n              closeButton.classList.add(\"close\");\n              closeButton.innerHTML = dictionary.translate(\"close\");\n              closeButton.addEventListener(\"click\", function (e) {\n                obj.close();\n              });\n              header.appendChild(closeButton);\n              return header;\n            }\n\n            /**\r\n             * Private function for create a new Item element\r\n             * @param {type} item\r\n             * @returns {jsuitesL#15.jSuites.contextmenu.createItemElement.itemContainer}\r\n             */\n            function createItemElement(item) {\n              if (item.type && (item.type == 'line' || item.type == 'divisor')) {\n                var itemContainer = document.createElement('hr');\n              } else {\n                var itemContainer = document.createElement('div');\n                var itemText = document.createElement('a');\n                itemText.innerHTML = item.title;\n                if (item.tooltip) {\n                  itemContainer.setAttribute('title', item.tooltip);\n                }\n                if (item.icon) {\n                  itemContainer.setAttribute('data-icon', item.icon);\n                }\n                if (item.id) {\n                  itemContainer.id = item.id;\n                }\n                if (item.disabled) {\n                  itemContainer.className = 'jcontextmenu-disabled';\n                } else if (item.onclick) {\n                  itemContainer.method = item.onclick;\n                  itemContainer.addEventListener(\"mousedown\", function (e) {\n                    e.preventDefault();\n                  });\n                  itemContainer.addEventListener(\"mouseup\", function (e) {\n                    // Execute method\n                    this.method(this, e);\n                  });\n                }\n                itemContainer.appendChild(itemText);\n                if (item.submenu) {\n                  var itemIconSubmenu = document.createElement('span');\n                  itemIconSubmenu.innerHTML = \"&#9658;\";\n                  itemContainer.appendChild(itemIconSubmenu);\n                  itemContainer.classList.add('jcontexthassubmenu');\n                  var el_submenu = document.createElement('div');\n                  // Class definition\n                  el_submenu.classList.add('jcontextmenu');\n                  // Focusable\n                  el_submenu.setAttribute('tabindex', '900');\n\n                  // Append items\n                  var submenu = item.submenu;\n                  for (var i = 0; i < submenu.length; i++) {\n                    var itemContainerSubMenu = createItemElement(submenu[i]);\n                    el_submenu.appendChild(itemContainerSubMenu);\n                  }\n                  itemContainer.appendChild(el_submenu);\n                } else if (item.shortcut) {\n                  var itemShortCut = document.createElement('span');\n                  itemShortCut.innerHTML = item.shortcut;\n                  itemContainer.appendChild(itemShortCut);\n                }\n              }\n              return itemContainer;\n            }\n            if (typeof obj.options.onclick == 'function') {\n              el.addEventListener('click', function (e) {\n                obj.options.onclick(obj, e);\n              });\n            }\n\n            // Create items\n            if (obj.options.items) {\n              obj.create(obj.options.items);\n            }\n            window.addEventListener(\"mousewheel\", function () {\n              obj.close();\n            });\n            el.contextmenu = obj;\n            return obj;\n          };\n          return Component;\n        }\n\n        /* harmony default export */\n        var contextmenu = Contextmenu();\n        ; // CONCATENATED MODULE: ./src/plugins/dropdown.js\n\n        function Dropdown() {\n          var Component = function (el, options) {\n            // Already created, update options\n            if (el.dropdown) {\n              return el.dropdown.setOptions(options, true);\n            }\n\n            // New instance\n            var obj = {\n              type: 'dropdown'\n            };\n            obj.options = {};\n\n            // Success\n            var success = function (data, val) {\n              // Set data\n              if (data && data.length) {\n                // Sort\n                if (obj.options.sortResults !== false) {\n                  if (typeof obj.options.sortResults == \"function\") {\n                    data.sort(obj.options.sortResults);\n                  } else {\n                    data.sort(sortData);\n                  }\n                }\n                obj.setData(data);\n              }\n\n              // Onload method\n              if (typeof obj.options.onload == 'function') {\n                obj.options.onload(el, obj, data, val);\n              }\n\n              // Set value\n              if (val) {\n                applyValue(val);\n              }\n\n              // Component value\n              if (val === undefined || val === null) {\n                obj.options.value = '';\n              }\n              el.value = obj.options.value;\n\n              // Open dropdown\n              if (obj.options.opened == true) {\n                obj.open();\n              }\n            };\n\n            // Default sort\n            var sortData = function (itemA, itemB) {\n              var testA, testB;\n              if (typeof itemA == \"string\") {\n                testA = itemA;\n              } else {\n                if (itemA.text) {\n                  testA = itemA.text;\n                } else if (itemA.name) {\n                  testA = itemA.name;\n                }\n              }\n              if (typeof itemB == \"string\") {\n                testB = itemB;\n              } else {\n                if (itemB.text) {\n                  testB = itemB.text;\n                } else if (itemB.name) {\n                  testB = itemB.name;\n                }\n              }\n              if (typeof testA == \"string\" || typeof testB == \"string\") {\n                if (typeof testA != \"string\") {\n                  testA = \"\" + testA;\n                }\n                if (typeof testB != \"string\") {\n                  testB = \"\" + testB;\n                }\n                return testA.localeCompare(testB);\n              } else {\n                return testA - testB;\n              }\n            };\n\n            /**\r\n             * Reset the options for the dropdown\r\n             */\n            var resetValue = function () {\n              // Reset value container\n              obj.value = {};\n              // Remove selected\n              for (var i = 0; i < obj.items.length; i++) {\n                if (obj.items[i].selected == true) {\n                  if (obj.items[i].element) {\n                    obj.items[i].element.classList.remove('jdropdown-selected');\n                  }\n                  obj.items[i].selected = null;\n                }\n              }\n              // Reset options\n              obj.options.value = '';\n              // Reset value\n              el.value = '';\n            };\n\n            /**\r\n             * Apply values to the dropdown\r\n             */\n            var applyValue = function (values) {\n              // Reset the current values\n              resetValue();\n\n              // Read values\n              if (values !== null) {\n                if (!values) {\n                  if (typeof obj.value[''] !== 'undefined') {\n                    obj.value[''] = '';\n                  }\n                } else {\n                  if (!Array.isArray(values)) {\n                    values = ('' + values).split(';');\n                  }\n                  for (var i = 0; i < values.length; i++) {\n                    obj.value[values[i]] = '';\n                  }\n                }\n              }\n\n              // Update the DOM\n              for (var i = 0; i < obj.items.length; i++) {\n                if (typeof obj.value[Value(i)] !== 'undefined') {\n                  if (obj.items[i].element) {\n                    obj.items[i].element.classList.add('jdropdown-selected');\n                  }\n                  obj.items[i].selected = true;\n\n                  // Keep label\n                  obj.value[Value(i)] = Text(i);\n                }\n              }\n\n              // Global value\n              obj.options.value = Object.keys(obj.value).join(';');\n\n              // Update labels\n              obj.header.value = obj.getText();\n            };\n\n            // Get the value of one item\n            var Value = function (k, v) {\n              // Legacy purposes\n              if (!obj.options.format) {\n                var property = 'value';\n              } else {\n                var property = 'id';\n              }\n              if (obj.items[k]) {\n                if (v !== undefined) {\n                  return obj.items[k].data[property] = v;\n                } else {\n                  return obj.items[k].data[property];\n                }\n              }\n              return '';\n            };\n\n            // Get the label of one item\n            var Text = function (k, v) {\n              // Legacy purposes\n              if (!obj.options.format) {\n                var property = 'text';\n              } else {\n                var property = 'name';\n              }\n              if (obj.items[k]) {\n                if (v !== undefined) {\n                  return obj.items[k].data[property] = v;\n                } else {\n                  return obj.items[k].data[property];\n                }\n              }\n              return '';\n            };\n            var getValue = function () {\n              return Object.keys(obj.value);\n            };\n            var getText = function () {\n              var data = [];\n              var k = Object.keys(obj.value);\n              for (var i = 0; i < k.length; i++) {\n                data.push(obj.value[k[i]]);\n              }\n              return data;\n            };\n            obj.setOptions = function (options, reset) {\n              if (!options) {\n                options = {};\n              }\n\n              // Default configuration\n              var defaults = {\n                url: null,\n                data: [],\n                format: 0,\n                multiple: false,\n                autocomplete: false,\n                remoteSearch: false,\n                lazyLoading: false,\n                type: null,\n                width: null,\n                maxWidth: null,\n                opened: false,\n                value: null,\n                placeholder: '',\n                newOptions: false,\n                position: false,\n                onchange: null,\n                onload: null,\n                onopen: null,\n                onclose: null,\n                onfocus: null,\n                onblur: null,\n                oninsert: null,\n                onbeforeinsert: null,\n                sortResults: false,\n                autofocus: false\n              };\n\n              // Loop through our object\n              for (var property in defaults) {\n                if (options && options.hasOwnProperty(property)) {\n                  obj.options[property] = options[property];\n                } else {\n                  if (typeof obj.options[property] == 'undefined' || reset === true) {\n                    obj.options[property] = defaults[property];\n                  }\n                }\n              }\n\n              // Force autocomplete search\n              if (obj.options.remoteSearch == true || obj.options.type === 'searchbar') {\n                obj.options.autocomplete = true;\n              }\n\n              // New options\n              if (obj.options.newOptions == true) {\n                obj.header.classList.add('jdropdown-add');\n              } else {\n                obj.header.classList.remove('jdropdown-add');\n              }\n\n              // Autocomplete\n              if (obj.options.autocomplete == true) {\n                obj.header.removeAttribute('readonly');\n              } else {\n                obj.header.setAttribute('readonly', 'readonly');\n              }\n\n              // Place holder\n              if (obj.options.placeholder) {\n                obj.header.setAttribute('placeholder', obj.options.placeholder);\n              } else {\n                obj.header.removeAttribute('placeholder');\n              }\n\n              // Remove specific dropdown typing to add again\n              el.classList.remove('jdropdown-searchbar');\n              el.classList.remove('jdropdown-picker');\n              el.classList.remove('jdropdown-list');\n              if (obj.options.type == 'searchbar') {\n                el.classList.add('jdropdown-searchbar');\n              } else if (obj.options.type == 'list') {\n                el.classList.add('jdropdown-list');\n              } else if (obj.options.type == 'picker') {\n                el.classList.add('jdropdown-picker');\n              } else {\n                if (helpers.getWindowWidth() < 800) {\n                  if (obj.options.autocomplete) {\n                    el.classList.add('jdropdown-searchbar');\n                    obj.options.type = 'searchbar';\n                  } else {\n                    el.classList.add('jdropdown-picker');\n                    obj.options.type = 'picker';\n                  }\n                } else {\n                  if (obj.options.width) {\n                    el.style.width = obj.options.width;\n                    el.style.minWidth = obj.options.width;\n                  } else {\n                    el.style.removeProperty('width');\n                    el.style.removeProperty('min-width');\n                  }\n                  el.classList.add('jdropdown-default');\n                  obj.options.type = 'default';\n                }\n              }\n\n              // Close button\n              if (obj.options.type == 'searchbar') {\n                containerHeader.appendChild(closeButton);\n              } else {\n                container.insertBefore(closeButton, container.firstChild);\n              }\n\n              // Load the content\n              if (obj.options.url && !options.data) {\n                ajax({\n                  url: obj.options.url,\n                  method: 'GET',\n                  dataType: 'json',\n                  success: function (data) {\n                    if (data) {\n                      success(data, obj.options.value);\n                    }\n                  }\n                });\n              } else {\n                success(obj.options.data, obj.options.value);\n              }\n\n              // Return the instance\n              return obj;\n            };\n\n            // Helpers\n            var containerHeader = null;\n            var container = null;\n            var content = null;\n            var closeButton = null;\n            var resetButton = null;\n            var backdrop = null;\n            var keyTimer = null;\n\n            /**\r\n             * Init dropdown\r\n             */\n            var init = function () {\n              // Do not accept null\n              if (!options) {\n                options = {};\n              }\n\n              // If the element is a SELECT tag, create a configuration object\n              if (el.tagName == 'SELECT') {\n                var ret = Component.extractFromDom(el, options);\n                el = ret.el;\n                options = ret.options;\n              }\n\n              // Place holder\n              if (!options.placeholder && el.getAttribute('placeholder')) {\n                options.placeholder = el.getAttribute('placeholder');\n              }\n\n              // Value container\n              obj.value = {};\n              // Containers\n              obj.items = [];\n              obj.groups = [];\n              // Search options\n              obj.search = '';\n              obj.results = null;\n\n              // Create dropdown\n              el.classList.add('jdropdown');\n\n              // Header container\n              containerHeader = document.createElement('div');\n              containerHeader.className = 'jdropdown-container-header';\n\n              // Header\n              obj.header = document.createElement('input');\n              obj.header.className = 'jdropdown-header jss_object';\n              obj.header.type = 'text';\n              obj.header.setAttribute('autocomplete', 'off');\n              obj.header.onfocus = function () {\n                if (typeof obj.options.onfocus == 'function') {\n                  obj.options.onfocus(el);\n                }\n              };\n              obj.header.onblur = function () {\n                if (typeof obj.options.onblur == 'function') {\n                  obj.options.onblur(el);\n                }\n              };\n              obj.header.onkeyup = function (e) {\n                if (obj.options.autocomplete == true && !keyTimer) {\n                  if (obj.search != obj.header.value.trim()) {\n                    keyTimer = setTimeout(function () {\n                      obj.find(obj.header.value.trim());\n                      keyTimer = null;\n                    }, 400);\n                  }\n                  if (!el.classList.contains('jdropdown-focus')) {\n                    obj.open();\n                  }\n                } else {\n                  if (!obj.options.autocomplete) {\n                    obj.next(e.key);\n                  }\n                }\n              };\n\n              // Global controls\n              if (!Component.hasEvents) {\n                // Execute only one time\n                Component.hasEvents = true;\n                // Enter and Esc\n                document.addEventListener(\"keydown\", Component.keydown);\n              }\n\n              // Container\n              container = document.createElement('div');\n              container.className = 'jdropdown-container';\n\n              // Dropdown content\n              content = document.createElement('div');\n              content.className = 'jdropdown-content';\n\n              // Close button\n              closeButton = document.createElement('div');\n              closeButton.className = 'jdropdown-close';\n              closeButton.textContent = 'Done';\n\n              // Reset button\n              resetButton = document.createElement('div');\n              resetButton.className = 'jdropdown-reset';\n              resetButton.textContent = 'x';\n              resetButton.onclick = function () {\n                obj.reset();\n                obj.close();\n              };\n\n              // Create backdrop\n              backdrop = document.createElement('div');\n              backdrop.className = 'jdropdown-backdrop';\n\n              // Append elements\n              containerHeader.appendChild(obj.header);\n              container.appendChild(content);\n              el.appendChild(containerHeader);\n              el.appendChild(container);\n              el.appendChild(backdrop);\n\n              // Set the otiptions\n              obj.setOptions(options);\n              if ('ontouchsend' in document.documentElement === true) {\n                el.addEventListener('touchsend', Component.mouseup);\n              } else {\n                el.addEventListener('mouseup', Component.mouseup);\n              }\n\n              // Lazyloading\n              if (obj.options.lazyLoading == true) {\n                LazyLoading(content, {\n                  loadUp: obj.loadUp,\n                  loadDown: obj.loadDown\n                });\n              }\n              content.onwheel = function (e) {\n                e.stopPropagation();\n              };\n\n              // Change method\n              el.change = obj.setValue;\n\n              // Global generic value handler\n              el.val = function (val) {\n                if (val === undefined) {\n                  return obj.getValue(obj.options.multiple ? true : false);\n                } else {\n                  obj.setValue(val);\n                }\n              };\n\n              // Keep object available from the node\n              el.dropdown = obj;\n            };\n\n            /**\r\n             * Get the current remote source of data URL\r\n             */\n            obj.getUrl = function () {\n              return obj.options.url;\n            };\n\n            /**\r\n             * Set the new data from a remote source\r\n             * @param {string} url - url from the remote source\r\n             * @param {function} callback - callback when the data is loaded\r\n             */\n            obj.setUrl = function (url, callback) {\n              obj.options.url = url;\n              ajax({\n                url: obj.options.url,\n                method: 'GET',\n                dataType: 'json',\n                success: function (data) {\n                  obj.setData(data);\n                  // Callback\n                  if (typeof callback == 'function') {\n                    callback(obj);\n                  }\n                }\n              });\n            };\n\n            /**\r\n             * Set ID for one item\r\n             */\n            obj.setId = function (item, v) {\n              // Legacy purposes\n              if (!obj.options.format) {\n                var property = 'value';\n              } else {\n                var property = 'id';\n              }\n              if (typeof item == 'object') {\n                item[property] = v;\n              } else {\n                obj.items[item].data[property] = v;\n              }\n            };\n\n            /**\r\n             * Add a new item\r\n             * @param {string} title - title of the new item\r\n             * @param {string} id - value/id of the new item\r\n             */\n            obj.add = function (title, id) {\n              if (!title) {\n                var current = obj.options.autocomplete == true ? obj.header.value : '';\n                var title = prompt(dictionary.translate('Add A New Option'), current);\n                if (!title) {\n                  return false;\n                }\n              }\n\n              // Id\n              if (!id) {\n                id = helpers.guid();\n              }\n\n              // Create new item\n              if (!obj.options.format) {\n                var item = {\n                  value: id,\n                  text: title\n                };\n              } else {\n                var item = {\n                  id: id,\n                  name: title\n                };\n              }\n\n              // Callback\n              if (typeof obj.options.onbeforeinsert == 'function') {\n                var ret = obj.options.onbeforeinsert(obj, item);\n                if (ret === false) {\n                  return false;\n                } else if (ret) {\n                  item = ret;\n                }\n              }\n\n              // Add item to the main list\n              obj.options.data.push(item);\n\n              // Create DOM\n              var newItem = obj.createItem(item);\n\n              // Append DOM to the list\n              content.appendChild(newItem.element);\n\n              // Callback\n              if (typeof obj.options.oninsert == 'function') {\n                obj.options.oninsert(obj, item, newItem);\n              }\n\n              // Show content\n              if (content.style.display == 'none') {\n                content.style.display = '';\n              }\n\n              // Search?\n              if (obj.results) {\n                obj.results.push(newItem);\n              }\n              return item;\n            };\n\n            /**\r\n             * Create a new item\r\n             */\n            obj.createItem = function (data, group, groupName) {\n              // Keep the correct source of data\n              if (!obj.options.format) {\n                if (!data.value && data.id !== undefined) {\n                  data.value = data.id;\n                  //delete data.id;\n                }\n\n                if (!data.text && data.name !== undefined) {\n                  data.text = data.name;\n                  //delete data.name;\n                }\n              } else {\n                if (!data.id && data.value !== undefined) {\n                  data.id = data.value;\n                  //delete data.value;\n                }\n\n                if (!data.name && data.text !== undefined) {\n                  data.name = data.text;\n                  //delete data.text;\n                }\n              }\n\n              // Create item\n              var item = {};\n              item.element = document.createElement('div');\n              item.element.className = 'jdropdown-item';\n              item.element.indexValue = obj.items.length;\n              item.data = data;\n\n              // Groupd DOM\n              if (group) {\n                item.group = group;\n              }\n\n              // Id\n              if (data.id) {\n                item.element.setAttribute('id', data.id);\n              }\n\n              // Disabled\n              if (data.disabled == true) {\n                item.element.setAttribute('data-disabled', true);\n              }\n\n              // Tooltip\n              if (data.tooltip) {\n                item.element.setAttribute('title', data.tooltip);\n              }\n\n              // Image\n              if (data.image) {\n                var image = document.createElement('img');\n                image.className = 'jdropdown-image';\n                image.src = data.image;\n                if (!data.title) {\n                  image.classList.add('jdropdown-image-small');\n                }\n                item.element.appendChild(image);\n              } else if (data.icon) {\n                var icon = document.createElement('span');\n                icon.className = \"jdropdown-icon material-icons\";\n                icon.innerText = data.icon;\n                if (!data.title) {\n                  icon.classList.add('jdropdown-icon-small');\n                }\n                if (data.color) {\n                  icon.style.color = data.color;\n                }\n                item.element.appendChild(icon);\n              } else if (data.color) {\n                var color = document.createElement('div');\n                color.className = 'jdropdown-color';\n                color.style.backgroundColor = data.color;\n                item.element.appendChild(color);\n              }\n\n              // Set content\n              if (!obj.options.format) {\n                var text = data.text;\n              } else {\n                var text = data.name;\n              }\n              var node = document.createElement('div');\n              node.className = 'jdropdown-description';\n              node.textContent = text || '&nbsp;';\n\n              // Title\n              if (data.title) {\n                var title = document.createElement('div');\n                title.className = 'jdropdown-title';\n                title.innerText = data.title;\n                node.appendChild(title);\n              }\n\n              // Set content\n              if (!obj.options.format) {\n                var val = data.value;\n              } else {\n                var val = data.id;\n              }\n\n              // Value\n              if (obj.value[val]) {\n                item.element.classList.add('jdropdown-selected');\n                item.selected = true;\n              }\n\n              // Keep DOM accessible\n              obj.items.push(item);\n\n              // Add node to item\n              item.element.appendChild(node);\n              return item;\n            };\n            obj.appendData = function (data) {\n              // Create elements\n              if (data.length) {\n                // Helpers\n                var items = [];\n                var groups = [];\n\n                // Prepare data\n                for (var i = 0; i < data.length; i++) {\n                  // Process groups\n                  if (data[i].group) {\n                    if (!groups[data[i].group]) {\n                      groups[data[i].group] = [];\n                    }\n                    groups[data[i].group].push(i);\n                  } else {\n                    items.push(i);\n                  }\n                }\n\n                // Number of items counter\n                var counter = 0;\n\n                // Groups\n                var groupNames = Object.keys(groups);\n\n                // Append groups in case exists\n                if (groupNames.length > 0) {\n                  for (var i = 0; i < groupNames.length; i++) {\n                    // Group container\n                    var group = document.createElement('div');\n                    group.className = 'jdropdown-group';\n                    // Group name\n                    var groupName = document.createElement('div');\n                    groupName.className = 'jdropdown-group-name';\n                    groupName.textContent = groupNames[i];\n                    // Group arrow\n                    var groupArrow = document.createElement('i');\n                    groupArrow.className = 'jdropdown-group-arrow jdropdown-group-arrow-down';\n                    groupName.appendChild(groupArrow);\n                    // Group items\n                    var groupContent = document.createElement('div');\n                    groupContent.className = 'jdropdown-group-items';\n                    for (var j = 0; j < groups[groupNames[i]].length; j++) {\n                      var item = obj.createItem(data[groups[groupNames[i]][j]], group, groupNames[i]);\n                      if (obj.options.lazyLoading == false || counter < 200) {\n                        groupContent.appendChild(item.element);\n                        counter++;\n                      }\n                    }\n                    // Group itens\n                    group.appendChild(groupName);\n                    group.appendChild(groupContent);\n                    // Keep group DOM\n                    obj.groups.push(group);\n                    // Only add to the screen if children on the group\n                    if (groupContent.children.length > 0) {\n                      // Add DOM to the content\n                      content.appendChild(group);\n                    }\n                  }\n                }\n                if (items.length) {\n                  for (var i = 0; i < items.length; i++) {\n                    var item = obj.createItem(data[items[i]]);\n                    if (obj.options.lazyLoading == false || counter < 200) {\n                      content.appendChild(item.element);\n                      counter++;\n                    }\n                  }\n                }\n              }\n            };\n            obj.setData = function (data) {\n              // Reset current value\n              resetValue();\n\n              // Make sure the content container is blank\n              content.textContent = '';\n\n              // Reset\n              obj.header.value = '';\n\n              // Reset items and values\n              obj.items = [];\n\n              // Prepare data\n              if (data && data.length) {\n                for (var i = 0; i < data.length; i++) {\n                  // Compatibility\n                  if (typeof data[i] != 'object') {\n                    // Correct format\n                    if (!obj.options.format) {\n                      data[i] = {\n                        value: data[i],\n                        text: data[i]\n                      };\n                    } else {\n                      data[i] = {\n                        id: data[i],\n                        name: data[i]\n                      };\n                    }\n                  }\n                }\n\n                // Append data\n                obj.appendData(data);\n\n                // Update data\n                obj.options.data = data;\n              } else {\n                // Update data\n                obj.options.data = [];\n              }\n              obj.close();\n            };\n            obj.getData = function () {\n              return obj.options.data;\n            };\n\n            /**\r\n             * Get position of the item\r\n             */\n            obj.getPosition = function (val) {\n              for (var i = 0; i < obj.items.length; i++) {\n                if (Value(i) == val) {\n                  return i;\n                }\n              }\n              return false;\n            };\n\n            /**\r\n             * Get dropdown current text\r\n             */\n            obj.getText = function (asArray) {\n              // Get value\n              var v = getText();\n              // Return value\n              if (asArray) {\n                return v;\n              } else {\n                return v.join('; ');\n              }\n            };\n\n            /**\r\n             * Get dropdown current value\r\n             */\n            obj.getValue = function (asArray) {\n              // Get value\n              var v = getValue();\n              // Return value\n              if (asArray) {\n                return v;\n              } else {\n                return v.join(';');\n              }\n            };\n\n            /**\r\n             * Change event\r\n             */\n            var change = function (oldValue) {\n              // Lemonade JS\n              if (el.value != obj.options.value) {\n                el.value = obj.options.value;\n                if (typeof el.oninput == 'function') {\n                  el.oninput({\n                    type: 'input',\n                    target: el,\n                    value: el.value\n                  });\n                }\n              }\n\n              // Events\n              if (typeof obj.options.onchange == 'function') {\n                obj.options.onchange(el, obj, oldValue, obj.options.value);\n              }\n            };\n\n            /**\r\n             * Set value\r\n             */\n            obj.setValue = function (newValue) {\n              // Current value\n              var oldValue = obj.getValue();\n              // New value\n              if (Array.isArray(newValue)) {\n                newValue = newValue.join(';');\n              }\n              if (oldValue !== newValue) {\n                // Set value\n                applyValue(newValue);\n\n                // Change\n                change(oldValue);\n              }\n            };\n            obj.resetSelected = function () {\n              obj.setValue(null);\n            };\n            obj.selectIndex = function (index, force) {\n              // Make sure is a number\n              var index = parseInt(index);\n\n              // Only select those existing elements\n              if (obj.items && obj.items[index] && (force === true || obj.items[index].data.disabled !== true)) {\n                // Reset cursor to a new position\n                obj.setCursor(index, false);\n\n                // Behaviour\n                if (!obj.options.multiple) {\n                  // Update value\n                  if (obj.items[index].selected) {\n                    obj.setValue(null);\n                  } else {\n                    obj.setValue(Value(index));\n                  }\n\n                  // Close component\n                  obj.close();\n                } else {\n                  // Old value\n                  var oldValue = obj.options.value;\n\n                  // Toggle option\n                  if (obj.items[index].selected) {\n                    obj.items[index].element.classList.remove('jdropdown-selected');\n                    obj.items[index].selected = false;\n                    delete obj.value[Value(index)];\n                  } else {\n                    // Select element\n                    obj.items[index].element.classList.add('jdropdown-selected');\n                    obj.items[index].selected = true;\n\n                    // Set value\n                    obj.value[Value(index)] = Text(index);\n                  }\n\n                  // Global value\n                  obj.options.value = Object.keys(obj.value).join(';');\n\n                  // Update labels for multiple dropdown\n                  if (obj.options.autocomplete == false) {\n                    obj.header.value = getText().join('; ');\n                  }\n\n                  // Events\n                  change(oldValue);\n                }\n              }\n            };\n            obj.selectItem = function (item) {\n              obj.selectIndex(item.indexValue);\n            };\n            var exists = function (k, result) {\n              for (var j = 0; j < result.length; j++) {\n                if (!obj.options.format) {\n                  if (result[j].value == k) {\n                    return true;\n                  }\n                } else {\n                  if (result[j].id == k) {\n                    return true;\n                  }\n                }\n              }\n              return false;\n            };\n            obj.find = function (str) {\n              if (obj.search == str.trim()) {\n                return false;\n              }\n\n              // Search term\n              obj.search = str;\n\n              // Reset index\n              obj.setCursor();\n\n              // Remove nodes from all groups\n              if (obj.groups.length) {\n                for (var i = 0; i < obj.groups.length; i++) {\n                  obj.groups[i].lastChild.textContent = '';\n                }\n              }\n\n              // Remove all nodes\n              content.textContent = '';\n\n              // Remove current items in the remote search\n              if (obj.options.remoteSearch == true) {\n                // Reset results\n                obj.results = null;\n                // URL\n                var url = obj.options.url + (obj.options.url.indexOf('?') > 0 ? '&' : '?') + 'q=' + str;\n                // Remote search\n                ajax({\n                  url: url,\n                  method: 'GET',\n                  dataType: 'json',\n                  success: function (result) {\n                    // Reset items\n                    obj.items = [];\n\n                    // Add the current selected items to the results in case they are not there\n                    var current = Object.keys(obj.value);\n                    if (current.length) {\n                      for (var i = 0; i < current.length; i++) {\n                        if (!exists(current[i], result)) {\n                          if (!obj.options.format) {\n                            result.unshift({\n                              value: current[i],\n                              text: obj.value[current[i]]\n                            });\n                          } else {\n                            result.unshift({\n                              id: current[i],\n                              name: obj.value[current[i]]\n                            });\n                          }\n                        }\n                      }\n                    }\n                    // Append data\n                    obj.appendData(result);\n                    // Show or hide results\n                    if (!result.length) {\n                      content.style.display = 'none';\n                    } else {\n                      content.style.display = '';\n                    }\n                  }\n                });\n              } else {\n                // Search terms\n                str = new RegExp(str, 'gi');\n\n                // Reset search\n                var results = [];\n\n                // Append options\n                for (var i = 0; i < obj.items.length; i++) {\n                  // Item label\n                  var label = Text(i);\n                  // Item title\n                  var title = obj.items[i].data.title || '';\n                  // Group name\n                  var groupName = obj.items[i].data.group || '';\n                  // Synonym\n                  var synonym = obj.items[i].data.synonym || '';\n                  if (synonym) {\n                    synonym = synonym.join(' ');\n                  }\n                  if (str == null || obj.items[i].selected == true || label.match(str) || title.match(str) || groupName.match(str) || synonym.match(str)) {\n                    results.push(obj.items[i]);\n                  }\n                }\n                if (!results.length) {\n                  content.style.display = 'none';\n\n                  // Results\n                  obj.results = null;\n                } else {\n                  content.style.display = '';\n\n                  // Results\n                  obj.results = results;\n\n                  // Show 200 items at once\n                  var number = results.length || 0;\n\n                  // Lazyloading\n                  if (obj.options.lazyLoading == true && number > 200) {\n                    number = 200;\n                  }\n                  for (var i = 0; i < number; i++) {\n                    if (obj.results[i].group) {\n                      if (!obj.results[i].group.parentNode) {\n                        content.appendChild(obj.results[i].group);\n                      }\n                      obj.results[i].group.lastChild.appendChild(obj.results[i].element);\n                    } else {\n                      content.appendChild(obj.results[i].element);\n                    }\n                  }\n                }\n              }\n\n              // Auto focus\n              if (obj.options.autofocus == true) {\n                obj.first();\n              }\n            };\n            obj.open = function () {\n              // Focus\n              if (!el.classList.contains('jdropdown-focus')) {\n                // Current dropdown\n                Component.current = obj;\n\n                // Start tracking\n                Tracking(obj, true);\n\n                // Add focus\n                el.classList.add('jdropdown-focus');\n\n                // Animation\n                if (helpers.getWindowWidth() < 800) {\n                  if (obj.options.type == null || obj.options.type == 'picker') {\n                    animation.slideBottom(container, 1);\n                  }\n                }\n\n                // Filter\n                if (obj.options.autocomplete == true) {\n                  obj.header.value = obj.search;\n                  obj.header.focus();\n                }\n\n                // Set cursor for the first or first selected element\n                var k = getValue();\n                if (k[0]) {\n                  var cursor = obj.getPosition(k[0]);\n                  if (cursor !== false) {\n                    obj.setCursor(cursor);\n                  }\n                }\n\n                // Container Size\n                if (!obj.options.type || obj.options.type == 'default') {\n                  var rect = el.getBoundingClientRect();\n                  var rectContainer = container.getBoundingClientRect();\n                  if (obj.options.position) {\n                    container.style.position = 'fixed';\n                    if (window.innerHeight < rect.bottom + rectContainer.height) {\n                      container.style.top = '';\n                      container.style.bottom = window.innerHeight - rect.top + 1 + 'px';\n                    } else {\n                      container.style.top = rect.bottom + 'px';\n                      container.style.bottom = '';\n                    }\n                    container.style.left = rect.left + 'px';\n                  } else {\n                    if (window.innerHeight < rect.bottom + rectContainer.height) {\n                      container.style.top = '';\n                      container.style.bottom = rect.height + 1 + 'px';\n                    } else {\n                      container.style.top = '';\n                      container.style.bottom = '';\n                    }\n                  }\n                  container.style.minWidth = rect.width + 'px';\n                  if (obj.options.maxWidth) {\n                    container.style.maxWidth = obj.options.maxWidth;\n                  }\n                  if (!obj.items.length && obj.options.autocomplete == true) {\n                    content.style.display = 'none';\n                  } else {\n                    content.style.display = '';\n                  }\n                }\n              }\n\n              // Events\n              if (typeof obj.options.onopen == 'function') {\n                obj.options.onopen(el);\n              }\n            };\n            obj.close = function (ignoreEvents) {\n              if (el.classList.contains('jdropdown-focus')) {\n                // Update labels\n                obj.header.value = obj.getText();\n                // Remove cursor\n                obj.setCursor();\n                // Events\n                if (!ignoreEvents && typeof obj.options.onclose == 'function') {\n                  obj.options.onclose(el);\n                }\n                // Blur\n                if (obj.header.blur) {\n                  obj.header.blur();\n                }\n                // Remove focus\n                el.classList.remove('jdropdown-focus');\n                // Start tracking\n                Tracking(obj, false);\n                // Current dropdown\n                Component.current = null;\n              }\n              return obj.getValue();\n            };\n\n            /**\r\n             * Set cursor\r\n             */\n            obj.setCursor = function (index, setPosition) {\n              // Remove current cursor\n              if (obj.currentIndex != null) {\n                // Remove visual cursor\n                if (obj.items && obj.items[obj.currentIndex]) {\n                  obj.items[obj.currentIndex].element.classList.remove('jdropdown-cursor');\n                }\n              }\n              if (index == undefined) {\n                obj.currentIndex = null;\n              } else {\n                index = parseInt(index);\n\n                // Cursor only for visible items\n                if (obj.items[index].element.parentNode) {\n                  obj.items[index].element.classList.add('jdropdown-cursor');\n                  obj.currentIndex = index;\n\n                  // Update scroll to the cursor element\n                  if (setPosition !== false && obj.items[obj.currentIndex].element) {\n                    var container = content.scrollTop;\n                    var element = obj.items[obj.currentIndex].element;\n                    content.scrollTop = element.offsetTop - element.scrollTop + element.clientTop - 95;\n                  }\n                }\n              }\n            };\n\n            // Compatibility\n            obj.resetCursor = obj.setCursor;\n            obj.updateCursor = obj.setCursor;\n\n            /**\r\n             * Reset cursor and selected items\r\n             */\n            obj.reset = function () {\n              // Reset cursor\n              obj.setCursor();\n\n              // Reset selected\n              obj.setValue(null);\n            };\n\n            /**\r\n             * First available item\r\n             */\n            obj.first = function () {\n              if (obj.options.lazyLoading === true) {\n                obj.loadFirst();\n              }\n              var items = content.querySelectorAll('.jdropdown-item');\n              if (items.length) {\n                var newIndex = items[0].indexValue;\n                obj.setCursor(newIndex);\n              }\n            };\n\n            /**\r\n             * Last available item\r\n             */\n            obj.last = function () {\n              if (obj.options.lazyLoading === true) {\n                obj.loadLast();\n              }\n              var items = content.querySelectorAll('.jdropdown-item');\n              if (items.length) {\n                var newIndex = items[items.length - 1].indexValue;\n                obj.setCursor(newIndex);\n              }\n            };\n            obj.next = function (letter) {\n              var newIndex = null;\n              if (letter) {\n                if (letter.length == 1) {\n                  // Current index\n                  var current = obj.currentIndex || -1;\n                  // Letter\n                  letter = letter.toLowerCase();\n                  var e = null;\n                  var l = null;\n                  var items = content.querySelectorAll('.jdropdown-item');\n                  if (items.length) {\n                    for (var i = 0; i < items.length; i++) {\n                      if (items[i].indexValue > current) {\n                        if (e = obj.items[items[i].indexValue]) {\n                          if (l = e.element.innerText[0]) {\n                            l = l.toLowerCase();\n                            if (letter == l) {\n                              newIndex = items[i].indexValue;\n                              break;\n                            }\n                          }\n                        }\n                      }\n                    }\n                    obj.setCursor(newIndex);\n                  }\n                }\n              } else {\n                if (obj.currentIndex == undefined || obj.currentIndex == null) {\n                  obj.first();\n                } else {\n                  var element = obj.items[obj.currentIndex].element;\n                  var next = element.nextElementSibling;\n                  if (next) {\n                    if (next.classList.contains('jdropdown-group')) {\n                      next = next.lastChild.firstChild;\n                    }\n                    newIndex = next.indexValue;\n                  } else {\n                    if (element.parentNode.classList.contains('jdropdown-group-items')) {\n                      if (next = element.parentNode.parentNode.nextElementSibling) {\n                        if (next.classList.contains('jdropdown-group')) {\n                          next = next.lastChild.firstChild;\n                        } else if (next.classList.contains('jdropdown-item')) {\n                          newIndex = next.indexValue;\n                        } else {\n                          next = null;\n                        }\n                      }\n                      if (next) {\n                        newIndex = next.indexValue;\n                      }\n                    }\n                  }\n                  if (newIndex !== null) {\n                    obj.setCursor(newIndex);\n                  }\n                }\n              }\n            };\n            obj.prev = function () {\n              var newIndex = null;\n              if (obj.currentIndex === null) {\n                obj.first();\n              } else {\n                var element = obj.items[obj.currentIndex].element;\n                var prev = element.previousElementSibling;\n                if (prev) {\n                  if (prev.classList.contains('jdropdown-group')) {\n                    prev = prev.lastChild.lastChild;\n                  }\n                  newIndex = prev.indexValue;\n                } else {\n                  if (element.parentNode.classList.contains('jdropdown-group-items')) {\n                    if (prev = element.parentNode.parentNode.previousElementSibling) {\n                      if (prev.classList.contains('jdropdown-group')) {\n                        prev = prev.lastChild.lastChild;\n                      } else if (prev.classList.contains('jdropdown-item')) {\n                        newIndex = prev.indexValue;\n                      } else {\n                        prev = null;\n                      }\n                    }\n                    if (prev) {\n                      newIndex = prev.indexValue;\n                    }\n                  }\n                }\n              }\n              if (newIndex !== null) {\n                obj.setCursor(newIndex);\n              }\n            };\n            obj.loadFirst = function () {\n              // Search\n              if (obj.results) {\n                var results = obj.results;\n              } else {\n                var results = obj.items;\n              }\n\n              // Show 200 items at once\n              var number = results.length || 0;\n\n              // Lazyloading\n              if (obj.options.lazyLoading == true && number > 200) {\n                number = 200;\n              }\n\n              // Reset container\n              content.textContent = '';\n\n              // First 200 items\n              for (var i = 0; i < number; i++) {\n                if (results[i].group) {\n                  if (!results[i].group.parentNode) {\n                    content.appendChild(results[i].group);\n                  }\n                  results[i].group.lastChild.appendChild(results[i].element);\n                } else {\n                  content.appendChild(results[i].element);\n                }\n              }\n\n              // Scroll go to the begin\n              content.scrollTop = 0;\n            };\n            obj.loadLast = function () {\n              // Search\n              if (obj.results) {\n                var results = obj.results;\n              } else {\n                var results = obj.items;\n              }\n\n              // Show first page\n              var number = results.length;\n\n              // Max 200 items\n              if (number > 200) {\n                number = number - 200;\n\n                // Reset container\n                content.textContent = '';\n\n                // First 200 items\n                for (var i = number; i < results.length; i++) {\n                  if (results[i].group) {\n                    if (!results[i].group.parentNode) {\n                      content.appendChild(results[i].group);\n                    }\n                    results[i].group.lastChild.appendChild(results[i].element);\n                  } else {\n                    content.appendChild(results[i].element);\n                  }\n                }\n\n                // Scroll go to the begin\n                content.scrollTop = content.scrollHeight;\n              }\n            };\n            obj.loadUp = function () {\n              var test = false;\n\n              // Search\n              if (obj.results) {\n                var results = obj.results;\n              } else {\n                var results = obj.items;\n              }\n              var items = content.querySelectorAll('.jdropdown-item');\n              var fistItem = items[0].indexValue;\n              fistItem = obj.items[fistItem];\n              var index = results.indexOf(fistItem) - 1;\n              if (index > 0) {\n                var number = 0;\n                while (index > 0 && results[index] && number < 200) {\n                  if (results[index].group) {\n                    if (!results[index].group.parentNode) {\n                      content.insertBefore(results[index].group, content.firstChild);\n                    }\n                    results[index].group.lastChild.insertBefore(results[index].element, results[index].group.lastChild.firstChild);\n                  } else {\n                    content.insertBefore(results[index].element, content.firstChild);\n                  }\n                  index--;\n                  number++;\n                }\n\n                // New item added\n                test = true;\n              }\n              return test;\n            };\n            obj.loadDown = function () {\n              var test = false;\n\n              // Search\n              if (obj.results) {\n                var results = obj.results;\n              } else {\n                var results = obj.items;\n              }\n              var items = content.querySelectorAll('.jdropdown-item');\n              var lastItem = items[items.length - 1].indexValue;\n              lastItem = obj.items[lastItem];\n              var index = results.indexOf(lastItem) + 1;\n              if (index < results.length) {\n                var number = 0;\n                while (index < results.length && results[index] && number < 200) {\n                  if (results[index].group) {\n                    if (!results[index].group.parentNode) {\n                      content.appendChild(results[index].group);\n                    }\n                    results[index].group.lastChild.appendChild(results[index].element);\n                  } else {\n                    content.appendChild(results[index].element);\n                  }\n                  index++;\n                  number++;\n                }\n\n                // New item added\n                test = true;\n              }\n              return test;\n            };\n            init();\n            return obj;\n          };\n          Component.keydown = function (e) {\n            var dropdown = null;\n            if (dropdown = Component.current) {\n              if (e.which == 13 || e.which == 9) {\n                // enter or tab\n                if (dropdown.header.value && dropdown.currentIndex == null && dropdown.options.newOptions) {\n                  // if they typed something in, but it matched nothing, and newOptions are allowed, start that flow\n                  dropdown.add();\n                } else {\n                  // Quick Select/Filter\n                  if (dropdown.currentIndex == null && dropdown.options.autocomplete == true && dropdown.header.value != \"\") {\n                    dropdown.find(dropdown.header.value);\n                  }\n                  dropdown.selectIndex(dropdown.currentIndex);\n                }\n              } else if (e.which == 38) {\n                // up arrow\n                if (dropdown.currentIndex == null) {\n                  dropdown.first();\n                } else if (dropdown.currentIndex > 0) {\n                  dropdown.prev();\n                }\n                e.preventDefault();\n              } else if (e.which == 40) {\n                // down arrow\n                if (dropdown.currentIndex == null) {\n                  dropdown.first();\n                } else if (dropdown.currentIndex + 1 < dropdown.items.length) {\n                  dropdown.next();\n                }\n                e.preventDefault();\n              } else if (e.which == 36) {\n                dropdown.first();\n                if (!e.target.classList.contains('jdropdown-header')) {\n                  e.preventDefault();\n                }\n              } else if (e.which == 35) {\n                dropdown.last();\n                if (!e.target.classList.contains('jdropdown-header')) {\n                  e.preventDefault();\n                }\n              } else if (e.which == 27) {\n                dropdown.close();\n              } else if (e.which == 33) {\n                // page up\n                if (dropdown.currentIndex == null) {\n                  dropdown.first();\n                } else if (dropdown.currentIndex > 0) {\n                  for (var i = 0; i < 7; i++) {\n                    dropdown.prev();\n                  }\n                }\n                e.preventDefault();\n              } else if (e.which == 34) {\n                // page down\n                if (dropdown.currentIndex == null) {\n                  dropdown.first();\n                } else if (dropdown.currentIndex + 1 < dropdown.items.length) {\n                  for (var i = 0; i < 7; i++) {\n                    dropdown.next();\n                  }\n                }\n                e.preventDefault();\n              }\n            }\n          };\n          Component.mouseup = function (e) {\n            var element = helpers.findElement(e.target, 'jdropdown');\n            if (element) {\n              var dropdown = element.dropdown;\n              if (e.target.classList.contains('jdropdown-header')) {\n                if (element.classList.contains('jdropdown-focus') && element.classList.contains('jdropdown-default')) {\n                  var rect = element.getBoundingClientRect();\n                  if (e.changedTouches && e.changedTouches[0]) {\n                    var x = e.changedTouches[0].clientX;\n                    var y = e.changedTouches[0].clientY;\n                  } else {\n                    var x = e.clientX;\n                    var y = e.clientY;\n                  }\n                  if (rect.width - (x - rect.left) < 30) {\n                    if (e.target.classList.contains('jdropdown-add')) {\n                      dropdown.add();\n                    } else {\n                      dropdown.close();\n                    }\n                  } else {\n                    if (dropdown.options.autocomplete == false) {\n                      dropdown.close();\n                    }\n                  }\n                } else {\n                  dropdown.open();\n                }\n              } else if (e.target.classList.contains('jdropdown-group-name')) {\n                var items = e.target.nextSibling.children;\n                if (e.target.nextSibling.style.display != 'none') {\n                  for (var i = 0; i < items.length; i++) {\n                    if (items[i].style.display != 'none') {\n                      dropdown.selectItem(items[i]);\n                    }\n                  }\n                }\n              } else if (e.target.classList.contains('jdropdown-group-arrow')) {\n                if (e.target.classList.contains('jdropdown-group-arrow-down')) {\n                  e.target.classList.remove('jdropdown-group-arrow-down');\n                  e.target.classList.add('jdropdown-group-arrow-up');\n                  e.target.parentNode.nextSibling.style.display = 'none';\n                } else {\n                  e.target.classList.remove('jdropdown-group-arrow-up');\n                  e.target.classList.add('jdropdown-group-arrow-down');\n                  e.target.parentNode.nextSibling.style.display = '';\n                }\n              } else if (e.target.classList.contains('jdropdown-item')) {\n                dropdown.selectItem(e.target);\n              } else if (e.target.classList.contains('jdropdown-image')) {\n                dropdown.selectItem(e.target.parentNode);\n              } else if (e.target.classList.contains('jdropdown-description')) {\n                dropdown.selectItem(e.target.parentNode);\n              } else if (e.target.classList.contains('jdropdown-title')) {\n                dropdown.selectItem(e.target.parentNode.parentNode);\n              } else if (e.target.classList.contains('jdropdown-close') || e.target.classList.contains('jdropdown-backdrop')) {\n                dropdown.close();\n              }\n            }\n          };\n          Component.extractFromDom = function (el, options) {\n            // Keep reference\n            var select = el;\n            if (!options) {\n              options = {};\n            }\n            // Prepare configuration\n            if (el.getAttribute('multiple') && (!options || options.multiple == undefined)) {\n              options.multiple = true;\n            }\n            if (el.getAttribute('placeholder') && (!options || options.placeholder == undefined)) {\n              options.placeholder = el.getAttribute('placeholder');\n            }\n            if (el.getAttribute('data-autocomplete') && (!options || options.autocomplete == undefined)) {\n              options.autocomplete = true;\n            }\n            if (!options || options.width == undefined) {\n              options.width = el.offsetWidth;\n            }\n            if (el.value && (!options || options.value == undefined)) {\n              options.value = el.value;\n            }\n            if (!options || options.data == undefined) {\n              options.data = [];\n              for (var j = 0; j < el.children.length; j++) {\n                if (el.children[j].tagName == 'OPTGROUP') {\n                  for (var i = 0; i < el.children[j].children.length; i++) {\n                    options.data.push({\n                      value: el.children[j].children[i].value,\n                      text: el.children[j].children[i].textContent,\n                      group: el.children[j].getAttribute('label')\n                    });\n                  }\n                } else {\n                  options.data.push({\n                    value: el.children[j].value,\n                    text: el.children[j].textContent\n                  });\n                }\n              }\n            }\n            if (!options || options.onchange == undefined) {\n              options.onchange = function (a, b, c, d) {\n                if (options.multiple == true) {\n                  if (obj.items[b].classList.contains('jdropdown-selected')) {\n                    select.options[b].setAttribute('selected', 'selected');\n                  } else {\n                    select.options[b].removeAttribute('selected');\n                  }\n                } else {\n                  select.value = d;\n                }\n              };\n            }\n            // Create DIV\n            var div = document.createElement('div');\n            el.parentNode.insertBefore(div, el);\n            el.style.display = 'none';\n            el = div;\n            return {\n              el: el,\n              options: options\n            };\n          };\n          return Component;\n        }\n\n        /* harmony default export */\n        var dropdown = Dropdown();\n        ; // CONCATENATED MODULE: ./src/plugins/picker.js\n\n        function Picker(el, options) {\n          // Already created, update options\n          if (el.picker) {\n            return el.picker.setOptions(options, true);\n          }\n\n          // New instance\n          var obj = {\n            type: 'picker'\n          };\n          obj.options = {};\n          var dropdownHeader = null;\n          var dropdownContent = null;\n\n          /**\n           * The element passed is a DOM element\n           */\n          var isDOM = function (o) {\n            return o instanceof Element || o instanceof HTMLDocument;\n          };\n\n          /**\n           * Create the content options\n           */\n          var createContent = function () {\n            dropdownContent.innerHTML = '';\n\n            // Create items\n            var keys = Object.keys(obj.options.data);\n\n            // Go though all options\n            for (var i = 0; i < keys.length; i++) {\n              // Item\n              var dropdownItem = document.createElement('div');\n              dropdownItem.classList.add('jpicker-item');\n              dropdownItem.k = keys[i];\n              dropdownItem.v = obj.options.data[keys[i]];\n              // Label\n              var item = obj.getLabel(keys[i], dropdownItem);\n              if (isDOM(item)) {\n                dropdownItem.appendChild(item);\n              } else {\n                dropdownItem.innerHTML = item;\n              }\n              // Append\n              dropdownContent.appendChild(dropdownItem);\n            }\n          };\n\n          /**\n           * Set or reset the options for the picker\n           */\n          obj.setOptions = function (options, reset) {\n            // Default configuration\n            var defaults = {\n              value: 0,\n              data: null,\n              render: null,\n              onchange: null,\n              onmouseover: null,\n              onselect: null,\n              onopen: null,\n              onclose: null,\n              onload: null,\n              width: null,\n              header: true,\n              right: false,\n              bottom: false,\n              content: false,\n              columns: null,\n              grid: null,\n              height: null\n            };\n\n            // Legacy purpose only\n            if (options && options.options) {\n              options.data = options.options;\n            }\n\n            // Loop through the initial configuration\n            for (var property in defaults) {\n              if (options && options.hasOwnProperty(property)) {\n                obj.options[property] = options[property];\n              } else {\n                if (typeof obj.options[property] == 'undefined' || reset === true) {\n                  obj.options[property] = defaults[property];\n                }\n              }\n            }\n\n            // Start using the options\n            if (obj.options.header === false) {\n              dropdownHeader.style.display = 'none';\n            } else {\n              dropdownHeader.style.display = '';\n            }\n\n            // Width\n            if (obj.options.width) {\n              dropdownHeader.style.width = parseInt(obj.options.width) + 'px';\n            } else {\n              dropdownHeader.style.width = '';\n            }\n\n            // Height\n            if (obj.options.height) {\n              dropdownContent.style.maxHeight = obj.options.height + 'px';\n              dropdownContent.style.overflow = 'scroll';\n            } else {\n              dropdownContent.style.overflow = '';\n            }\n            if (obj.options.columns > 0) {\n              if (!obj.options.grid) {\n                dropdownContent.classList.add('jpicker-columns');\n                dropdownContent.style.width = obj.options.width ? obj.options.width : 36 * obj.options.columns + 'px';\n              } else {\n                dropdownContent.classList.add('jpicker-grid');\n                dropdownContent.style.gridTemplateColumns = 'repeat(' + obj.options.grid + ', 1fr)';\n              }\n            }\n            if (isNaN(parseInt(obj.options.value))) {\n              obj.options.value = 0;\n            }\n\n            // Create list from data\n            createContent();\n\n            // Set value\n            obj.setValue(obj.options.value);\n\n            // Set options all returns the own instance\n            return obj;\n          };\n          obj.getValue = function () {\n            return obj.options.value;\n          };\n          obj.setValue = function (k, e) {\n            // Set label\n            obj.setLabel(k);\n\n            // Update value\n            obj.options.value = String(k);\n\n            // Lemonade JS\n            if (el.value != obj.options.value) {\n              el.value = obj.options.value;\n              if (typeof el.oninput == 'function') {\n                el.oninput({\n                  type: 'input',\n                  target: el,\n                  value: el.value\n                });\n              }\n            }\n            if (dropdownContent.children[k] && dropdownContent.children[k].getAttribute('type') !== 'generic') {\n              obj.close();\n            }\n\n            // Call method\n            if (e) {\n              if (typeof obj.options.onchange == 'function') {\n                var v = obj.options.data[k];\n                obj.options.onchange(el, obj, v, v, k, e);\n              }\n            }\n          };\n          obj.getLabel = function (v, item) {\n            var label = obj.options.data[v] || null;\n            if (typeof obj.options.render == 'function') {\n              label = obj.options.render(label, item);\n            }\n            return label;\n          };\n          obj.setLabel = function (v) {\n            var item;\n            if (obj.options.content) {\n              item = '<i class=\"material-icons\">' + obj.options.content + '</i>';\n            } else {\n              item = obj.getLabel(v, null);\n            }\n            // Label\n            if (isDOM(item)) {\n              dropdownHeader.innerHTML = '';\n              dropdownHeader.appendChild(item);\n            } else {\n              dropdownHeader.innerHTML = item;\n            }\n          };\n          obj.open = function () {\n            if (!el.classList.contains('jpicker-focus')) {\n              // Start tracking the element\n              Tracking(obj, true);\n\n              // Open picker\n              el.classList.add('jpicker-focus');\n              el.focus();\n              var top = 0;\n              var left = 0;\n              dropdownContent.style.marginLeft = '';\n              var rectHeader = dropdownHeader.getBoundingClientRect();\n              var rectContent = dropdownContent.getBoundingClientRect();\n              if (window.innerHeight < rectHeader.bottom + rectContent.height || obj.options.bottom) {\n                top = -1 * (rectContent.height + 4);\n              } else {\n                top = rectHeader.height + 4;\n              }\n              if (obj.options.right === true) {\n                left = -1 * rectContent.width + rectHeader.width;\n              }\n              if (rectContent.left + left < 0) {\n                left = left + rectContent.left + 10;\n              }\n              if (rectContent.left + rectContent.width > window.innerWidth) {\n                left = -1 * (10 + rectContent.left + rectContent.width - window.innerWidth);\n              }\n              dropdownContent.style.marginTop = parseInt(top) + 'px';\n              dropdownContent.style.marginLeft = parseInt(left) + 'px';\n\n              //dropdownContent.style.marginTop\n              if (typeof obj.options.onopen == 'function') {\n                obj.options.onopen(el, obj);\n              }\n            }\n          };\n          obj.close = function () {\n            if (el.classList.contains('jpicker-focus')) {\n              el.classList.remove('jpicker-focus');\n\n              // Start tracking the element\n              Tracking(obj, false);\n              if (typeof obj.options.onclose == 'function') {\n                obj.options.onclose(el, obj);\n              }\n            }\n          };\n\n          /**\n           * Create floating picker\n           */\n          var init = function () {\n            // Class\n            el.classList.add('jpicker');\n            el.setAttribute('tabindex', '900');\n            el.onmousedown = function (e) {\n              if (!el.classList.contains('jpicker-focus')) {\n                obj.open();\n              }\n            };\n\n            // Dropdown Header\n            dropdownHeader = document.createElement('div');\n            dropdownHeader.classList.add('jpicker-header');\n\n            // Dropdown content\n            dropdownContent = document.createElement('div');\n            dropdownContent.classList.add('jpicker-content');\n            dropdownContent.onclick = function (e) {\n              var item = helpers.findElement(e.target, 'jpicker-item');\n              if (item) {\n                if (item.parentNode === dropdownContent) {\n                  // Update label\n                  obj.setValue(item.k, e);\n                }\n              }\n            };\n            // Append content and header\n            el.appendChild(dropdownHeader);\n            el.appendChild(dropdownContent);\n\n            // Default value\n            el.value = options.value || 0;\n\n            // Set options\n            obj.setOptions(options);\n            if (typeof obj.options.onload == 'function') {\n              obj.options.onload(el, obj);\n            }\n\n            // Change\n            el.change = obj.setValue;\n\n            // Global generic value handler\n            el.val = function (val) {\n              if (val === undefined) {\n                return obj.getValue();\n              } else {\n                obj.setValue(val);\n              }\n            };\n\n            // Reference\n            el.picker = obj;\n          };\n          init();\n          return obj;\n        }\n        ; // CONCATENATED MODULE: ./src/plugins/toolbar.js\n\n        function Toolbar(el, options) {\n          // New instance\n          var obj = {\n            type: 'toolbar'\n          };\n          obj.options = {};\n\n          // Default configuration\n          var defaults = {\n            app: null,\n            container: false,\n            badge: false,\n            title: false,\n            responsive: false,\n            maxWidth: null,\n            bottom: true,\n            items: []\n          };\n\n          // Loop through our object\n          for (var property in defaults) {\n            if (options && options.hasOwnProperty(property)) {\n              obj.options[property] = options[property];\n            } else {\n              obj.options[property] = defaults[property];\n            }\n          }\n          if (!el && options.app && options.app.el) {\n            el = document.createElement('div');\n            options.app.el.appendChild(el);\n          }\n\n          // Arrow\n          var toolbarArrow = document.createElement('div');\n          toolbarArrow.classList.add('jtoolbar-item');\n          toolbarArrow.classList.add('jtoolbar-arrow');\n          var toolbarFloating = document.createElement('div');\n          toolbarFloating.classList.add('jtoolbar-floating');\n          toolbarArrow.appendChild(toolbarFloating);\n          obj.selectItem = function (element) {\n            var elements = toolbarContent.children;\n            for (var i = 0; i < elements.length; i++) {\n              if (element != elements[i]) {\n                elements[i].classList.remove('jtoolbar-selected');\n              }\n            }\n            element.classList.add('jtoolbar-selected');\n          };\n          obj.hide = function () {\n            animation.slideBottom(el, 0, function () {\n              el.style.display = 'none';\n            });\n          };\n          obj.show = function () {\n            el.style.display = '';\n            animation.slideBottom(el, 1);\n          };\n          obj.get = function () {\n            return el;\n          };\n          obj.setBadge = function (index, value) {\n            toolbarContent.children[index].children[1].firstChild.innerHTML = value;\n          };\n          obj.destroy = function () {\n            toolbar.remove();\n            el.innerHTML = '';\n          };\n          obj.update = function (a, b) {\n            for (var i = 0; i < toolbarContent.children.length; i++) {\n              // Toolbar element\n              var toolbarItem = toolbarContent.children[i];\n              // State management\n              if (typeof toolbarItem.updateState == 'function') {\n                toolbarItem.updateState(el, obj, toolbarItem, a, b);\n              }\n            }\n            for (var i = 0; i < toolbarFloating.children.length; i++) {\n              // Toolbar element\n              var toolbarItem = toolbarFloating.children[i];\n              // State management\n              if (typeof toolbarItem.updateState == 'function') {\n                toolbarItem.updateState(el, obj, toolbarItem, a, b);\n              }\n            }\n          };\n          obj.create = function (items) {\n            // Reset anything in the toolbar\n            toolbarContent.innerHTML = '';\n            // Create elements in the toolbar\n            for (var i = 0; i < items.length; i++) {\n              var toolbarItem = document.createElement('div');\n              toolbarItem.classList.add('jtoolbar-item');\n              if (items[i].width) {\n                toolbarItem.style.width = parseInt(items[i].width) + 'px';\n              }\n              if (items[i].k) {\n                toolbarItem.k = items[i].k;\n              }\n              if (items[i].tooltip) {\n                toolbarItem.setAttribute('title', items[i].tooltip);\n              }\n\n              // Id\n              if (items[i].id) {\n                toolbarItem.setAttribute('id', items[i].id);\n              }\n\n              // Selected\n              if (items[i].updateState) {\n                toolbarItem.updateState = items[i].updateState;\n              }\n              if (items[i].active) {\n                toolbarItem.classList.add('jtoolbar-active');\n              }\n              if (items[i].disabled) {\n                toolbarItem.classList.add('jtoolbar-disabled');\n              }\n              if (items[i].type == 'select' || items[i].type == 'dropdown') {\n                Picker(toolbarItem, items[i]);\n              } else if (items[i].type == 'divisor') {\n                toolbarItem.classList.add('jtoolbar-divisor');\n              } else if (items[i].type == 'label') {\n                toolbarItem.classList.add('jtoolbar-label');\n                toolbarItem.innerHTML = items[i].content;\n              } else {\n                // Material icons\n                var toolbarIcon = document.createElement('i');\n                if (typeof items[i].class === 'undefined') {\n                  toolbarIcon.classList.add('material-icons');\n                } else {\n                  var c = items[i].class.split(' ');\n                  for (var j = 0; j < c.length; j++) {\n                    toolbarIcon.classList.add(c[j]);\n                  }\n                }\n                toolbarIcon.innerHTML = items[i].content ? items[i].content : '';\n                toolbarItem.appendChild(toolbarIcon);\n\n                // Badge options\n                if (obj.options.badge == true) {\n                  var toolbarBadge = document.createElement('div');\n                  toolbarBadge.classList.add('jbadge');\n                  var toolbarBadgeContent = document.createElement('div');\n                  toolbarBadgeContent.innerHTML = items[i].badge ? items[i].badge : '';\n                  toolbarBadge.appendChild(toolbarBadgeContent);\n                  toolbarItem.appendChild(toolbarBadge);\n                }\n\n                // Title\n                if (items[i].title) {\n                  if (obj.options.title == true) {\n                    var toolbarTitle = document.createElement('span');\n                    toolbarTitle.innerHTML = items[i].title;\n                    toolbarItem.appendChild(toolbarTitle);\n                  } else {\n                    toolbarItem.setAttribute('title', items[i].title);\n                  }\n                }\n                if (obj.options.app && items[i].route) {\n                  // Route\n                  toolbarItem.route = items[i].route;\n                  // Onclick for route\n                  toolbarItem.onclick = function () {\n                    obj.options.app.pages(this.route);\n                  };\n                  // Create pages\n                  obj.options.app.pages(items[i].route, {\n                    toolbarItem: toolbarItem,\n                    closed: true\n                  });\n                }\n              }\n              if (items[i].onclick) {\n                toolbarItem.onclick = items[i].onclick.bind(items[i], el, obj, toolbarItem);\n              }\n              toolbarContent.appendChild(toolbarItem);\n            }\n\n            // Fits to the page\n            setTimeout(function () {\n              obj.refresh();\n            }, 0);\n          };\n          obj.open = function () {\n            toolbarArrow.classList.add('jtoolbar-arrow-selected');\n            var rectElement = el.getBoundingClientRect();\n            var rect = toolbarFloating.getBoundingClientRect();\n            if (rect.bottom > window.innerHeight || obj.options.bottom) {\n              toolbarFloating.style.bottom = '0';\n            } else {\n              toolbarFloating.style.removeProperty('bottom');\n            }\n            toolbarFloating.style.right = '0';\n            toolbarArrow.children[0].focus();\n            // Start tracking\n            Tracking(obj, true);\n          };\n          obj.close = function () {\n            toolbarArrow.classList.remove('jtoolbar-arrow-selected');\n            // End tracking\n            Tracking(obj, false);\n          };\n          obj.refresh = function () {\n            if (obj.options.responsive == true) {\n              // Width of the c\n              var rect = el.parentNode.getBoundingClientRect();\n              if (!obj.options.maxWidth) {\n                obj.options.maxWidth = rect.width;\n              }\n              // Available parent space\n              var available = parseInt(obj.options.maxWidth);\n              // Remove arrow\n              if (toolbarArrow.parentNode) {\n                toolbarArrow.parentNode.removeChild(toolbarArrow);\n              }\n              // Move all items to the toolbar\n              while (toolbarFloating.firstChild) {\n                toolbarContent.appendChild(toolbarFloating.firstChild);\n              }\n              // Toolbar is larger than the parent, move elements to the floating element\n              if (available < toolbarContent.offsetWidth) {\n                // Give space to the floating element\n                available -= 50;\n                // Move to the floating option\n                while (toolbarContent.lastChild && available < toolbarContent.offsetWidth) {\n                  toolbarFloating.insertBefore(toolbarContent.lastChild, toolbarFloating.firstChild);\n                }\n              }\n              // Show arrow\n              if (toolbarFloating.children.length > 0) {\n                toolbarContent.appendChild(toolbarArrow);\n              }\n            }\n          };\n          obj.setReadonly = function (state) {\n            state = state ? 'add' : 'remove';\n            el.classList[state]('jtoolbar-disabled');\n          };\n          el.onclick = function (e) {\n            var element = helpers.findElement(e.target, 'jtoolbar-item');\n            if (element) {\n              obj.selectItem(element);\n            }\n            if (e.target.classList.contains('jtoolbar-arrow')) {\n              obj.open();\n            }\n          };\n          window.addEventListener('resize', function () {\n            obj.refresh();\n          });\n\n          // Toolbar\n          el.classList.add('jtoolbar');\n          // Reset content\n          el.innerHTML = '';\n          // Container\n          if (obj.options.container == true) {\n            el.classList.add('jtoolbar-container');\n          }\n          // Content\n          var toolbarContent = document.createElement('div');\n          el.appendChild(toolbarContent);\n          // Special toolbar for mobile applications\n          if (obj.options.app) {\n            el.classList.add('jtoolbar-mobile');\n          }\n          // Create toolbar\n          obj.create(obj.options.items);\n          // Shortcut\n          el.toolbar = obj;\n          return obj;\n        }\n        ; // CONCATENATED MODULE: ./src/plugins/editor.js\n\n        function Editor() {\n          var Component = function (el, options) {\n            // New instance\n            var obj = {\n              type: 'editor'\n            };\n            obj.options = {};\n\n            // Default configuration\n            var defaults = {\n              // Load data from a remove location\n              url: null,\n              // Initial HTML content\n              value: '',\n              // Initial snippet\n              snippet: null,\n              // Add toolbar\n              toolbar: true,\n              toolbarOnTop: false,\n              // Website parser is to read websites and images from cross domain\n              remoteParser: null,\n              // Placeholder\n              placeholder: null,\n              // Parse URL\n              filterPaste: true,\n              // Accept drop files\n              dropZone: true,\n              dropAsSnippet: false,\n              acceptImages: true,\n              acceptFiles: false,\n              maxFileSize: 5000000,\n              allowImageResize: true,\n              // Style\n              maxHeight: null,\n              height: null,\n              focus: false,\n              // Events\n              onclick: null,\n              onfocus: null,\n              onblur: null,\n              onload: null,\n              onkeyup: null,\n              onkeydown: null,\n              onchange: null,\n              extensions: null,\n              type: null\n            };\n\n            // Loop through our object\n            for (var property in defaults) {\n              if (options && options.hasOwnProperty(property)) {\n                obj.options[property] = options[property];\n              } else {\n                obj.options[property] = defaults[property];\n              }\n            }\n\n            // Private controllers\n            var editorTimer = null;\n            var editorAction = null;\n            var files = [];\n\n            // Keep the reference for the container\n            obj.el = el;\n            if (typeof obj.options.onclick == 'function') {\n              el.onclick = function (e) {\n                obj.options.onclick(el, obj, e);\n              };\n            }\n\n            // Prepare container\n            el.classList.add('jeditor-container');\n\n            // Snippet\n            var snippet = document.createElement('div');\n            snippet.className = 'jsnippet';\n            snippet.setAttribute('contenteditable', false);\n\n            // Toolbar\n            var toolbar = document.createElement('div');\n            toolbar.className = 'jeditor-toolbar';\n            obj.editor = document.createElement('div');\n            obj.editor.setAttribute('contenteditable', true);\n            obj.editor.setAttribute('spellcheck', false);\n            obj.editor.classList.add('jeditor');\n\n            // Placeholder\n            if (obj.options.placeholder) {\n              obj.editor.setAttribute('data-placeholder', obj.options.placeholder);\n            }\n\n            // Max height\n            if (obj.options.maxHeight || obj.options.height) {\n              obj.editor.style.overflowY = 'auto';\n              if (obj.options.maxHeight) {\n                obj.editor.style.maxHeight = obj.options.maxHeight;\n              }\n              if (obj.options.height) {\n                obj.editor.style.height = obj.options.height;\n              }\n            }\n\n            // Set editor initial value\n            if (obj.options.url) {\n              ajax({\n                url: obj.options.url,\n                dataType: 'html',\n                success: function (result) {\n                  obj.editor.innerHTML = result;\n                  Component.setCursor(obj.editor, obj.options.focus == 'initial' ? true : false);\n                }\n              });\n            } else {\n              if (obj.options.value) {\n                obj.editor.innerHTML = obj.options.value;\n              } else {\n                // Create from existing elements\n                for (var i = 0; i < el.children.length; i++) {\n                  obj.editor.appendChild(el.children[i]);\n                }\n              }\n            }\n\n            // Make sure element is empty\n            el.innerHTML = '';\n\n            /**\r\n             * Onchange event controllers\r\n             */\n            var change = function (e) {\n              if (typeof obj.options.onchange == 'function') {\n                obj.options.onchange(el, obj, e);\n              }\n\n              // Update value\n              obj.options.value = obj.getData();\n\n              // Lemonade JS\n              if (el.value != obj.options.value) {\n                el.value = obj.options.value;\n                if (typeof el.oninput == 'function') {\n                  el.oninput({\n                    type: 'input',\n                    target: el,\n                    value: el.value\n                  });\n                }\n              }\n            };\n\n            /**\r\n             * Extract images from a HTML string\r\n             */\n            var extractImageFromHtml = function (html) {\n              // Create temp element\n              var div = document.createElement('div');\n              div.innerHTML = html;\n\n              // Extract images\n              var img = div.querySelectorAll('img');\n              if (img.length) {\n                for (var i = 0; i < img.length; i++) {\n                  obj.addImage(img[i].src);\n                }\n              }\n            };\n\n            /**\r\n             * Insert node at caret\r\n             */\n            var insertNodeAtCaret = function (newNode) {\n              var sel, range;\n              if (window.getSelection) {\n                sel = window.getSelection();\n                if (sel.rangeCount) {\n                  range = sel.getRangeAt(0);\n                  var selectedText = range.toString();\n                  range.deleteContents();\n                  range.insertNode(newNode);\n                  // move the cursor after element\n                  range.setStartAfter(newNode);\n                  range.setEndAfter(newNode);\n                  sel.removeAllRanges();\n                  sel.addRange(range);\n                }\n              }\n            };\n            var updateTotalImages = function () {\n              var o = null;\n              if (o = snippet.children[0]) {\n                // Make sure is a grid\n                if (!o.classList.contains('jslider-grid')) {\n                  o.classList.add('jslider-grid');\n                }\n                // Quantify of images\n                var number = o.children.length;\n                // Set the configuration of the grid\n                o.setAttribute('data-number', number > 4 ? 4 : number);\n                // Total of images inside the grid\n                if (number > 4) {\n                  o.setAttribute('data-total', number - 4);\n                } else {\n                  o.removeAttribute('data-total');\n                }\n              }\n            };\n\n            /**\r\n             * Append image to the snippet\r\n             */\n            var appendImage = function (image) {\n              if (!snippet.innerHTML) {\n                obj.appendSnippet({});\n              }\n              snippet.children[0].appendChild(image);\n              updateTotalImages();\n            };\n\n            /**\r\n             * Append snippet\r\n             * @Param object data\r\n             */\n            obj.appendSnippet = function (data) {\n              // Reset snippet\n              snippet.innerHTML = '';\n\n              // Attributes\n              var a = ['image', 'title', 'description', 'host', 'url'];\n              for (var i = 0; i < a.length; i++) {\n                var div = document.createElement('div');\n                div.className = 'jsnippet-' + a[i];\n                div.setAttribute('data-k', a[i]);\n                snippet.appendChild(div);\n                if (data[a[i]]) {\n                  if (a[i] == 'image') {\n                    if (!Array.isArray(data.image)) {\n                      data.image = [data.image];\n                    }\n                    for (var j = 0; j < data.image.length; j++) {\n                      var img = document.createElement('img');\n                      img.src = data.image[j];\n                      div.appendChild(img);\n                    }\n                  } else {\n                    div.innerHTML = data[a[i]];\n                  }\n                }\n              }\n              obj.editor.appendChild(document.createElement('br'));\n              obj.editor.appendChild(snippet);\n            };\n\n            /**\r\n             * Set editor value\r\n             */\n            obj.setData = function (o) {\n              if (typeof o == 'object') {\n                obj.editor.innerHTML = o.content;\n              } else {\n                obj.editor.innerHTML = o;\n              }\n              if (obj.options.focus) {\n                Component.setCursor(obj.editor, true);\n              }\n\n              // Reset files container\n              files = [];\n            };\n            obj.getFiles = function () {\n              var f = obj.editor.querySelectorAll('.jfile');\n              var d = [];\n              for (var i = 0; i < f.length; i++) {\n                if (files[f[i].src]) {\n                  d.push(files[f[i].src]);\n                }\n              }\n              return d;\n            };\n            obj.getText = function () {\n              return obj.editor.innerText;\n            };\n\n            /**\r\n             * Get editor data\r\n             */\n            obj.getData = function (json) {\n              if (!json) {\n                var data = obj.editor.innerHTML;\n              } else {\n                var data = {\n                  content: ''\n                };\n\n                // Get snippet\n                if (snippet.innerHTML) {\n                  var index = 0;\n                  data.snippet = {};\n                  for (var i = 0; i < snippet.children.length; i++) {\n                    // Get key from element\n                    var key = snippet.children[i].getAttribute('data-k');\n                    if (key) {\n                      if (key == 'image') {\n                        if (!data.snippet.image) {\n                          data.snippet.image = [];\n                        }\n                        // Get all images\n                        for (var j = 0; j < snippet.children[i].children.length; j++) {\n                          data.snippet.image.push(snippet.children[i].children[j].getAttribute('src'));\n                        }\n                      } else {\n                        data.snippet[key] = snippet.children[i].innerHTML;\n                      }\n                    }\n                  }\n                }\n\n                // Get files\n                var f = Object.keys(files);\n                if (f.length) {\n                  data.files = [];\n                  for (var i = 0; i < f.length; i++) {\n                    data.files.push(files[f[i]]);\n                  }\n                }\n\n                // Get content\n                var d = document.createElement('div');\n                d.innerHTML = obj.editor.innerHTML;\n                var s = d.querySelector('.jsnippet');\n                if (s) {\n                  s.remove();\n                }\n                var text = d.innerHTML;\n                text = text.replace(/<br>/g, \"\\n\");\n                text = text.replace(/<\\/div>/g, \"<\\/div>\\n\");\n                text = text.replace(/<(?:.|\\n)*?>/gm, \"\");\n                data.content = text.trim();\n\n                // Process extensions\n                processExtensions('getData', data);\n              }\n              return data;\n            };\n\n            // Reset\n            obj.reset = function () {\n              obj.editor.innerHTML = '';\n              snippet.innerHTML = '';\n              files = [];\n            };\n            obj.addPdf = function (data) {\n              if (data.result.substr(0, 4) != 'data') {\n                console.error('Invalid source');\n              } else {\n                var canvas = document.createElement('canvas');\n                canvas.width = 60;\n                canvas.height = 60;\n                var img = new Image();\n                var ctx = canvas.getContext('2d');\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n                canvas.toBlob(function (blob) {\n                  var newImage = document.createElement('img');\n                  newImage.src = window.URL.createObjectURL(blob);\n                  newImage.title = data.name;\n                  newImage.className = 'jfile pdf';\n                  files[newImage.src] = {\n                    file: newImage.src,\n                    extension: 'pdf',\n                    content: data.result\n                  };\n\n                  //insertNodeAtCaret(newImage);\n                  document.execCommand('insertHtml', false, newImage.outerHTML);\n                });\n              }\n            };\n            obj.addImage = function (src, asSnippet) {\n              if (!src) {\n                src = '';\n              }\n              if (src.substr(0, 4) != 'data' && !obj.options.remoteParser) {\n                console.error('remoteParser not defined in your initialization');\n              } else {\n                // This is to process cross domain images\n                if (src.substr(0, 4) == 'data') {\n                  var extension = src.split(';');\n                  extension = extension[0].split('/');\n                  extension = extension[1];\n                } else {\n                  var extension = src.substr(src.lastIndexOf('.') + 1);\n                  // Work for cross browsers\n                  src = obj.options.remoteParser + src;\n                }\n                var img = new Image();\n                img.onload = function onload() {\n                  var canvas = document.createElement('canvas');\n                  canvas.width = img.width;\n                  canvas.height = img.height;\n                  var ctx = canvas.getContext('2d');\n                  ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n                  canvas.toBlob(function (blob) {\n                    var newImage = document.createElement('img');\n                    newImage.src = window.URL.createObjectURL(blob);\n                    newImage.classList.add('jfile');\n                    newImage.setAttribute('tabindex', '900');\n                    newImage.setAttribute('width', img.width);\n                    newImage.setAttribute('height', img.height);\n                    files[newImage.src] = {\n                      file: newImage.src,\n                      extension: extension,\n                      content: canvas.toDataURL()\n                    };\n                    if (obj.options.dropAsSnippet || asSnippet) {\n                      appendImage(newImage);\n                      // Just to understand the attachment is part of a snippet\n                      files[newImage.src].snippet = true;\n                    } else {\n                      //insertNodeAtCaret(newImage);\n                      document.execCommand('insertHtml', false, newImage.outerHTML);\n                    }\n                    change();\n                  });\n                };\n                img.src = src;\n              }\n            };\n            obj.addFile = function (files) {\n              var reader = [];\n              for (var i = 0; i < files.length; i++) {\n                if (files[i].size > obj.options.maxFileSize) {\n                  alert('The file is too big');\n                } else {\n                  // Only PDF or Images\n                  var type = files[i].type.split('/');\n                  if (type[0] == 'image') {\n                    type = 1;\n                  } else if (type[1] == 'pdf') {\n                    type = 2;\n                  } else {\n                    type = 0;\n                  }\n                  if (type) {\n                    // Create file\n                    reader[i] = new FileReader();\n                    reader[i].index = i;\n                    reader[i].type = type;\n                    reader[i].name = files[i].name;\n                    reader[i].date = files[i].lastModified;\n                    reader[i].size = files[i].size;\n                    reader[i].addEventListener(\"load\", function (data) {\n                      // Get result\n                      if (data.target.type == 2) {\n                        if (obj.options.acceptFiles == true) {\n                          obj.addPdf(data.target);\n                        }\n                      } else {\n                        obj.addImage(data.target.result);\n                      }\n                    }, false);\n                    reader[i].readAsDataURL(files[i]);\n                  } else {\n                    alert('The extension is not allowed');\n                  }\n                }\n              }\n            };\n\n            // Destroy\n            obj.destroy = function () {\n              obj.editor.removeEventListener('mouseup', editorMouseUp);\n              obj.editor.removeEventListener('mousedown', editorMouseDown);\n              obj.editor.removeEventListener('mousemove', editorMouseMove);\n              obj.editor.removeEventListener('keyup', editorKeyUp);\n              obj.editor.removeEventListener('keydown', editorKeyDown);\n              obj.editor.removeEventListener('dragstart', editorDragStart);\n              obj.editor.removeEventListener('dragenter', editorDragEnter);\n              obj.editor.removeEventListener('dragover', editorDragOver);\n              obj.editor.removeEventListener('drop', editorDrop);\n              obj.editor.removeEventListener('paste', editorPaste);\n              obj.editor.removeEventListener('blur', editorBlur);\n              obj.editor.removeEventListener('focus', editorFocus);\n              el.editor = null;\n              el.classList.remove('jeditor-container');\n              toolbar.remove();\n              snippet.remove();\n              obj.editor.remove();\n            };\n            obj.upload = function () {\n              helpers.click(obj.file);\n            };\n\n            // Elements to be removed\n            var remove = [HTMLUnknownElement, HTMLAudioElement, HTMLEmbedElement, HTMLIFrameElement, HTMLTextAreaElement, HTMLInputElement, HTMLScriptElement];\n\n            // Valid properties\n            var validProperty = ['width', 'height', 'align', 'border', 'src', 'tabindex'];\n\n            // Valid CSS attributes\n            var validStyle = ['color', 'font-weight', 'font-size', 'background', 'background-color', 'margin'];\n            var parse = function (element) {\n              // Remove attributes\n              if (element.attributes && element.attributes.length) {\n                var image = null;\n                var style = null;\n                // Process style attribute\n                var elementStyle = element.getAttribute('style');\n                if (elementStyle) {\n                  style = [];\n                  var t = elementStyle.split(';');\n                  for (var j = 0; j < t.length; j++) {\n                    var v = t[j].trim().split(':');\n                    if (validStyle.indexOf(v[0].trim()) >= 0) {\n                      var k = v.shift();\n                      var v = v.join(':');\n                      style.push(k + ':' + v);\n                    }\n                  }\n                }\n                // Process image\n                if (element.tagName.toUpperCase() == 'IMG') {\n                  if (!obj.options.acceptImages || !element.src) {\n                    element.parentNode.removeChild(element);\n                  } else {\n                    // Check if is data\n                    element.setAttribute('tabindex', '900');\n                    // Check attributes for persistence\n                    obj.addImage(element.src);\n                  }\n                }\n                // Remove attributes\n                var attr = [];\n                for (var i = 0; i < element.attributes.length; i++) {\n                  attr.push(element.attributes[i].name);\n                }\n                if (attr.length) {\n                  attr.forEach(function (v) {\n                    if (validProperty.indexOf(v) == -1) {\n                      element.removeAttribute(v);\n                    } else {\n                      // Protection XSS\n                      if (element.attributes[i].value.indexOf('<') !== -1) {\n                        element.attributes[i].value.replace('<', '&#60;');\n                      }\n                    }\n                  });\n                }\n                element.style = '';\n                // Add valid style\n                if (style && style.length) {\n                  element.setAttribute('style', style.join(';'));\n                }\n              }\n              // Parse children\n              if (element.children.length) {\n                for (var i = 0; i < element.children.length; i++) {\n                  parse(element.children[i]);\n                }\n              }\n              if (remove.indexOf(element.constructor) >= 0) {\n                element.remove();\n              }\n            };\n            var select = function (e) {\n              var s = window.getSelection();\n              var r = document.createRange();\n              r.selectNode(e);\n              s.addRange(r);\n            };\n            var filter = function (data) {\n              if (data) {\n                data = data.replace(new RegExp('<!--(.*?)-->', 'gsi'), '');\n              }\n              var parser = new DOMParser();\n              var d = parser.parseFromString(data, \"text/html\");\n              parse(d);\n              var span = document.createElement('span');\n              span.innerHTML = d.firstChild.innerHTML;\n              return span;\n            };\n            var editorPaste = function (e) {\n              if (obj.options.filterPaste == true) {\n                if (e.clipboardData || e.originalEvent.clipboardData) {\n                  var html = (e.originalEvent || e).clipboardData.getData('text/html');\n                  var text = (e.originalEvent || e).clipboardData.getData('text/plain');\n                  var file = (e.originalEvent || e).clipboardData.files;\n                } else if (window.clipboardData) {\n                  var html = window.clipboardData.getData('Html');\n                  var text = window.clipboardData.getData('Text');\n                  var file = window.clipboardData.files;\n                }\n                if (file.length) {\n                  // Paste a image from the clipboard\n                  obj.addFile(file);\n                } else {\n                  if (!html) {\n                    html = text.split('\\r\\n');\n                    if (!e.target.innerText) {\n                      html.map(function (v) {\n                        var d = document.createElement('div');\n                        d.innerText = v;\n                        obj.editor.appendChild(d);\n                      });\n                    } else {\n                      html = html.map(function (v) {\n                        return '<div>' + v + '</div>';\n                      });\n                      document.execCommand('insertHtml', false, html.join(''));\n                    }\n                  } else {\n                    var d = filter(html);\n                    // Paste to the editor\n                    //insertNodeAtCaret(d);\n                    document.execCommand('insertHtml', false, d.innerHTML);\n                  }\n                }\n                e.preventDefault();\n              }\n            };\n            var editorDragStart = function (e) {\n              if (editorAction && editorAction.e) {\n                e.preventDefault();\n              }\n            };\n            var editorDragEnter = function (e) {\n              if (editorAction || obj.options.dropZone == false) {\n                // Do nothing\n              } else {\n                el.classList.add('jeditor-dragging');\n                e.preventDefault();\n              }\n            };\n            var editorDragOver = function (e) {\n              if (editorAction || obj.options.dropZone == false) {\n                // Do nothing\n              } else {\n                if (editorTimer) {\n                  clearTimeout(editorTimer);\n                }\n                editorTimer = setTimeout(function () {\n                  el.classList.remove('jeditor-dragging');\n                }, 100);\n                e.preventDefault();\n              }\n            };\n            var editorDrop = function (e) {\n              if (editorAction || obj.options.dropZone == false) {\n                // Do nothing\n              } else {\n                // Position caret on the drop\n                var range = null;\n                if (document.caretRangeFromPoint) {\n                  range = document.caretRangeFromPoint(e.clientX, e.clientY);\n                } else if (e.rangeParent) {\n                  range = document.createRange();\n                  range.setStart(e.rangeParent, e.rangeOffset);\n                }\n                var sel = window.getSelection();\n                sel.removeAllRanges();\n                sel.addRange(range);\n                sel.anchorNode.parentNode.focus();\n                var html = (e.originalEvent || e).dataTransfer.getData('text/html');\n                var text = (e.originalEvent || e).dataTransfer.getData('text/plain');\n                var file = (e.originalEvent || e).dataTransfer.files;\n                if (file.length) {\n                  obj.addFile(file);\n                } else if (text) {\n                  extractImageFromHtml(html);\n                }\n                el.classList.remove('jeditor-dragging');\n                e.preventDefault();\n              }\n            };\n            var editorBlur = function (e) {\n              // Process extensions\n              processExtensions('onevent', e);\n              // Apply changes\n              change(e);\n              // Blur\n              if (typeof obj.options.onblur == 'function') {\n                obj.options.onblur(el, obj, e);\n              }\n            };\n            var editorFocus = function (e) {\n              // Focus\n              if (typeof obj.options.onfocus == 'function') {\n                obj.options.onfocus(el, obj, e);\n              }\n            };\n            var editorKeyUp = function (e) {\n              if (!obj.editor.innerHTML) {\n                obj.editor.innerHTML = '<div><br></div>';\n              }\n              if (typeof obj.options.onkeyup == 'function') {\n                obj.options.onkeyup(el, obj, e);\n              }\n            };\n            var editorKeyDown = function (e) {\n              // Process extensions\n              processExtensions('onevent', e);\n              if (e.key == 'Delete') {\n                if (e.target.tagName == 'IMG') {\n                  var parent = e.target.parentNode;\n                  select(e.target);\n                  if (parent.classList.contains('jsnippet-image')) {\n                    updateTotalImages();\n                  }\n                }\n              }\n              if (typeof obj.options.onkeydown == 'function') {\n                obj.options.onkeydown(el, obj, e);\n              }\n            };\n            var editorMouseUp = function (e) {\n              if (editorAction && editorAction.e) {\n                editorAction.e.classList.remove('resizing');\n                if (editorAction.e.changed == true) {\n                  var image = editorAction.e.cloneNode();\n                  image.width = parseInt(editorAction.e.style.width) || editorAction.e.getAttribute('width');\n                  image.height = parseInt(editorAction.e.style.height) || editorAction.e.getAttribute('height');\n                  editorAction.e.style.width = '';\n                  editorAction.e.style.height = '';\n                  select(editorAction.e);\n                  document.execCommand('insertHtml', false, image.outerHTML);\n                }\n              }\n              editorAction = false;\n            };\n            var editorMouseDown = function (e) {\n              var close = function (snippet) {\n                var rect = snippet.getBoundingClientRect();\n                if (rect.width - (e.clientX - rect.left) < 40 && e.clientY - rect.top < 40) {\n                  snippet.innerHTML = '';\n                  snippet.remove();\n                }\n              };\n              if (e.target.tagName == 'IMG') {\n                if (e.target.style.cursor) {\n                  var rect = e.target.getBoundingClientRect();\n                  editorAction = {\n                    e: e.target,\n                    x: e.clientX,\n                    y: e.clientY,\n                    w: rect.width,\n                    h: rect.height,\n                    d: e.target.style.cursor\n                  };\n                  if (!e.target.getAttribute('width')) {\n                    e.target.setAttribute('width', rect.width);\n                  }\n                  if (!e.target.getAttribute('height')) {\n                    e.target.setAttribute('height', rect.height);\n                  }\n                  var s = window.getSelection();\n                  if (s.rangeCount) {\n                    for (var i = 0; i < s.rangeCount; i++) {\n                      s.removeRange(s.getRangeAt(i));\n                    }\n                  }\n                  e.target.classList.add('resizing');\n                } else {\n                  editorAction = true;\n                }\n              } else {\n                if (e.target.classList.contains('jsnippet')) {\n                  close(e.target);\n                } else if (e.target.parentNode.classList.contains('jsnippet')) {\n                  close(e.target.parentNode);\n                }\n                editorAction = true;\n              }\n            };\n            var editorMouseMove = function (e) {\n              if (e.target.tagName == 'IMG' && !e.target.parentNode.classList.contains('jsnippet-image') && obj.options.allowImageResize == true) {\n                if (e.target.getAttribute('tabindex')) {\n                  var rect = e.target.getBoundingClientRect();\n                  if (e.clientY - rect.top < 5) {\n                    if (rect.width - (e.clientX - rect.left) < 5) {\n                      e.target.style.cursor = 'ne-resize';\n                    } else if (e.clientX - rect.left < 5) {\n                      e.target.style.cursor = 'nw-resize';\n                    } else {\n                      e.target.style.cursor = 'n-resize';\n                    }\n                  } else if (rect.height - (e.clientY - rect.top) < 5) {\n                    if (rect.width - (e.clientX - rect.left) < 5) {\n                      e.target.style.cursor = 'se-resize';\n                    } else if (e.clientX - rect.left < 5) {\n                      e.target.style.cursor = 'sw-resize';\n                    } else {\n                      e.target.style.cursor = 's-resize';\n                    }\n                  } else if (rect.width - (e.clientX - rect.left) < 5) {\n                    e.target.style.cursor = 'e-resize';\n                  } else if (e.clientX - rect.left < 5) {\n                    e.target.style.cursor = 'w-resize';\n                  } else {\n                    e.target.style.cursor = '';\n                  }\n                }\n              }\n\n              // Move\n              if (e.which == 1 && editorAction && editorAction.d) {\n                if (editorAction.d == 'e-resize' || editorAction.d == 'ne-resize' || editorAction.d == 'se-resize') {\n                  editorAction.e.style.width = editorAction.w + (e.clientX - editorAction.x);\n                  if (e.shiftKey) {\n                    var newHeight = (e.clientX - editorAction.x) * (editorAction.h / editorAction.w);\n                    editorAction.e.style.height = editorAction.h + newHeight;\n                  } else {\n                    var newHeight = null;\n                  }\n                }\n                if (!newHeight) {\n                  if (editorAction.d == 's-resize' || editorAction.d == 'se-resize' || editorAction.d == 'sw-resize') {\n                    if (!e.shiftKey) {\n                      editorAction.e.style.height = editorAction.h + (e.clientY - editorAction.y);\n                    }\n                  }\n                }\n                editorAction.e.changed = true;\n              }\n            };\n            var processExtensions = function (method, data) {\n              if (obj.options.extensions) {\n                var ext = Object.keys(obj.options.extensions);\n                if (ext.length) {\n                  for (var i = 0; i < ext.length; i++) if (obj.options.extensions[ext[i]] && typeof obj.options.extensions[ext[i]][method] == 'function') {\n                    obj.options.extensions[ext[i]][method].call(obj, data);\n                  }\n                }\n              }\n            };\n            var loadExtensions = function () {\n              if (obj.options.extensions) {\n                var ext = Object.keys(obj.options.extensions);\n                if (ext.length) {\n                  for (var i = 0; i < ext.length; i++) {\n                    if (obj.options.extensions[ext[i]] && typeof obj.options.extensions[ext[i]] == 'function') {\n                      obj.options.extensions[ext[i]] = obj.options.extensions[ext[i]](el, obj);\n                    }\n                  }\n                }\n              }\n            };\n            document.addEventListener('mouseup', editorMouseUp);\n            document.addEventListener('mousemove', editorMouseMove);\n            obj.editor.addEventListener('mousedown', editorMouseDown);\n            obj.editor.addEventListener('keyup', editorKeyUp);\n            obj.editor.addEventListener('keydown', editorKeyDown);\n            obj.editor.addEventListener('dragstart', editorDragStart);\n            obj.editor.addEventListener('dragenter', editorDragEnter);\n            obj.editor.addEventListener('dragover', editorDragOver);\n            obj.editor.addEventListener('drop', editorDrop);\n            obj.editor.addEventListener('paste', editorPaste);\n            obj.editor.addEventListener('focus', editorFocus);\n            obj.editor.addEventListener('blur', editorBlur);\n\n            // Append editor to the container\n            el.appendChild(obj.editor);\n            // Snippet\n            if (obj.options.snippet) {\n              obj.appendSnippet(obj.options.snippet);\n            }\n\n            // Add toolbar\n            if (obj.options.toolbar) {\n              // Default toolbar configuration\n              if (Array.isArray(obj.options.toolbar)) {\n                var toolbarOptions = {\n                  container: true,\n                  responsive: true,\n                  items: obj.options.toolbar\n                };\n              } else if (obj.options.toolbar === true) {\n                var toolbarOptions = {\n                  container: true,\n                  responsive: true,\n                  items: []\n                };\n              } else {\n                var toolbarOptions = obj.options.toolbar;\n              }\n\n              // Default items\n              if (!(toolbarOptions.items && toolbarOptions.items.length)) {\n                toolbarOptions.items = Component.getDefaultToolbar(obj);\n              }\n              if (obj.options.toolbarOnTop) {\n                // Add class\n                el.classList.add('toolbar-on-top');\n                // Append to the DOM\n                el.insertBefore(toolbar, el.firstChild);\n              } else {\n                // Add padding to the editor\n                obj.editor.style.padding = '15px';\n                // Append to the DOM\n                el.appendChild(toolbar);\n              }\n\n              // Create toolbar\n              Toolbar(toolbar, toolbarOptions);\n              toolbar.addEventListener('click', function () {\n                obj.editor.focus();\n              });\n            }\n\n            // Upload file\n            obj.file = document.createElement('input');\n            obj.file.style.display = 'none';\n            obj.file.type = 'file';\n            obj.file.setAttribute('accept', 'image/*');\n            obj.file.onchange = function () {\n              obj.addFile(this.files);\n            };\n            el.appendChild(obj.file);\n\n            // Focus to the editor\n            if (obj.options.focus) {\n              Component.setCursor(obj.editor, obj.options.focus == 'initial' ? true : false);\n            }\n\n            // Change method\n            el.change = obj.setData;\n\n            // Global generic value handler\n            el.val = function (val) {\n              if (val === undefined) {\n                // Data type\n                var o = el.getAttribute('data-html') === 'true' ? false : true;\n                return obj.getData(o);\n              } else {\n                obj.setData(val);\n              }\n            };\n            loadExtensions();\n            el.editor = obj;\n\n            // Onload\n            if (typeof obj.options.onload == 'function') {\n              obj.options.onload(el, obj, obj.editor);\n            }\n            return obj;\n          };\n          Component.setCursor = function (element, first) {\n            element.focus();\n            document.execCommand('selectAll');\n            var sel = window.getSelection();\n            var range = sel.getRangeAt(0);\n            if (first == true) {\n              var node = range.startContainer;\n              var size = 0;\n            } else {\n              var node = range.endContainer;\n              var size = node.length;\n            }\n            range.setStart(node, size);\n            range.setEnd(node, size);\n            sel.removeAllRanges();\n            sel.addRange(range);\n          };\n          Component.getDefaultToolbar = function (obj) {\n            var color = function (a, b, c) {\n              if (!c.color) {\n                var t = null;\n                var colorPicker = Color(c, {\n                  onchange: function (o, v) {\n                    if (c.k === 'color') {\n                      document.execCommand('foreColor', false, v);\n                    } else {\n                      document.execCommand('backColor', false, v);\n                    }\n                  }\n                });\n                c.color.open();\n              }\n            };\n            var items = [];\n            items.push({\n              content: 'undo',\n              onclick: function () {\n                document.execCommand('undo');\n              }\n            });\n            items.push({\n              content: 'redo',\n              onclick: function () {\n                document.execCommand('redo');\n              }\n            });\n            items.push({\n              type: 'divisor'\n            });\n            if (obj.options.toolbarOnTop) {\n              items.push({\n                type: 'select',\n                width: '140px',\n                options: ['Default', 'Verdana', 'Arial', 'Courier New'],\n                render: function (e) {\n                  return '<span style=\"font-family:' + e + '\">' + e + '</span>';\n                },\n                onchange: function (a, b, c, d, e) {\n                  document.execCommand(\"fontName\", false, d);\n                }\n              });\n              items.push({\n                type: 'select',\n                content: 'format_size',\n                options: ['x-small', 'small', 'medium', 'large', 'x-large'],\n                render: function (e) {\n                  return '<span style=\"font-size:' + e + '\">' + e + '</span>';\n                },\n                onchange: function (a, b, c, d, e) {\n                  //var html = `<span style=\"font-size: ${c}\">${text}</span>`;\n                  //document.execCommand('insertHtml', false, html);\n                  document.execCommand(\"fontSize\", false, parseInt(e) + 1);\n                  //var f = window.getSelection().anchorNode.parentNode\n                  //f.removeAttribute(\"size\");\n                  //f.style.fontSize = d;\n                }\n              });\n\n              items.push({\n                type: 'select',\n                options: ['format_align_left', 'format_align_center', 'format_align_right', 'format_align_justify'],\n                render: function (e) {\n                  return '<i class=\"material-icons\">' + e + '</i>';\n                },\n                onchange: function (a, b, c, d, e) {\n                  var options = ['JustifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'];\n                  document.execCommand(options[e]);\n                }\n              });\n              items.push({\n                type: 'divisor'\n              });\n              items.push({\n                content: 'format_color_text',\n                k: 'color',\n                onclick: color\n              });\n              items.push({\n                content: 'format_color_fill',\n                k: 'background-color',\n                onclick: color\n              });\n            }\n            items.push({\n              content: 'format_bold',\n              onclick: function (a, b, c) {\n                document.execCommand('bold');\n                if (document.queryCommandState(\"bold\")) {\n                  c.classList.add('selected');\n                } else {\n                  c.classList.remove('selected');\n                }\n              }\n            });\n            items.push({\n              content: 'format_italic',\n              onclick: function (a, b, c) {\n                document.execCommand('italic');\n                if (document.queryCommandState(\"italic\")) {\n                  c.classList.add('selected');\n                } else {\n                  c.classList.remove('selected');\n                }\n              }\n            });\n            items.push({\n              content: 'format_underline',\n              onclick: function (a, b, c) {\n                document.execCommand('underline');\n                if (document.queryCommandState(\"underline\")) {\n                  c.classList.add('selected');\n                } else {\n                  c.classList.remove('selected');\n                }\n              }\n            });\n            items.push({\n              type: 'divisor'\n            });\n            items.push({\n              content: 'format_list_bulleted',\n              onclick: function (a, b, c) {\n                document.execCommand('insertUnorderedList');\n                if (document.queryCommandState(\"insertUnorderedList\")) {\n                  c.classList.add('selected');\n                } else {\n                  c.classList.remove('selected');\n                }\n              }\n            });\n            items.push({\n              content: 'format_list_numbered',\n              onclick: function (a, b, c) {\n                document.execCommand('insertOrderedList');\n                if (document.queryCommandState(\"insertOrderedList\")) {\n                  c.classList.add('selected');\n                } else {\n                  c.classList.remove('selected');\n                }\n              }\n            });\n            items.push({\n              content: 'format_indent_increase',\n              onclick: function (a, b, c) {\n                document.execCommand('indent', true, null);\n                if (document.queryCommandState(\"indent\")) {\n                  c.classList.add('selected');\n                } else {\n                  c.classList.remove('selected');\n                }\n              }\n            });\n            items.push({\n              content: 'format_indent_decrease',\n              onclick: function () {\n                document.execCommand('outdent');\n                if (document.queryCommandState(\"outdent\")) {\n                  this.classList.add('selected');\n                } else {\n                  this.classList.remove('selected');\n                }\n              }\n            });\n            if (obj.options.toolbarOnTop) {\n              items.push({\n                type: 'divisor'\n              });\n              items.push({\n                content: 'photo',\n                onclick: function () {\n                  obj.upload();\n                }\n              });\n              items.push({\n                type: 'select',\n                content: 'table_view',\n                columns: 8,\n                grid: 8,\n                right: true,\n                options: ['0x0', '1x0', '2x0', '3x0', '4x0', '5x0', '6x0', '7x0', '0x1', '1x1', '2x1', '3x1', '4x1', '5x1', '6x1', '7x1', '0x2', '1x2', '2x2', '3x2', '4x2', '5x2', '6x2', '7x2', '0x3', '1x3', '2x3', '3x3', '4x3', '5x3', '6x3', '7x3', '0x4', '1x4', '2x4', '3x4', '4x4', '5x4', '6x4', '7x4', '0x5', '1x5', '2x5', '3x5', '4x5', '5x5', '6x5', '7x5', '0x6', '1x6', '2x6', '3x6', '4x6', '5x6', '6x6', '7x6', '0x7', '1x7', '2x7', '3x7', '4x7', '5x7', '6x7', '7x7'],\n                render: function (e, item) {\n                  if (item) {\n                    item.onmouseover = this.onmouseover;\n                    e = e.split('x');\n                    item.setAttribute('data-x', e[0]);\n                    item.setAttribute('data-y', e[1]);\n                  }\n                  var element = document.createElement('div');\n                  item.style.margin = '1px';\n                  item.style.border = '1px solid #ddd';\n                  return element;\n                },\n                onmouseover: function (e) {\n                  var x = parseInt(e.target.getAttribute('data-x'));\n                  var y = parseInt(e.target.getAttribute('data-y'));\n                  for (var i = 0; i < e.target.parentNode.children.length; i++) {\n                    var element = e.target.parentNode.children[i];\n                    var ex = parseInt(element.getAttribute('data-x'));\n                    var ey = parseInt(element.getAttribute('data-y'));\n                    if (ex <= x && ey <= y) {\n                      element.style.backgroundColor = '#cae1fc';\n                      element.style.borderColor = '#2977ff';\n                    } else {\n                      element.style.backgroundColor = '';\n                      element.style.borderColor = '#ddd';\n                    }\n                  }\n                },\n                onchange: function (a, b, c) {\n                  c = c.split('x');\n                  var table = document.createElement('table');\n                  var tbody = document.createElement('tbody');\n                  for (var y = 0; y <= c[1]; y++) {\n                    var tr = document.createElement('tr');\n                    for (var x = 0; x <= c[0]; x++) {\n                      var td = document.createElement('td');\n                      td.innerHTML = '';\n                      tr.appendChild(td);\n                    }\n                    tbody.appendChild(tr);\n                  }\n                  table.appendChild(tbody);\n                  table.setAttribute('width', '100%');\n                  table.setAttribute('cellpadding', '6');\n                  table.setAttribute('cellspacing', '0');\n                  document.execCommand('insertHTML', false, table.outerHTML);\n                }\n              });\n            }\n            return items;\n          };\n          return Component;\n        }\n\n        /* harmony default export */\n        var editor = Editor();\n        ; // CONCATENATED MODULE: ./src/plugins/floating.js\n        function Floating() {\n          var Component = function (el, options) {\n            var obj = {};\n            obj.options = {};\n\n            // Default configuration\n            var defaults = {\n              type: 'big',\n              title: 'Untitled',\n              width: 510,\n              height: 472\n            };\n\n            // Loop through our object\n            for (var property in defaults) {\n              if (options && options.hasOwnProperty(property)) {\n                obj.options[property] = options[property];\n              } else {\n                obj.options[property] = defaults[property];\n              }\n            }\n\n            // Private methods\n\n            var setContent = function () {\n              var temp = document.createElement('div');\n              while (el.children[0]) {\n                temp.appendChild(el.children[0]);\n              }\n              obj.content = document.createElement('div');\n              obj.content.className = 'jfloating_content';\n              obj.content.innerHTML = el.innerHTML;\n              while (temp.children[0]) {\n                obj.content.appendChild(temp.children[0]);\n              }\n              obj.container = document.createElement('div');\n              obj.container.className = 'jfloating';\n              obj.container.appendChild(obj.content);\n              if (obj.options.title) {\n                obj.container.setAttribute('title', obj.options.title);\n              } else {\n                obj.container.classList.add('no-title');\n              }\n\n              // validate element dimensions\n              if (obj.options.width) {\n                obj.container.style.width = parseInt(obj.options.width) + 'px';\n              }\n              if (obj.options.height) {\n                obj.container.style.height = parseInt(obj.options.height) + 'px';\n              }\n              el.innerHTML = '';\n              el.appendChild(obj.container);\n            };\n            var setEvents = function () {\n              if (obj.container) {\n                obj.container.addEventListener('click', function (e) {\n                  var rect = e.target.getBoundingClientRect();\n                  if (e.target.classList.contains('jfloating')) {\n                    if (e.changedTouches && e.changedTouches[0]) {\n                      var x = e.changedTouches[0].clientX;\n                      var y = e.changedTouches[0].clientY;\n                    } else {\n                      var x = e.clientX;\n                      var y = e.clientY;\n                    }\n                    if (rect.width - (x - rect.left) < 50 && y - rect.top < 50) {\n                      setTimeout(function () {\n                        obj.close();\n                      }, 100);\n                    } else {\n                      obj.setState();\n                    }\n                  }\n                });\n              }\n            };\n            var setType = function () {\n              obj.container.classList.add('jfloating-' + obj.options.type);\n            };\n            obj.state = {\n              isMinized: false\n            };\n            obj.setState = function () {\n              if (obj.state.isMinized) {\n                obj.container.classList.remove('jfloating-minimized');\n              } else {\n                obj.container.classList.add('jfloating-minimized');\n              }\n              obj.state.isMinized = !obj.state.isMinized;\n            };\n            obj.close = function () {\n              Components.elements.splice(Component.elements.indexOf(obj.container), 1);\n              obj.updatePosition();\n              el.remove();\n            };\n            obj.updatePosition = function () {\n              for (var i = 0; i < Component.elements.length; i++) {\n                var floating = Component.elements[i];\n                var prevFloating = Component.elements[i - 1];\n                floating.style.right = i * (prevFloating ? prevFloating.offsetWidth : floating.offsetWidth) * 1.01 + 'px';\n              }\n            };\n            obj.init = function () {\n              // Set content into root\n              setContent();\n\n              // Set dialog events\n              setEvents();\n\n              // Set dialog type\n              setType();\n\n              // Update floating position\n              Component.elements.push(obj.container);\n              obj.updatePosition();\n              el.floating = obj;\n            };\n            obj.init();\n            return obj;\n          };\n          Component.elements = [];\n          return Component;\n        }\n\n        /* harmony default export */\n        var floating = Floating();\n        ; // CONCATENATED MODULE: ./src/plugins/validations.js\n        function Validations() {\n          /**\r\n           * Options: Object,\r\n           * Properties:\r\n           * Constraint,\r\n           * Reference,\r\n           * Value\r\n           */\n\n          var isNumeric = function (num) {\n            return !isNaN(num) && num !== null && num !== '';\n          };\n          var numberCriterias = {\n            'between': function (value, range) {\n              return value >= range[0] && value <= range[1];\n            },\n            'not between': function (value, range) {\n              return value < range[0] || value > range[1];\n            },\n            '<': function (value, range) {\n              return value < range[0];\n            },\n            '<=': function (value, range) {\n              return value <= range[0];\n            },\n            '>': function (value, range) {\n              return value > range[0];\n            },\n            '>=': function (value, range) {\n              return value >= range[0];\n            },\n            '=': function (value, range) {\n              return value == range[0];\n            },\n            '!=': function (value, range) {\n              return value != range[0];\n            }\n          };\n          var dateCriterias = {\n            'valid date': function () {\n              return true;\n            },\n            '=': function (value, range) {\n              return value === range[0];\n            },\n            '<': function (value, range) {\n              return value < range[0];\n            },\n            '<=': function (value, range) {\n              return value <= range[0];\n            },\n            '>': function (value, range) {\n              return value > range[0];\n            },\n            '>=': function (value, range) {\n              return value >= range[0];\n            },\n            'between': function (value, range) {\n              return value >= range[0] && value <= range[1];\n            },\n            'not between': function (value, range) {\n              return value < range[0] || value > range[1];\n            }\n          };\n          var textCriterias = {\n            'contains': function (value, range) {\n              return value.includes(range[0]);\n            },\n            'not contains': function (value, range) {\n              return !value.includes(range[0]);\n            },\n            'begins with': function (value, range) {\n              return value.startsWith(range[0]);\n            },\n            'ends with': function (value, range) {\n              return value.endsWith(range[0]);\n            },\n            '=': function (value, range) {\n              return value === range[0];\n            },\n            'valid email': function (value) {\n              var pattern = new RegExp(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);\n              return pattern.test(value);\n            },\n            'valid url': function (value) {\n              var pattern = new RegExp(/(((https?:\\/\\/)|(www\\.))[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|]+)/ig);\n              return pattern.test(value);\n            }\n          };\n\n          // Component router\n          var component = function (value, options) {\n            if (typeof component[options.type] === 'function') {\n              if (options.allowBlank && value === '') {\n                return true;\n              }\n              return component[options.type](value, options);\n            }\n            return null;\n          };\n          component.url = function () {\n            var pattern = new RegExp(/(((https?:\\/\\/)|(www\\.))[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|]+)/ig);\n            return pattern.test(data) ? true : false;\n          };\n          component.email = function (data) {\n            var pattern = new RegExp(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);\n            return data && pattern.test(data) ? true : false;\n          };\n          component.required = function (data) {\n            return data.trim() ? true : false;\n          };\n          component.exist = function (data, options) {\n            return !!data.toString();\n          };\n          component['not exist'] = function (data, options) {\n            return !data.toString();\n          };\n          component.empty = function (data) {\n            return !data.toString();\n          };\n          component.notEmpty = function (data) {\n            return !!data.toString();\n          };\n          component.number = function (data, options) {\n            if (!isNumeric(data)) {\n              return false;\n            }\n            if (!options || !options.criteria) {\n              return true;\n            }\n            if (!numberCriterias[options.criteria]) {\n              return false;\n            }\n            var values = options.value.map(function (num) {\n              return parseFloat(num);\n            });\n            return numberCriterias[options.criteria](data, values);\n          };\n          component.login = function (data) {\n            var pattern = new RegExp(/^[a-zA-Z0-9\\_\\-\\.\\s+]+$/);\n            return data && pattern.test(data) ? true : false;\n          };\n          component.list = function (data, options) {\n            var dataType = typeof data;\n            if (dataType !== 'string' && dataType !== 'number') {\n              return false;\n            }\n            if (typeof options.value[0] === 'string') {\n              var list = options.value[0].split(',');\n            } else {\n              var list = options.value[0];\n            }\n            var validOption = list.findIndex(function name(item) {\n              return item == data;\n            });\n            return validOption > -1;\n          };\n          component.date = function (data, options) {\n            if (new Date(data) == 'Invalid Date') {\n              return false;\n            }\n            if (!options || !options.criteria) {\n              return true;\n            }\n            if (!dateCriterias[options.criteria]) {\n              return false;\n            }\n            var values = options.value.map(function (date) {\n              return new Date(date).getTime();\n            });\n            return dateCriterias[options.criteria](new Date(data).getTime(), values);\n          };\n          component.text = function (data, options) {\n            if (typeof data !== 'string') {\n              return false;\n            }\n            if (!options || !options.criteria) {\n              return true;\n            }\n            if (!textCriterias[options.criteria]) {\n              return false;\n            }\n            return textCriterias[options.criteria](data, options.value);\n          };\n          component.textLength = function (data, options) {\n            data = data.toString();\n            return component.number(data.length, options);\n          };\n          return component;\n        }\n\n        /* harmony default export */\n        var validations = Validations();\n        ; // CONCATENATED MODULE: ./src/plugins/form.js\n\n        function Form() {\n          var Component = function (el, options) {\n            var obj = {};\n            obj.options = {};\n\n            // Default configuration\n            var defaults = {\n              url: null,\n              message: 'Are you sure? There are unsaved information in your form',\n              ignore: false,\n              currentHash: null,\n              submitButton: null,\n              validations: null,\n              onbeforeload: null,\n              onload: null,\n              onbeforesave: null,\n              onsave: null,\n              onbeforeremove: null,\n              onremove: null,\n              onerror: function (el, message) {\n                alert(message);\n              }\n            };\n\n            // Loop through our object\n            for (var property in defaults) {\n              if (options && options.hasOwnProperty(property)) {\n                obj.options[property] = options[property];\n              } else {\n                obj.options[property] = defaults[property];\n              }\n            }\n\n            // Validations\n            if (!obj.options.validations) {\n              obj.options.validations = {};\n            }\n\n            // Submit Button\n            if (!obj.options.submitButton) {\n              obj.options.submitButton = el.querySelector('input[type=submit]');\n            }\n            if (obj.options.submitButton && obj.options.url) {\n              obj.options.submitButton.onclick = function () {\n                obj.save();\n              };\n            }\n            if (!obj.options.validations.email) {\n              obj.options.validations.email = validations.email;\n            }\n            if (!obj.options.validations.length) {\n              obj.options.validations.length = validations.length;\n            }\n            if (!obj.options.validations.required) {\n              obj.options.validations.required = validations.required;\n            }\n            obj.setUrl = function (url) {\n              obj.options.url = url;\n            };\n            obj.load = function () {\n              ajax({\n                url: obj.options.url,\n                method: 'GET',\n                dataType: 'json',\n                queue: true,\n                success: function (data) {\n                  // Overwrite values from the backend\n                  if (typeof obj.options.onbeforeload == 'function') {\n                    var ret = obj.options.onbeforeload(el, data);\n                    if (ret) {\n                      data = ret;\n                    }\n                  }\n                  // Apply values to the form\n                  Component.setElements(el, data);\n                  // Onload methods\n                  if (typeof obj.options.onload == 'function') {\n                    obj.options.onload(el, data);\n                  }\n                }\n              });\n            };\n            obj.save = function () {\n              var test = obj.validate();\n              if (test) {\n                obj.options.onerror(el, test);\n              } else {\n                var data = Component.getElements(el, true);\n                if (typeof obj.options.onbeforesave == 'function') {\n                  var data = obj.options.onbeforesave(el, data);\n                  if (data === false) {\n                    return;\n                  }\n                }\n                ajax({\n                  url: obj.options.url,\n                  method: 'POST',\n                  dataType: 'json',\n                  data: data,\n                  success: function (result) {\n                    if (typeof obj.options.onsave == 'function') {\n                      obj.options.onsave(el, data, result);\n                    }\n                  }\n                });\n              }\n            };\n            obj.remove = function () {\n              if (typeof obj.options.onbeforeremove == 'function') {\n                var ret = obj.options.onbeforeremove(el, obj);\n                if (ret === false) {\n                  return false;\n                }\n              }\n              ajax({\n                url: obj.options.url,\n                method: 'DELETE',\n                dataType: 'json',\n                success: function (result) {\n                  if (typeof obj.options.onremove == 'function') {\n                    obj.options.onremove(el, obj, result);\n                  }\n                  obj.reset();\n                }\n              });\n            };\n            var addError = function (element) {\n              // Add error in the element\n              element.classList.add('error');\n              // Submit button\n              if (obj.options.submitButton) {\n                obj.options.submitButton.setAttribute('disabled', true);\n              }\n              // Return error message\n              var error = element.getAttribute('data-error') || 'There is an error in the form';\n              element.setAttribute('title', error);\n              return error;\n            };\n            var delError = function (element) {\n              var error = false;\n              // Remove class from this element\n              element.classList.remove('error');\n              element.removeAttribute('title');\n              // Get elements in the form\n              var elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\n              // Run all elements\n              for (var i = 0; i < elements.length; i++) {\n                if (elements[i].getAttribute('data-validation')) {\n                  if (elements[i].classList.contains('error')) {\n                    error = true;\n                  }\n                }\n              }\n              if (obj.options.submitButton) {\n                if (error) {\n                  obj.options.submitButton.setAttribute('disabled', true);\n                } else {\n                  obj.options.submitButton.removeAttribute('disabled');\n                }\n              }\n            };\n            obj.validateElement = function (element) {\n              // Test results\n              var test = false;\n              // Value\n              var value = Component.getValue(element);\n              // Validation\n              var validation = element.getAttribute('data-validation');\n              // Parse\n              if (typeof obj.options.validations[validation] == 'function' && !obj.options.validations[validation](value, element)) {\n                // Not passed in the test\n                test = addError(element);\n              } else {\n                if (element.classList.contains('error')) {\n                  delError(element);\n                }\n              }\n              return test;\n            };\n            obj.reset = function () {\n              // Get elements in the form\n              var name = null;\n              var elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\n              // Run all elements\n              for (var i = 0; i < elements.length; i++) {\n                if (name = elements[i].getAttribute('name')) {\n                  if (elements[i].type == 'checkbox' || elements[i].type == 'radio') {\n                    elements[i].checked = false;\n                  } else {\n                    if (typeof elements[i].val == 'function') {\n                      elements[i].val('');\n                    } else {\n                      elements[i].value = '';\n                    }\n                  }\n                }\n              }\n            };\n\n            // Run form validation\n            obj.validate = function () {\n              var test = [];\n              // Get elements in the form\n              var elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\n              // Run all elements\n              for (var i = 0; i < elements.length; i++) {\n                // Required\n                if (elements[i].getAttribute('data-validation')) {\n                  var res = obj.validateElement(elements[i]);\n                  if (res) {\n                    test.push(res);\n                  }\n                }\n              }\n              if (test.length > 0) {\n                return test.join('<br>');\n              } else {\n                return false;\n              }\n            };\n\n            // Check the form\n            obj.getError = function () {\n              // Validation\n              return obj.validation() ? true : false;\n            };\n\n            // Return the form hash\n            obj.setHash = function () {\n              return obj.getHash(Component.getElements(el));\n            };\n\n            // Get the form hash\n            obj.getHash = function (str) {\n              var hash = 0,\n                i,\n                chr;\n              if (str.length === 0) {\n                return hash;\n              } else {\n                for (i = 0; i < str.length; i++) {\n                  chr = str.charCodeAt(i);\n                  hash = (hash << 5) - hash + chr;\n                  hash |= 0;\n                }\n              }\n              return hash;\n            };\n\n            // Is there any change in the form since start tracking?\n            obj.isChanged = function () {\n              var hash = obj.setHash();\n              return obj.options.currentHash != hash;\n            };\n\n            // Restart tracking\n            obj.resetTracker = function () {\n              obj.options.currentHash = obj.setHash();\n              obj.options.ignore = false;\n            };\n\n            // Ignore flag\n            obj.setIgnore = function (ignoreFlag) {\n              obj.options.ignore = ignoreFlag ? true : false;\n            };\n\n            // Start tracking in one second\n            setTimeout(function () {\n              obj.options.currentHash = obj.setHash();\n            }, 1000);\n\n            // Validations\n            el.addEventListener(\"keyup\", function (e) {\n              if (e.target.getAttribute('data-validation')) {\n                obj.validateElement(e.target);\n              }\n            });\n\n            // Alert\n            if (!Component.hasEvents) {\n              window.addEventListener(\"beforeunload\", function (e) {\n                if (obj.isChanged() && obj.options.ignore == false) {\n                  var confirmationMessage = obj.options.message ? obj.options.message : \"\\o/\";\n                  if (confirmationMessage) {\n                    if (typeof e == 'undefined') {\n                      e = window.event;\n                    }\n                    if (e) {\n                      e.returnValue = confirmationMessage;\n                    }\n                    return confirmationMessage;\n                  } else {\n                    return void 0;\n                  }\n                }\n              });\n              Component.hasEvents = true;\n            }\n            el.form = obj;\n            return obj;\n          };\n\n          // Get value from one element\n          Component.getValue = function (element) {\n            var value = null;\n            if (element.type == 'checkbox') {\n              if (element.checked == true) {\n                value = element.value || true;\n              }\n            } else if (element.type == 'radio') {\n              if (element.checked == true) {\n                value = element.value;\n              }\n            } else if (element.type == 'file') {\n              value = element.files;\n            } else if (element.tagName == 'select' && element.multiple == true) {\n              value = [];\n              var options = element.querySelectorAll(\"options[selected]\");\n              for (var j = 0; j < options.length; j++) {\n                value.push(options[j].value);\n              }\n            } else if (typeof element.val == 'function') {\n              value = element.val();\n            } else {\n              value = element.value || '';\n            }\n            return value;\n          };\n\n          // Get form elements\n          Component.getElements = function (el, asArray) {\n            var data = {};\n            var name = null;\n            var elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\n            for (var i = 0; i < elements.length; i++) {\n              if (name = elements[i].getAttribute('name')) {\n                data[name] = Component.getValue(elements[i]) || '';\n              }\n            }\n            return asArray == true ? data : JSON.stringify(data);\n          };\n\n          //Get form elements\n          Component.setElements = function (el, data) {\n            var name = null;\n            var value = null;\n            var elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\n            for (var i = 0; i < elements.length; i++) {\n              // Attributes\n              var type = elements[i].getAttribute('type');\n              if (name = elements[i].getAttribute('name')) {\n                // Transform variable names in pathname\n                name = name.replace(new RegExp(/\\[(.*?)\\]/ig), '.$1');\n                value = null;\n                // Seach for the data in the path\n                if (name.match(/\\./)) {\n                  var tmp = Path.call(data, name) || '';\n                  if (typeof tmp !== 'undefined') {\n                    value = tmp;\n                  }\n                } else {\n                  if (typeof data[name] !== 'undefined') {\n                    value = data[name];\n                  }\n                }\n                // Set the values\n                if (value !== null) {\n                  if (type == 'checkbox' || type == 'radio') {\n                    elements[i].checked = value ? true : false;\n                  } else if (type == 'file') {\n                    // Do nothing\n                  } else {\n                    if (typeof elements[i].val == 'function') {\n                      elements[i].val(value);\n                    } else {\n                      elements[i].value = value;\n                    }\n                  }\n                }\n              }\n            }\n          };\n          return Component;\n        }\n\n        /* harmony default export */\n        var plugins_form = Form();\n        ; // CONCATENATED MODULE: ./src/plugins/modal.js\n\n        function Modal() {\n          var Events = function () {\n            //  Position\n            var tracker = null;\n            var keyDown = function (e) {\n              if (e.which == 27) {\n                var modals = document.querySelectorAll('.jmodal');\n                for (var i = 0; i < modals.length; i++) {\n                  modals[i].parentNode.modal.close();\n                }\n              }\n            };\n            var mouseUp = function (e) {\n              var item = helpers.findElement(e.target, 'jmodal');\n              if (item) {\n                // Get target info\n                var rect = item.getBoundingClientRect();\n                if (e.changedTouches && e.changedTouches[0]) {\n                  var x = e.changedTouches[0].clientX;\n                  var y = e.changedTouches[0].clientY;\n                } else {\n                  var x = e.clientX;\n                  var y = e.clientY;\n                }\n                if (rect.width - (x - rect.left) < 50 && y - rect.top < 50) {\n                  item.parentNode.modal.close();\n                }\n              }\n              if (tracker) {\n                tracker.element.style.cursor = 'auto';\n                tracker = null;\n              }\n            };\n            var mouseDown = function (e) {\n              var item = helpers.findElement(e.target, 'jmodal');\n              if (item) {\n                // Get target info\n                var rect = item.getBoundingClientRect();\n                if (e.changedTouches && e.changedTouches[0]) {\n                  var x = e.changedTouches[0].clientX;\n                  var y = e.changedTouches[0].clientY;\n                } else {\n                  var x = e.clientX;\n                  var y = e.clientY;\n                }\n                if (rect.width - (x - rect.left) < 50 && y - rect.top < 50) {\n                  // Do nothing\n                } else {\n                  if (y - rect.top < 50) {\n                    if (document.selection) {\n                      document.selection.empty();\n                    } else if (window.getSelection) {\n                      window.getSelection().removeAllRanges();\n                    }\n                    tracker = {\n                      left: rect.left,\n                      top: rect.top,\n                      x: e.clientX,\n                      y: e.clientY,\n                      width: rect.width,\n                      height: rect.height,\n                      element: item\n                    };\n                  }\n                }\n              }\n            };\n            var mouseMove = function (e) {\n              if (tracker) {\n                e = e || window.event;\n                if (e.buttons) {\n                  var mouseButton = e.buttons;\n                } else if (e.button) {\n                  var mouseButton = e.button;\n                } else {\n                  var mouseButton = e.which;\n                }\n                if (mouseButton) {\n                  tracker.element.style.top = tracker.top + (e.clientY - tracker.y) + tracker.height / 2 + 'px';\n                  tracker.element.style.left = tracker.left + (e.clientX - tracker.x) + tracker.width / 2 + 'px';\n                  tracker.element.style.cursor = 'move';\n                } else {\n                  tracker.element.style.cursor = 'auto';\n                }\n              }\n            };\n            document.addEventListener('keydown', keyDown);\n            document.addEventListener('mouseup', mouseUp);\n            document.addEventListener('mousedown', mouseDown);\n            document.addEventListener('mousemove', mouseMove);\n          };\n          var Component = function (el, options) {\n            var obj = {};\n            obj.options = {};\n\n            // Default configuration\n            var defaults = {\n              url: null,\n              onopen: null,\n              onclose: null,\n              onload: null,\n              closed: false,\n              width: null,\n              height: null,\n              title: null,\n              padding: null,\n              backdrop: true,\n              icon: null\n            };\n\n            // Loop through our object\n            for (var property in defaults) {\n              if (options && options.hasOwnProperty(property)) {\n                obj.options[property] = options[property];\n              } else {\n                obj.options[property] = defaults[property];\n              }\n            }\n\n            // Title\n            if (!obj.options.title && el.getAttribute('title')) {\n              obj.options.title = el.getAttribute('title');\n            }\n            var temp = document.createElement('div');\n            while (el.children[0]) {\n              temp.appendChild(el.children[0]);\n            }\n            obj.title = document.createElement('div');\n            obj.title.className = 'jmodal_title';\n            if (obj.options.icon) {\n              obj.title.setAttribute('data-icon', obj.options.icon);\n            }\n            obj.content = document.createElement('div');\n            obj.content.className = 'jmodal_content';\n            obj.content.innerHTML = el.innerHTML;\n            while (temp.children[0]) {\n              obj.content.appendChild(temp.children[0]);\n            }\n            obj.container = document.createElement('div');\n            obj.container.className = 'jmodal';\n            obj.container.appendChild(obj.title);\n            obj.container.appendChild(obj.content);\n            if (obj.options.padding) {\n              obj.content.style.padding = obj.options.padding;\n            }\n            if (obj.options.width) {\n              obj.container.style.width = obj.options.width;\n            }\n            if (obj.options.height) {\n              obj.container.style.height = obj.options.height;\n            }\n            if (obj.options.title) {\n              var title = document.createElement('h4');\n              title.innerText = obj.options.title;\n              obj.title.appendChild(title);\n            }\n            el.innerHTML = '';\n            el.style.display = 'none';\n            el.appendChild(obj.container);\n\n            // Backdrop\n            if (obj.options.backdrop) {\n              var backdrop = document.createElement('div');\n              backdrop.className = 'jmodal_backdrop';\n              backdrop.onclick = function () {\n                obj.close();\n              };\n              el.appendChild(backdrop);\n            }\n            obj.open = function () {\n              el.style.display = 'block';\n              // Fullscreen\n              var rect = obj.container.getBoundingClientRect();\n              if (helpers.getWindowWidth() < rect.width) {\n                obj.container.style.top = '';\n                obj.container.style.left = '';\n                obj.container.classList.add('jmodal_fullscreen');\n                animation.slideBottom(obj.container, 1);\n              } else {\n                if (obj.options.backdrop) {\n                  backdrop.style.display = 'block';\n                }\n              }\n              // Event\n              if (typeof obj.options.onopen == 'function') {\n                obj.options.onopen(el, obj);\n              }\n            };\n            obj.resetPosition = function () {\n              obj.container.style.top = '';\n              obj.container.style.left = '';\n            };\n            obj.isOpen = function () {\n              return el.style.display != 'none' ? true : false;\n            };\n            obj.close = function () {\n              if (obj.isOpen()) {\n                el.style.display = 'none';\n                if (obj.options.backdrop) {\n                  // Backdrop\n                  backdrop.style.display = '';\n                }\n                // Remove fullscreen class\n                obj.container.classList.remove('jmodal_fullscreen');\n                // Event\n                if (typeof obj.options.onclose == 'function') {\n                  obj.options.onclose(el, obj);\n                }\n              }\n            };\n            if (obj.options.url) {\n              ajax({\n                url: obj.options.url,\n                method: 'GET',\n                dataType: 'text/html',\n                success: function (data) {\n                  obj.content.innerHTML = data;\n                  if (!obj.options.closed) {\n                    obj.open();\n                  }\n                  if (typeof obj.options.onload === 'function') {\n                    obj.options.onload(obj);\n                  }\n                }\n              });\n            } else {\n              if (!obj.options.closed) {\n                obj.open();\n              }\n              if (typeof obj.options.onload === 'function') {\n                obj.options.onload(obj);\n              }\n            }\n\n            // Keep object available from the node\n            el.modal = obj;\n\n            // Create events when the first modal is create only\n            Events();\n\n            // Execute the events only once\n            Events = function () {};\n            return obj;\n          };\n          return Component;\n        }\n\n        /* harmony default export */\n        var modal = Modal();\n        ; // CONCATENATED MODULE: ./src/plugins/notification.js\n\n        function Notification() {\n          var Component = function (options) {\n            var obj = {};\n            obj.options = {};\n\n            // Default configuration\n            var defaults = {\n              icon: null,\n              name: 'Notification',\n              date: null,\n              error: null,\n              title: null,\n              message: null,\n              timeout: 4000,\n              autoHide: true,\n              closeable: true\n            };\n\n            // Loop through our object\n            for (var property in defaults) {\n              if (options && options.hasOwnProperty(property)) {\n                obj.options[property] = options[property];\n              } else {\n                obj.options[property] = defaults[property];\n              }\n            }\n            var notification = document.createElement('div');\n            notification.className = 'jnotification';\n            if (obj.options.error) {\n              notification.classList.add('jnotification-error');\n            }\n            var notificationContainer = document.createElement('div');\n            notificationContainer.className = 'jnotification-container';\n            notification.appendChild(notificationContainer);\n            var notificationHeader = document.createElement('div');\n            notificationHeader.className = 'jnotification-header';\n            notificationContainer.appendChild(notificationHeader);\n            var notificationImage = document.createElement('div');\n            notificationImage.className = 'jnotification-image';\n            notificationHeader.appendChild(notificationImage);\n            if (obj.options.icon) {\n              var notificationIcon = document.createElement('img');\n              notificationIcon.src = obj.options.icon;\n              notificationImage.appendChild(notificationIcon);\n            }\n            var notificationName = document.createElement('div');\n            notificationName.className = 'jnotification-name';\n            notificationName.innerHTML = obj.options.name;\n            notificationHeader.appendChild(notificationName);\n            if (obj.options.closeable == true) {\n              var notificationClose = document.createElement('div');\n              notificationClose.className = 'jnotification-close';\n              notificationClose.onclick = function () {\n                obj.hide();\n              };\n              notificationHeader.appendChild(notificationClose);\n            }\n            var notificationDate = document.createElement('div');\n            notificationDate.className = 'jnotification-date';\n            notificationHeader.appendChild(notificationDate);\n            var notificationContent = document.createElement('div');\n            notificationContent.className = 'jnotification-content';\n            notificationContainer.appendChild(notificationContent);\n            if (obj.options.title) {\n              var notificationTitle = document.createElement('div');\n              notificationTitle.className = 'jnotification-title';\n              notificationTitle.innerHTML = obj.options.title;\n              notificationContent.appendChild(notificationTitle);\n            }\n            var notificationMessage = document.createElement('div');\n            notificationMessage.className = 'jnotification-message';\n            notificationMessage.innerHTML = obj.options.message;\n            notificationContent.appendChild(notificationMessage);\n            obj.show = function () {\n              document.body.appendChild(notification);\n              if (helpers.getWindowWidth() > 800) {\n                animation.fadeIn(notification);\n              } else {\n                animation.slideTop(notification, 1);\n              }\n            };\n            obj.hide = function () {\n              if (helpers.getWindowWidth() > 800) {\n                animation.fadeOut(notification, function () {\n                  if (notification.parentNode) {\n                    notification.parentNode.removeChild(notification);\n                    if (notificationTimeout) {\n                      clearTimeout(notificationTimeout);\n                    }\n                  }\n                });\n              } else {\n                animation.slideTop(notification, 0, function () {\n                  if (notification.parentNode) {\n                    notification.parentNode.removeChild(notification);\n                    if (notificationTimeout) {\n                      clearTimeout(notificationTimeout);\n                    }\n                  }\n                });\n              }\n            };\n            obj.show();\n            if (obj.options.autoHide == true) {\n              var notificationTimeout = setTimeout(function () {\n                obj.hide();\n              }, obj.options.timeout);\n            }\n            if (helpers.getWindowWidth() < 800) {\n              notification.addEventListener(\"swipeup\", function (e) {\n                obj.hide();\n                e.preventDefault();\n                e.stopPropagation();\n              });\n            }\n            return obj;\n          };\n          Component.isVisible = function () {\n            var j = document.querySelector('.jnotification');\n            return j && j.parentNode ? true : false;\n          };\n          return Component;\n        }\n\n        /* harmony default export */\n        var notification = Notification();\n        ; // CONCATENATED MODULE: ./src/plugins/progressbar.js\n        function Progressbar(el, options) {\n          var obj = {};\n          obj.options = {};\n\n          // Default configuration\n          var defaults = {\n            value: 0,\n            onchange: null,\n            width: null\n          };\n\n          // Loop through the initial configuration\n          for (var property in defaults) {\n            if (options && options.hasOwnProperty(property)) {\n              obj.options[property] = options[property];\n            } else {\n              obj.options[property] = defaults[property];\n            }\n          }\n\n          // Class\n          el.classList.add('jprogressbar');\n          el.setAttribute('tabindex', 1);\n          el.setAttribute('data-value', obj.options.value);\n          var bar = document.createElement('div');\n          bar.style.width = obj.options.value + '%';\n          bar.style.color = '#fff';\n          el.appendChild(bar);\n          if (obj.options.width) {\n            el.style.width = obj.options.width;\n          }\n\n          // Set value\n          obj.setValue = function (value) {\n            value = parseInt(value);\n            obj.options.value = value;\n            bar.style.width = value + '%';\n            el.setAttribute('data-value', value + '%');\n            if (value < 6) {\n              el.style.color = '#000';\n            } else {\n              el.style.color = '#fff';\n            }\n\n            // Update value\n            obj.options.value = value;\n            if (typeof obj.options.onchange == 'function') {\n              obj.options.onchange(el, value);\n            }\n\n            // Lemonade JS\n            if (el.value != obj.options.value) {\n              el.value = obj.options.value;\n              if (typeof el.oninput == 'function') {\n                el.oninput({\n                  type: 'input',\n                  target: el,\n                  value: el.value\n                });\n              }\n            }\n          };\n          obj.getValue = function () {\n            return obj.options.value;\n          };\n          var action = function (e) {\n            if (e.which) {\n              // Get target info\n              var rect = el.getBoundingClientRect();\n              if (e.changedTouches && e.changedTouches[0]) {\n                var x = e.changedTouches[0].clientX;\n                var y = e.changedTouches[0].clientY;\n              } else {\n                var x = e.clientX;\n                var y = e.clientY;\n              }\n              obj.setValue(Math.round((x - rect.left) / rect.width * 100));\n            }\n          };\n\n          // Events\n          if ('touchstart' in document.documentElement === true) {\n            el.addEventListener('touchstart', action);\n            el.addEventListener('touchend', action);\n          } else {\n            el.addEventListener('mousedown', action);\n            el.addEventListener(\"mousemove\", action);\n          }\n\n          // Change\n          el.change = obj.setValue;\n\n          // Global generic value handler\n          el.val = function (val) {\n            if (val === undefined) {\n              return obj.getValue();\n            } else {\n              obj.setValue(val);\n            }\n          };\n\n          // Reference\n          el.progressbar = obj;\n          return obj;\n        }\n        ; // CONCATENATED MODULE: ./src/plugins/rating.js\n        function Rating(el, options) {\n          // Already created, update options\n          if (el.rating) {\n            return el.rating.setOptions(options, true);\n          }\n\n          // New instance\n          var obj = {};\n          obj.options = {};\n          obj.setOptions = function (options, reset) {\n            // Default configuration\n            var defaults = {\n              number: 5,\n              value: 0,\n              tooltip: ['Very bad', 'Bad', 'Average', 'Good', 'Very good'],\n              onchange: null\n            };\n\n            // Loop through the initial configuration\n            for (var property in defaults) {\n              if (options && options.hasOwnProperty(property)) {\n                obj.options[property] = options[property];\n              } else {\n                if (typeof obj.options[property] == 'undefined' || reset === true) {\n                  obj.options[property] = defaults[property];\n                }\n              }\n            }\n\n            // Make sure the container is empty\n            el.innerHTML = '';\n\n            // Add elements\n            for (var i = 0; i < obj.options.number; i++) {\n              var div = document.createElement('div');\n              div.setAttribute('data-index', i + 1);\n              div.setAttribute('title', obj.options.tooltip[i]);\n              el.appendChild(div);\n            }\n\n            // Selected option\n            if (obj.options.value) {\n              for (var i = 0; i < obj.options.number; i++) {\n                if (i < obj.options.value) {\n                  el.children[i].classList.add('jrating-selected');\n                }\n              }\n            }\n            return obj;\n          };\n\n          // Set value\n          obj.setValue = function (index) {\n            for (var i = 0; i < obj.options.number; i++) {\n              if (i < index) {\n                el.children[i].classList.add('jrating-selected');\n              } else {\n                el.children[i].classList.remove('jrating-over');\n                el.children[i].classList.remove('jrating-selected');\n              }\n            }\n            obj.options.value = index;\n            if (typeof obj.options.onchange == 'function') {\n              obj.options.onchange(el, index);\n            }\n\n            // Lemonade JS\n            if (el.value != obj.options.value) {\n              el.value = obj.options.value;\n              if (typeof el.oninput == 'function') {\n                el.oninput({\n                  type: 'input',\n                  target: el,\n                  value: el.value\n                });\n              }\n            }\n          };\n          obj.getValue = function () {\n            return obj.options.value;\n          };\n          var init = function () {\n            // Start plugin\n            obj.setOptions(options);\n\n            // Class\n            el.classList.add('jrating');\n\n            // Events\n            el.addEventListener(\"click\", function (e) {\n              var index = e.target.getAttribute('data-index');\n              if (index != undefined) {\n                if (index == obj.options.value) {\n                  obj.setValue(0);\n                } else {\n                  obj.setValue(index);\n                }\n              }\n            });\n            el.addEventListener(\"mouseover\", function (e) {\n              var index = e.target.getAttribute('data-index');\n              for (var i = 0; i < obj.options.number; i++) {\n                if (i < index) {\n                  el.children[i].classList.add('jrating-over');\n                } else {\n                  el.children[i].classList.remove('jrating-over');\n                }\n              }\n            });\n            el.addEventListener(\"mouseout\", function (e) {\n              for (var i = 0; i < obj.options.number; i++) {\n                el.children[i].classList.remove('jrating-over');\n              }\n            });\n\n            // Change\n            el.change = obj.setValue;\n\n            // Global generic value handler\n            el.val = function (val) {\n              if (val === undefined) {\n                return obj.getValue();\n              } else {\n                obj.setValue(val);\n              }\n            };\n\n            // Reference\n            el.rating = obj;\n          };\n          init();\n          return obj;\n        }\n        ; // CONCATENATED MODULE: ./src/plugins/search.js\n\n        function Search(el, options) {\n          if (el.search) {\n            return el.search;\n          }\n          var index = null;\n          var select = function (e) {\n            if (e.target.classList.contains('jsearch_item')) {\n              var element = e.target;\n            } else {\n              var element = e.target.parentNode;\n            }\n            obj.selectIndex(element);\n            e.preventDefault();\n          };\n          var createList = function (data) {\n            if (typeof obj.options.onsearch == 'function') {\n              var ret = obj.options.onsearch(obj, data);\n              if (ret) {\n                data = ret;\n              }\n            }\n\n            // Reset container\n            container.innerHTML = '';\n            // Print results\n            if (!data.length) {\n              // Show container\n              el.style.display = '';\n            } else {\n              // Show container\n              el.style.display = 'block';\n\n              // Show items (only 10)\n              var len = data.length < 11 ? data.length : 10;\n              for (var i = 0; i < len; i++) {\n                if (typeof data[i] == 'string') {\n                  var text = data[i];\n                  var value = data[i];\n                } else {\n                  // Legacy\n                  var text = data[i].text;\n                  if (!text && data[i].name) {\n                    text = data[i].name;\n                  }\n                  var value = data[i].value;\n                  if (!value && data[i].id) {\n                    value = data[i].id;\n                  }\n                }\n                var div = document.createElement('div');\n                div.setAttribute('data-value', value);\n                div.setAttribute('data-text', text);\n                div.className = 'jsearch_item';\n                if (data[i].id) {\n                  div.setAttribute('id', data[i].id);\n                }\n                if (obj.options.forceSelect && i == 0) {\n                  div.classList.add('selected');\n                }\n                var img = document.createElement('img');\n                if (data[i].image) {\n                  img.src = data[i].image;\n                } else {\n                  img.style.display = 'none';\n                }\n                div.appendChild(img);\n                var item = document.createElement('div');\n                item.innerHTML = text;\n                div.appendChild(item);\n\n                // Append item to the container\n                container.appendChild(div);\n              }\n            }\n          };\n          var execute = function (str) {\n            if (str != obj.terms) {\n              // New terms\n              obj.terms = str;\n              // New index\n              if (obj.options.forceSelect) {\n                index = 0;\n              } else {\n                index = null;\n              }\n              // Array or remote search\n              if (Array.isArray(obj.options.data)) {\n                var test = function (o) {\n                  if (typeof o == 'string') {\n                    if (('' + o).toLowerCase().search(str.toLowerCase()) >= 0) {\n                      return true;\n                    }\n                  } else {\n                    for (var key in o) {\n                      var value = o[key];\n                      if (('' + value).toLowerCase().search(str.toLowerCase()) >= 0) {\n                        return true;\n                      }\n                    }\n                  }\n                  return false;\n                };\n                var results = obj.options.data.filter(function (item) {\n                  return test(item);\n                });\n\n                // Show items\n                createList(results);\n              } else {\n                // Get remove results\n                ajax({\n                  url: obj.options.data + str,\n                  method: 'GET',\n                  dataType: 'json',\n                  success: function (data) {\n                    // Show items\n                    createList(data);\n                  }\n                });\n              }\n            }\n          };\n\n          // Search timer\n          var timer = null;\n\n          // Search methods\n          var obj = function (str) {\n            if (timer) {\n              clearTimeout(timer);\n            }\n            timer = setTimeout(function () {\n              execute(str);\n            }, 500);\n          };\n          if (options.forceSelect === null) {\n            options.forceSelect = true;\n          }\n          obj.options = {\n            data: options.data || null,\n            input: options.input || null,\n            searchByNode: options.searchByNode || null,\n            onselect: options.onselect || null,\n            forceSelect: options.forceSelect,\n            onsearch: options.onsearch || null,\n            onbeforesearch: options.onbeforesearch || null\n          };\n          obj.selectIndex = function (item) {\n            var id = item.getAttribute('id');\n            var text = item.getAttribute('data-text');\n            var value = item.getAttribute('data-value');\n            var image = item.children[0].src || '';\n            // Onselect\n            if (typeof obj.options.onselect == 'function') {\n              obj.options.onselect(obj, text, value, id, image);\n            }\n            // Close container\n            obj.close();\n          };\n          obj.open = function () {\n            el.style.display = 'block';\n          };\n          obj.close = function () {\n            if (timer) {\n              clearTimeout(timer);\n            }\n            // Current terms\n            obj.terms = '';\n            // Remove results\n            container.innerHTML = '';\n            // Hide\n            el.style.display = '';\n          };\n          obj.isOpened = function () {\n            return el.style.display ? true : false;\n          };\n          obj.keydown = function (e) {\n            if (obj.isOpened()) {\n              if (e.key == 'Enter') {\n                // Enter\n                if (index !== null && container.children[index]) {\n                  obj.selectIndex(container.children[index]);\n                  e.preventDefault();\n                } else {\n                  obj.close();\n                }\n              } else if (e.key === 'ArrowUp') {\n                // Up\n                if (index !== null && container.children[0]) {\n                  container.children[index].classList.remove('selected');\n                  if (!obj.options.forceSelect && index === 0) {\n                    index = null;\n                  } else {\n                    index = Math.max(0, index - 1);\n                    container.children[index].classList.add('selected');\n                  }\n                }\n                e.preventDefault();\n              } else if (e.key === 'ArrowDown') {\n                // Down\n                if (index == null) {\n                  index = -1;\n                } else {\n                  container.children[index].classList.remove('selected');\n                }\n                if (index < 9 && container.children[index + 1]) {\n                  index++;\n                }\n                container.children[index].classList.add('selected');\n                e.preventDefault();\n              }\n            }\n          };\n          obj.keyup = function (e) {\n            if (!obj.options.searchByNode && obj.options.input) {\n              if (obj.options.input.tagName === 'DIV') {\n                var terms = obj.options.input.innerText;\n              } else {\n                var terms = obj.options.input.value;\n              }\n            } else {\n              // Current node\n              var node = helpers.getNode();\n              if (node) {\n                var terms = node.innerText;\n              }\n            }\n            if (typeof obj.options.onbeforesearch == 'function') {\n              var ret = obj.options.onbeforesearch(obj, terms);\n              if (ret) {\n                terms = ret;\n              } else {\n                if (ret === false) {\n                  // Ignore event\n                  return;\n                }\n              }\n            }\n            obj(terms);\n          };\n          obj.blur = function (e) {\n            obj.close();\n          };\n\n          // Add events\n          if (obj.options.input) {\n            obj.options.input.addEventListener(\"keyup\", obj.keyup);\n            obj.options.input.addEventListener(\"keydown\", obj.keydown);\n            obj.options.input.addEventListener(\"blur\", obj.blur);\n          }\n\n          // Append element\n          var container = document.createElement('div');\n          container.classList.add('jsearch_container');\n          container.onmousedown = select;\n          el.appendChild(container);\n          el.classList.add('jsearch');\n          el.search = obj;\n          return obj;\n        }\n        ; // CONCATENATED MODULE: ./src/plugins/slider.js\n        function Slider(el, options) {\n          var obj = {};\n          obj.options = {};\n          obj.currentImage = null;\n          if (options) {\n            obj.options = options;\n          }\n\n          // Focus\n          el.setAttribute('tabindex', '900');\n\n          // Items\n          obj.options.items = [];\n          if (!el.classList.contains('jslider')) {\n            el.classList.add('jslider');\n            el.classList.add('unselectable');\n            if (obj.options.height) {\n              el.style.minHeight = parseInt(obj.options.height) + 'px';\n            }\n            if (obj.options.width) {\n              el.style.width = parseInt(obj.options.width) + 'px';\n            }\n            if (obj.options.grid) {\n              el.classList.add('jslider-grid');\n              var number = el.children.length;\n              if (number > 4) {\n                el.setAttribute('data-total', number - 4);\n              }\n              el.setAttribute('data-number', number > 4 ? 4 : number);\n            }\n\n            // Add slider counter\n            var counter = document.createElement('div');\n            counter.classList.add('jslider-counter');\n\n            // Move children inside\n            if (el.children.length > 0) {\n              // Keep children items\n              for (var i = 0; i < el.children.length; i++) {\n                obj.options.items.push(el.children[i]);\n\n                // counter click event\n                var item = document.createElement('div');\n                item.onclick = function () {\n                  var index = Array.prototype.slice.call(counter.children).indexOf(this);\n                  obj.show(obj.currentImage = obj.options.items[index]);\n                };\n                counter.appendChild(item);\n              }\n            }\n            // Add caption\n            var caption = document.createElement('div');\n            caption.className = 'jslider-caption';\n\n            // Add close buttom\n            var controls = document.createElement('div');\n            var close = document.createElement('div');\n            close.className = 'jslider-close';\n            close.innerHTML = '';\n            close.onclick = function () {\n              obj.close();\n            };\n            controls.appendChild(caption);\n            controls.appendChild(close);\n          }\n          obj.updateCounter = function (index) {\n            for (var i = 0; i < counter.children.length; i++) {\n              if (counter.children[i].classList.contains('jslider-counter-focus')) {\n                counter.children[i].classList.remove('jslider-counter-focus');\n                break;\n              }\n            }\n            counter.children[index].classList.add('jslider-counter-focus');\n          };\n          obj.show = function (target) {\n            if (!target) {\n              var target = el.children[0];\n            }\n\n            // Focus element\n            el.classList.add('jslider-focus');\n            el.classList.remove('jslider-grid');\n            el.appendChild(controls);\n            el.appendChild(counter);\n\n            // Update counter\n            var index = obj.options.items.indexOf(target);\n            obj.updateCounter(index);\n\n            // Remove display\n            for (var i = 0; i < el.children.length; i++) {\n              el.children[i].style.display = '';\n            }\n            target.style.display = 'block';\n\n            // Is there any previous\n            if (target.previousElementSibling) {\n              el.classList.add('jslider-left');\n            } else {\n              el.classList.remove('jslider-left');\n            }\n\n            // Is there any next\n            if (target.nextElementSibling && target.nextElementSibling.tagName == 'IMG') {\n              el.classList.add('jslider-right');\n            } else {\n              el.classList.remove('jslider-right');\n            }\n            obj.currentImage = target;\n\n            // Vertical image\n            if (obj.currentImage.offsetHeight > obj.currentImage.offsetWidth) {\n              obj.currentImage.classList.add('jslider-vertical');\n            }\n            controls.children[0].innerText = obj.currentImage.getAttribute('title');\n          };\n          obj.open = function () {\n            obj.show();\n\n            // Event\n            if (typeof obj.options.onopen == 'function') {\n              obj.options.onopen(el);\n            }\n          };\n          obj.close = function () {\n            // Remove control classes\n            el.classList.remove('jslider-focus');\n            el.classList.remove('jslider-left');\n            el.classList.remove('jslider-right');\n            // Show as a grid depending on the configuration\n            if (obj.options.grid) {\n              el.classList.add('jslider-grid');\n            }\n            // Remove display\n            for (var i = 0; i < el.children.length; i++) {\n              el.children[i].style.display = '';\n            }\n            // Remove controls from the component\n            counter.remove();\n            controls.remove();\n            // Current image\n            obj.currentImage = null;\n            // Event\n            if (typeof obj.options.onclose == 'function') {\n              obj.options.onclose(el);\n            }\n          };\n          obj.reset = function () {\n            el.innerHTML = '';\n          };\n          obj.next = function () {\n            var nextImage = obj.currentImage.nextElementSibling;\n            if (nextImage && nextImage.tagName === 'IMG') {\n              obj.show(obj.currentImage.nextElementSibling);\n            }\n          };\n          obj.prev = function () {\n            if (obj.currentImage.previousElementSibling) {\n              obj.show(obj.currentImage.previousElementSibling);\n            }\n          };\n          var mouseUp = function (e) {\n            // Open slider\n            if (e.target.tagName == 'IMG') {\n              obj.show(e.target);\n            } else if (!e.target.classList.contains('jslider-close') && !(e.target.parentNode.classList.contains('jslider-counter') || e.target.classList.contains('jslider-counter'))) {\n              // Arrow controls\n              var offsetX = e.offsetX || e.changedTouches[0].clientX;\n              if (e.target.clientWidth - offsetX < 40) {\n                // Show next image\n                obj.next();\n              } else if (offsetX < 40) {\n                // Show previous image\n                obj.prev();\n              }\n            }\n          };\n          if ('ontouchend' in document.documentElement === true) {\n            el.addEventListener('touchend', mouseUp);\n          } else {\n            el.addEventListener('mouseup', mouseUp);\n          }\n\n          // Add global events\n          el.addEventListener(\"swipeleft\", function (e) {\n            obj.next();\n            e.preventDefault();\n            e.stopPropagation();\n          });\n          el.addEventListener(\"swiperight\", function (e) {\n            obj.prev();\n            e.preventDefault();\n            e.stopPropagation();\n          });\n          el.addEventListener('keydown', function (e) {\n            if (e.which == 27) {\n              obj.close();\n            }\n          });\n          el.slider = obj;\n          return obj;\n        }\n        ; // CONCATENATED MODULE: ./src/plugins/tags.js\n\n        function Tags(el, options) {\n          // Redefine configuration\n          if (el.tags) {\n            return el.tags.setOptions(options, true);\n          }\n          var obj = {\n            type: 'tags'\n          };\n          obj.options = {};\n\n          // Limit\n          var limit = function () {\n            return obj.options.limit && el.children.length >= obj.options.limit ? true : false;\n          };\n\n          // Search helpers\n          var search = null;\n          var searchContainer = null;\n          obj.setOptions = function (options, reset) {\n            /**\r\n             * @typedef {Object} defaults\r\n             * @property {(string|Array)} value - Initial value of the compontent\r\n             * @property {number} limit - Max number of tags inside the element\r\n             * @property {string} search - The URL for suggestions\r\n             * @property {string} placeholder - The default instruction text on the element\r\n             * @property {validation} validation - Method to validate the tags\r\n             * @property {requestCallback} onbeforechange - Method to be execute before any changes on the element\r\n             * @property {requestCallback} onchange - Method to be execute after any changes on the element\r\n             * @property {requestCallback} onfocus - Method to be execute when on focus\r\n             * @property {requestCallback} onblur - Method to be execute when on blur\r\n             * @property {requestCallback} onload - Method to be execute when the element is loaded\r\n             */\n            var defaults = {\n              value: '',\n              limit: null,\n              search: null,\n              placeholder: null,\n              validation: null,\n              onbeforepaste: null,\n              onbeforechange: null,\n              onlimit: null,\n              onchange: null,\n              onfocus: null,\n              onblur: null,\n              onload: null\n            };\n\n            // Loop through though the default configuration\n            for (var property in defaults) {\n              if (options && options.hasOwnProperty(property)) {\n                obj.options[property] = options[property];\n              } else {\n                if (typeof obj.options[property] == 'undefined' || reset === true) {\n                  obj.options[property] = defaults[property];\n                }\n              }\n            }\n\n            // Placeholder\n            if (obj.options.placeholder) {\n              el.setAttribute('data-placeholder', obj.options.placeholder);\n            } else {\n              el.removeAttribute('data-placeholder');\n            }\n            el.placeholder = obj.options.placeholder;\n\n            // Update value\n            obj.setValue(obj.options.value);\n\n            // Validate items\n            filter();\n\n            // Create search box\n            if (obj.options.search) {\n              if (!searchContainer) {\n                searchContainer = document.createElement('div');\n                el.parentNode.insertBefore(searchContainer, el.nextSibling);\n\n                // Create container\n                search = Search(searchContainer, {\n                  data: obj.options.search,\n                  onselect: function (a, b, c) {\n                    obj.selectIndex(b, c);\n                  }\n                });\n              }\n            } else {\n              if (searchContainer) {\n                search = null;\n                searchContainer.remove();\n                searchContainer = null;\n              }\n            }\n            return obj;\n          };\n\n          /**\r\n           * Add a new tag to the element\r\n           * @param {(?string|Array)} value - The value of the new element\r\n           */\n          obj.add = function (value, focus) {\n            if (typeof obj.options.onbeforechange == 'function') {\n              var ret = obj.options.onbeforechange(el, obj, obj.options.value, value);\n              if (ret === false) {\n                return false;\n              } else {\n                if (ret != null) {\n                  value = ret;\n                }\n              }\n            }\n\n            // Make sure search is closed\n            if (search) {\n              search.close();\n            }\n            if (limit()) {\n              if (typeof obj.options.onlimit == 'function') {\n                obj.options.onlimit(obj, obj.options.limit);\n              } else {\n                alert(dictionary.translate('You reach the limit number of entries') + ' ' + obj.options.limit);\n              }\n            } else {\n              // Get node\n              var node = helpers.getNode();\n              if (node && node.parentNode && node.parentNode.classList.contains('jtags') && node.nextSibling && !(node.nextSibling.innerText && node.nextSibling.innerText.trim())) {\n                div = node.nextSibling;\n              } else {\n                // Remove not used last item\n                if (el.lastChild) {\n                  if (!el.lastChild.innerText.trim()) {\n                    el.removeChild(el.lastChild);\n                  }\n                }\n\n                // Mix argument string or array\n                if (!value || typeof value == 'string') {\n                  var div = createElement(value, value, node);\n                } else {\n                  for (var i = 0; i <= value.length; i++) {\n                    if (!limit()) {\n                      if (!value[i] || typeof value[i] == 'string') {\n                        var t = value[i] || '';\n                        var v = null;\n                      } else {\n                        var t = value[i].text;\n                        var v = value[i].value;\n                      }\n\n                      // Add element\n                      var div = createElement(t, v);\n                    }\n                  }\n                }\n\n                // Change\n                change();\n              }\n\n              // Place caret\n              if (focus) {\n                setFocus(div);\n              }\n            }\n          };\n          obj.setLimit = function (limit) {\n            obj.options.limit = limit;\n            var n = el.children.length - limit;\n            while (el.children.length > limit) {\n              el.removeChild(el.lastChild);\n            }\n          };\n\n          // Remove a item node\n          obj.remove = function (node) {\n            // Remove node\n            node.parentNode.removeChild(node);\n            // Make sure element is not blank\n            if (!el.children.length) {\n              obj.add('', true);\n            } else {\n              change();\n            }\n          };\n\n          /**\r\n           * Get all tags in the element\r\n           * @return {Array} data - All tags as an array\r\n           */\n          obj.getData = function () {\n            var data = [];\n            for (var i = 0; i < el.children.length; i++) {\n              // Get value\n              var text = el.children[i].innerText.replace(\"\\n\", \"\");\n              // Get id\n              var value = el.children[i].getAttribute('data-value');\n              if (!value) {\n                value = text;\n              }\n              // Item\n              if (text || value) {\n                data.push({\n                  text: text,\n                  value: value\n                });\n              }\n            }\n            return data;\n          };\n\n          /**\r\n           * Get the value of one tag. Null for all tags\r\n           * @param {?number} index - Tag index number. Null for all tags.\r\n           * @return {string} value - All tags separated by comma\r\n           */\n          obj.getValue = function (index) {\n            var value = null;\n            if (index != null) {\n              // Get one individual value\n              value = el.children[index].getAttribute('data-value');\n              if (!value) {\n                value = el.children[index].innerText.replace(\"\\n\", \"\");\n              }\n            } else {\n              // Get all\n              var data = [];\n              for (var i = 0; i < el.children.length; i++) {\n                value = el.children[i].innerText.replace(\"\\n\", \"\");\n                if (value) {\n                  data.push(obj.getValue(i));\n                }\n              }\n              value = data.join(',');\n            }\n            return value;\n          };\n\n          /**\r\n           * Set the value of the element based on a string separeted by (,|;|\\r\\n)\r\n           * @param {mixed} value - A string or array object with values\r\n           */\n          obj.setValue = function (mixed) {\n            if (!mixed) {\n              obj.reset();\n            } else {\n              if (el.value != mixed) {\n                if (Array.isArray(mixed)) {\n                  obj.add(mixed);\n                } else {\n                  // Remove whitespaces\n                  var text = ('' + mixed).trim();\n                  // Tags\n                  var data = extractTags(text);\n                  // Reset\n                  el.innerHTML = '';\n                  // Add tags to the element\n                  obj.add(data);\n                }\n              }\n            }\n          };\n\n          /**\r\n           * Reset the data from the element\r\n           */\n          obj.reset = function () {\n            // Empty class\n            el.classList.add('jtags-empty');\n            // Empty element\n            el.innerHTML = '<div></div>';\n            // Execute changes\n            change();\n          };\n\n          /**\r\n           * Verify if all tags in the element are valid\r\n           * @return {boolean}\r\n           */\n          obj.isValid = function () {\n            var test = 0;\n            for (var i = 0; i < el.children.length; i++) {\n              if (el.children[i].classList.contains('jtags_error')) {\n                test++;\n              }\n            }\n            return test == 0 ? true : false;\n          };\n\n          /**\r\n           * Add one element from the suggestions to the element\r\n           * @param {object} item - Node element in the suggestions container\r\n           */\n          obj.selectIndex = function (text, value) {\n            var node = helpers.getNode();\n            if (node) {\n              // Append text to the caret\n              node.innerText = text;\n              // Set node id\n              if (value) {\n                node.setAttribute('data-value', value);\n              }\n              // Remove any error\n              node.classList.remove('jtags_error');\n              if (!limit()) {\n                // Add new item\n                obj.add('', true);\n              }\n            }\n          };\n\n          /**\r\n           * Search for suggestions\r\n           * @param {object} node - Target node for any suggestions\r\n           */\n          obj.search = function (node) {\n            // Search for\n            var terms = node.innerText;\n          };\n\n          // Destroy tags element\n          obj.destroy = function () {\n            // Bind events\n            el.removeEventListener('mouseup', tagsMouseUp);\n            el.removeEventListener('keydown', tagsKeyDown);\n            el.removeEventListener('keyup', tagsKeyUp);\n            el.removeEventListener('paste', tagsPaste);\n            el.removeEventListener('focus', tagsFocus);\n            el.removeEventListener('blur', tagsBlur);\n\n            // Remove element\n            el.parentNode.removeChild(el);\n          };\n          var setFocus = function (node) {\n            if (el.children.length) {\n              var range = document.createRange();\n              var sel = window.getSelection();\n              if (!node) {\n                var node = el.childNodes[el.childNodes.length - 1];\n              }\n              range.setStart(node, node.length);\n              range.collapse(true);\n              sel.removeAllRanges();\n              sel.addRange(range);\n              el.scrollLeft = el.scrollWidth;\n            }\n          };\n          var createElement = function (label, value, node) {\n            var div = document.createElement('div');\n            div.innerHTML = label ? label : '';\n            if (value) {\n              div.setAttribute('data-value', value);\n            }\n            if (node && node.parentNode.classList.contains('jtags')) {\n              el.insertBefore(div, node.nextSibling);\n            } else {\n              el.appendChild(div);\n            }\n            return div;\n          };\n          var change = function () {\n            // Value\n            var value = obj.getValue();\n            if (value != obj.options.value) {\n              obj.options.value = value;\n              if (typeof obj.options.onchange == 'function') {\n                obj.options.onchange(el, obj, obj.options.value);\n              }\n\n              // Lemonade JS\n              if (el.value != obj.options.value) {\n                el.value = obj.options.value;\n                if (typeof el.oninput == 'function') {\n                  el.oninput({\n                    type: 'input',\n                    target: el,\n                    value: el.value\n                  });\n                }\n              }\n            }\n            filter();\n          };\n\n          /**\r\n           * Filter tags\r\n           */\n          var filter = function () {\n            for (var i = 0; i < el.children.length; i++) {\n              if (el.children[i].tagName === 'DIV') {\n                // Create label design\n                if (!obj.getValue(i)) {\n                  el.children[i].classList.remove('jtags_label');\n                } else {\n                  el.children[i].classList.add('jtags_label');\n\n                  // Validation in place\n                  if (typeof obj.options.validation == 'function') {\n                    if (obj.getValue(i)) {\n                      if (!obj.options.validation(el.children[i], el.children[i].innerText, el.children[i].getAttribute('data-value'))) {\n                        el.children[i].classList.add('jtags_error');\n                      } else {\n                        el.children[i].classList.remove('jtags_error');\n                      }\n                    } else {\n                      el.children[i].classList.remove('jtags_error');\n                    }\n                  } else {\n                    el.children[i].classList.remove('jtags_error');\n                  }\n                }\n              }\n            }\n            isEmpty();\n          };\n          var isEmpty = function () {\n            // Can't be empty\n            if (!el.innerText.trim()) {\n              if (!el.children.length || el.children[0].tagName === 'BR') {\n                el.innerHTML = '';\n                setFocus(createElement());\n              }\n            } else {\n              el.classList.remove('jtags-empty');\n            }\n          };\n\n          /**\r\n           * Extract tags from a string\r\n           * @param {string} text - Raw string\r\n           * @return {Array} data - Array with extracted tags\r\n           */\n          var extractTags = function (text) {\n            /** @type {Array} */\n            var data = [];\n\n            /** @type {string} */\n            var word = '';\n\n            // Remove whitespaces\n            text = text.trim();\n            if (text) {\n              for (var i = 0; i < text.length; i++) {\n                if (text[i] == ',' || text[i] == ';' || text[i] == '\\n') {\n                  if (word) {\n                    data.push(word.trim());\n                    word = '';\n                  }\n                } else {\n                  word += text[i];\n                }\n              }\n              if (word) {\n                data.push(word);\n              }\n            }\n            return data;\n          };\n\n          /** @type {number} */\n          var anchorOffset = 0;\n\n          /**\r\n           * Processing event keydown on the element\r\n           * @param e {object}\r\n           */\n          var tagsKeyDown = function (e) {\n            // Anchoroffset\n            anchorOffset = window.getSelection().anchorOffset;\n\n            // Verify if is empty\n            isEmpty();\n\n            // Comma\n            if (e.key === 'Tab' || e.key === ';' || e.key === ',') {\n              var n = window.getSelection().anchorOffset;\n              if (n > 1) {\n                if (limit()) {\n                  if (typeof obj.options.onlimit == 'function') {\n                    obj.options.onlimit(obj, obj.options.limit);\n                  }\n                } else {\n                  obj.add('', true);\n                }\n              }\n              e.preventDefault();\n            } else if (e.key == 'Enter') {\n              if (!search || !search.isOpened()) {\n                var n = window.getSelection().anchorOffset;\n                if (n > 1) {\n                  if (!limit()) {\n                    obj.add('', true);\n                  }\n                }\n                e.preventDefault();\n              }\n            } else if (e.key == 'Backspace') {\n              // Back space - do not let last item to be removed\n              if (el.children.length == 1 && window.getSelection().anchorOffset < 1) {\n                e.preventDefault();\n              }\n            }\n\n            // Search events\n            if (search) {\n              search.keydown(e);\n            }\n\n            // Verify if is empty\n            isEmpty();\n          };\n\n          /**\r\n           * Processing event keyup on the element\r\n           * @param e {object}\r\n           */\n          var tagsKeyUp = function (e) {\n            if (e.which == 39) {\n              // Right arrow\n              var n = window.getSelection().anchorOffset;\n              if (n > 1 && n == anchorOffset) {\n                obj.add('', true);\n              }\n            } else if (e.which == 13 || e.which == 38 || e.which == 40) {\n              e.preventDefault();\n            } else {\n              if (search) {\n                search.keyup(e);\n              }\n            }\n            filter();\n          };\n\n          /**\r\n           * Processing event paste on the element\r\n           * @param e {object}\r\n           */\n          var tagsPaste = function (e) {\n            if (e.clipboardData || e.originalEvent.clipboardData) {\n              var text = (e.originalEvent || e).clipboardData.getData('text/plain');\n            } else if (window.clipboardData) {\n              var text = window.clipboardData.getData('Text');\n            }\n            var data = extractTags(text);\n            if (typeof obj.options.onbeforepaste == 'function') {\n              var ret = obj.options.onbeforepaste(el, obj, data);\n              if (ret === false) {\n                e.preventDefault();\n                return false;\n              } else {\n                if (ret) {\n                  data = ret;\n                }\n              }\n            }\n            if (data.length > 1) {\n              obj.add(data, true);\n              e.preventDefault();\n            } else if (data[0]) {\n              document.execCommand('insertText', false, data[0]);\n              e.preventDefault();\n            }\n          };\n\n          /**\r\n           * Processing event mouseup on the element\r\n           * @param e {object}\r\n           */\n          var tagsMouseUp = function (e) {\n            if (e.target.parentNode && e.target.parentNode.classList.contains('jtags')) {\n              if (e.target.classList.contains('jtags_label') || e.target.classList.contains('jtags_error')) {\n                var rect = e.target.getBoundingClientRect();\n                if (rect.width - (e.clientX - rect.left) < 16) {\n                  obj.remove(e.target);\n                }\n              }\n            }\n\n            // Set focus in the last item\n            if (e.target == el) {\n              setFocus();\n            }\n          };\n          var tagsFocus = function () {\n            if (!el.classList.contains('jtags-focus')) {\n              if (!el.children.length || obj.getValue(el.children.length - 1)) {\n                if (!limit()) {\n                  createElement('');\n                }\n              }\n              if (typeof obj.options.onfocus == 'function') {\n                obj.options.onfocus(el, obj, obj.getValue());\n              }\n              el.classList.add('jtags-focus');\n            }\n          };\n          var tagsBlur = function () {\n            if (el.classList.contains('jtags-focus')) {\n              if (search) {\n                search.close();\n              }\n              for (var i = 0; i < el.children.length - 1; i++) {\n                // Create label design\n                if (!obj.getValue(i)) {\n                  el.removeChild(el.children[i]);\n                }\n              }\n              change();\n              el.classList.remove('jtags-focus');\n              if (typeof obj.options.onblur == 'function') {\n                obj.options.onblur(el, obj, obj.getValue());\n              }\n            }\n          };\n          var init = function () {\n            // Bind events\n            if ('touchend' in document.documentElement === true) {\n              el.addEventListener('touchend', tagsMouseUp);\n            } else {\n              el.addEventListener('mouseup', tagsMouseUp);\n            }\n            el.addEventListener('keydown', tagsKeyDown);\n            el.addEventListener('keyup', tagsKeyUp);\n            el.addEventListener('paste', tagsPaste);\n            el.addEventListener('focus', tagsFocus);\n            el.addEventListener('blur', tagsBlur);\n\n            // Editable\n            el.setAttribute('contenteditable', true);\n\n            // Prepare container\n            el.classList.add('jtags');\n\n            // Initial options\n            obj.setOptions(options);\n            if (typeof obj.options.onload == 'function') {\n              obj.options.onload(el, obj);\n            }\n\n            // Change methods\n            el.change = obj.setValue;\n\n            // Global generic value handler\n            el.val = function (val) {\n              if (val === undefined) {\n                return obj.getValue();\n              } else {\n                obj.setValue(val);\n              }\n            };\n            el.tags = obj;\n          };\n          init();\n          return obj;\n        }\n        ; // CONCATENATED MODULE: ./src/plugins/upload.js\n\n        function Upload(el, options) {\n          var obj = {};\n          obj.options = {};\n\n          // Default configuration\n          var defaults = {\n            type: 'image',\n            extension: '*',\n            input: false,\n            minWidth: false,\n            maxWidth: null,\n            maxHeight: null,\n            maxJpegSizeBytes: null,\n            // For example, 350Kb would be 350000\n            onchange: null,\n            multiple: false,\n            remoteParser: null\n          };\n\n          // Loop through our object\n          for (var property in defaults) {\n            if (options && options.hasOwnProperty(property)) {\n              obj.options[property] = options[property];\n            } else {\n              obj.options[property] = defaults[property];\n            }\n          }\n\n          // Multiple\n          if (obj.options.multiple == true) {\n            el.setAttribute('data-multiple', true);\n          }\n\n          // Container\n          el.content = [];\n\n          // Upload icon\n          el.classList.add('jupload');\n          if (obj.options.input == true) {\n            el.classList.add('input');\n          }\n          obj.add = function (data) {\n            // Reset container for single files\n            if (obj.options.multiple == false) {\n              el.content = [];\n              el.innerText = '';\n            }\n\n            // Append to the element\n            if (obj.options.type == 'image') {\n              var img = document.createElement('img');\n              img.setAttribute('src', data.file);\n              img.setAttribute('tabindex', -1);\n              if (!el.getAttribute('name')) {\n                img.className = 'jfile';\n                img.content = data;\n              }\n              el.appendChild(img);\n            } else {\n              if (data.name) {\n                var name = data.name;\n              } else {\n                var name = data.file;\n              }\n              var div = document.createElement('div');\n              div.innerText = name || obj.options.type;\n              div.classList.add('jupload-item');\n              div.setAttribute('tabindex', -1);\n              el.appendChild(div);\n            }\n            if (data.content) {\n              data.file = helpers.guid();\n            }\n\n            // Push content\n            el.content.push(data);\n\n            // Onchange\n            if (typeof obj.options.onchange == 'function') {\n              obj.options.onchange(el, data);\n            }\n          };\n          obj.addFromFile = function (file) {\n            var type = file.type.split('/');\n            if (type[0] == obj.options.type) {\n              var readFile = new FileReader();\n              readFile.addEventListener(\"load\", function (v) {\n                var data = {\n                  file: v.srcElement.result,\n                  extension: file.name.substr(file.name.lastIndexOf('.') + 1),\n                  name: file.name,\n                  size: file.size,\n                  lastmodified: file.lastModified,\n                  content: v.srcElement.result\n                };\n                obj.add(data);\n              });\n              readFile.readAsDataURL(file);\n            } else {\n              alert(dictionary.translate('This extension is not allowed'));\n            }\n          };\n          obj.addFromUrl = function (src) {\n            if (src.substr(0, 4) != 'data' && !obj.options.remoteParser) {\n              console.error('remoteParser not defined in your initialization');\n            } else {\n              // This is to process cross domain images\n              if (src.substr(0, 4) == 'data') {\n                var extension = src.split(';');\n                extension = extension[0].split('/');\n                var type = extension[0].replace('data:', '');\n                if (type == obj.options.type) {\n                  var data = {\n                    file: src,\n                    name: '',\n                    extension: extension[1],\n                    content: src\n                  };\n                  obj.add(data);\n                } else {\n                  alert(obj.options.text.extensionNotAllowed);\n                }\n              } else {\n                var extension = src.substr(src.lastIndexOf('.') + 1);\n                // Work for cross browsers\n                src = obj.options.remoteParser + src;\n                // Get remove content\n                ajax({\n                  url: src,\n                  type: 'GET',\n                  dataType: 'blob',\n                  success: function (data) {\n                    //add(extension[0].replace('data:',''), data);\n                  }\n                });\n              }\n            }\n          };\n          var getDataURL = function (canvas, type) {\n            var compression = 0.92;\n            var lastContentLength = null;\n            var content = canvas.toDataURL(type, compression);\n            while (obj.options.maxJpegSizeBytes && type === 'image/jpeg' && content.length > obj.options.maxJpegSizeBytes && content.length !== lastContentLength) {\n              // Apply the compression\n              compression *= 0.9;\n              lastContentLength = content.length;\n              content = canvas.toDataURL(type, compression);\n            }\n            return content;\n          };\n          var mime = obj.options.type + '/' + obj.options.extension;\n          var input = document.createElement('input');\n          input.type = 'file';\n          input.setAttribute('accept', mime);\n          input.onchange = function () {\n            for (var i = 0; i < this.files.length; i++) {\n              obj.addFromFile(this.files[i]);\n            }\n          };\n\n          // Allow multiple files\n          if (obj.options.multiple == true) {\n            input.setAttribute('multiple', true);\n          }\n          var current = null;\n          el.addEventListener(\"click\", function (e) {\n            current = null;\n            if (!el.children.length || e.target === el) {\n              helpers.click(input);\n            } else {\n              if (e.target.parentNode == el) {\n                current = e.target;\n              }\n            }\n          });\n          el.addEventListener(\"dblclick\", function (e) {\n            helpers.click(input);\n          });\n          el.addEventListener('dragenter', function (e) {\n            el.style.border = '1px dashed #000';\n          });\n          el.addEventListener('dragleave', function (e) {\n            el.style.border = '1px solid #eee';\n          });\n          el.addEventListener('dragstop', function (e) {\n            el.style.border = '1px solid #eee';\n          });\n          el.addEventListener('dragover', function (e) {\n            e.preventDefault();\n          });\n          el.addEventListener('keydown', function (e) {\n            if (current && e.which == 46) {\n              var index = Array.prototype.indexOf.call(el.children, current);\n              if (index >= 0) {\n                el.content.splice(index, 1);\n                current.remove();\n                current = null;\n              }\n            }\n          });\n          el.addEventListener('drop', function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var html = (e.originalEvent || e).dataTransfer.getData('text/html');\n            var file = (e.originalEvent || e).dataTransfer.files;\n            if (file.length) {\n              for (var i = 0; i < e.dataTransfer.files.length; i++) {\n                obj.addFromFile(e.dataTransfer.files[i]);\n              }\n            } else if (html) {\n              if (obj.options.multiple == false) {\n                el.innerText = '';\n              }\n\n              // Create temp element\n              var div = document.createElement('div');\n              div.innerHTML = html;\n\n              // Extract images\n              var img = div.querySelectorAll('img');\n              if (img.length) {\n                for (var i = 0; i < img.length; i++) {\n                  obj.addFromUrl(img[i].src);\n                }\n              }\n            }\n            el.style.border = '1px solid #eee';\n            return false;\n          });\n          el.val = function (val) {\n            if (val === undefined) {\n              return el.content && el.content.length ? el.content : null;\n            } else {\n              // Reset\n              el.innerText = '';\n              el.content = [];\n              if (val) {\n                if (Array.isArray(val)) {\n                  for (var i = 0; i < val.length; i++) {\n                    if (typeof val[i] == 'string') {\n                      obj.add({\n                        file: val[i]\n                      });\n                    } else {\n                      obj.add(val[i]);\n                    }\n                  }\n                } else if (typeof val == 'string') {\n                  obj.add({\n                    file: val\n                  });\n                }\n              }\n            }\n          };\n          el.upload = el.image = obj;\n          return obj;\n        }\n\n        // EXTERNAL MODULE: ./packages/sha512/sha512.js\n        var sha512 = __webpack_require__(195);\n        var sha512_default = /*#__PURE__*/__webpack_require__.n(sha512);\n        ; // CONCATENATED MODULE: ./src/jsuites.js\n\n        var jSuites = {\n          /** Current version */\n          version: '5.0.1',\n          /** Bind new extensions to Jsuites */\n          setExtensions: function (o) {\n            if (typeof o == 'object') {\n              var k = Object.keys(o);\n              for (var i = 0; i < k.length; i++) {\n                jSuites[k[i]] = o[k[i]];\n              }\n            }\n          },\n          // Helpers\n          tracking: Tracking,\n          ...dictionary,\n          ...helpers,\n          path: Path,\n          sorting: Sorting,\n          lazyLoading: LazyLoading,\n          // Plugins\n          ajax: ajax,\n          animation: animation,\n          calendar: calendar,\n          color: Color,\n          contextmenu: contextmenu,\n          dropdown: dropdown,\n          editor: editor,\n          floating: floating,\n          form: plugins_form,\n          mask: mask,\n          modal: modal,\n          notification: notification,\n          palette: palette,\n          picker: Picker,\n          progressbar: Progressbar,\n          rating: Rating,\n          search: Search,\n          slider: Slider,\n          tabs: Tabs,\n          tags: Tags,\n          toolbar: Toolbar,\n          upload: Upload,\n          validations: validations\n        };\n\n        // Legacy\n        jSuites.image = Upload;\n        jSuites.image.create = function (data) {\n          var img = document.createElement('img');\n          img.setAttribute('src', data.file);\n          img.className = 'jfile';\n          img.setAttribute('tabindex', -1);\n          img.content = data;\n          return img;\n        };\n        jSuites.tracker = plugins_form;\n        jSuites.loading = animation.loading;\n        jSuites.sha512 = sha512_default();\n\n        /** Core events */\n        var Events = function () {\n          document.jsuitesComponents = [];\n          var find = function (DOMElement, component) {\n            if (DOMElement[component.type] && DOMElement[component.type] == component) {\n              return true;\n            }\n            if (DOMElement.component && DOMElement.component == component) {\n              return true;\n            }\n            if (DOMElement.parentNode) {\n              return find(DOMElement.parentNode, component);\n            }\n            return false;\n          };\n          var isOpened = function (e) {\n            if (document.jsuitesComponents && document.jsuitesComponents.length > 0) {\n              for (var i = 0; i < document.jsuitesComponents.length; i++) {\n                if (document.jsuitesComponents[i] && !find(e, document.jsuitesComponents[i])) {\n                  document.jsuitesComponents[i].close();\n                }\n              }\n            }\n          };\n\n          // Width of the border\n          var cornerSize = 15;\n\n          // Current element\n          var element = null;\n\n          // Controllers\n          var editorAction = false;\n\n          // Event state\n          var state = {\n            x: null,\n            y: null\n          };\n\n          // Tooltip element\n          var tooltip = document.createElement('div');\n          tooltip.classList.add('jtooltip');\n\n          // Events\n          var mouseDown = function (e) {\n            // Check if this is the floating\n            var item = jSuites.findElement(e.target, 'jpanel');\n            // Jfloating found\n            if (item && !item.classList.contains(\"readonly\")) {\n              // Add focus to the chart container\n              item.focus();\n              // Keep the tracking information\n              var rect = e.target.getBoundingClientRect();\n              editorAction = {\n                e: item,\n                x: e.clientX,\n                y: e.clientY,\n                w: rect.width,\n                h: rect.height,\n                d: item.style.cursor,\n                resizing: item.style.cursor ? true : false,\n                actioned: false\n              };\n\n              // Make sure width and height styling is OK\n              if (!item.style.width) {\n                item.style.width = rect.width + 'px';\n              }\n              if (!item.style.height) {\n                item.style.height = rect.height + 'px';\n              }\n\n              // Remove any selection from the page\n              var s = window.getSelection();\n              if (s.rangeCount) {\n                for (var i = 0; i < s.rangeCount; i++) {\n                  s.removeRange(s.getRangeAt(i));\n                }\n              }\n              e.preventDefault();\n              e.stopPropagation();\n            } else {\n              // No floating action found\n              editorAction = false;\n            }\n\n            // Verify current components tracking\n            if (e.changedTouches && e.changedTouches[0]) {\n              var x = e.changedTouches[0].clientX;\n              var y = e.changedTouches[0].clientY;\n            } else {\n              var x = e.clientX;\n              var y = e.clientY;\n            }\n\n            // Which component I am clicking\n            var path = e.path || e.composedPath && e.composedPath();\n\n            // If path available get the first element in the chain\n            if (path) {\n              element = path[0];\n            } else {\n              // Try to guess using the coordinates\n              if (e.target && e.target.shadowRoot) {\n                var d = e.target.shadowRoot;\n              } else {\n                var d = document;\n              }\n              // Get the first target element\n              element = d.elementFromPoint(x, y);\n            }\n            isOpened(element);\n          };\n          var mouseUp = function (e) {\n            if (editorAction && editorAction.e) {\n              if (typeof editorAction.e.refresh == 'function' && state.actioned) {\n                editorAction.e.refresh();\n              }\n              editorAction.e.style.cursor = '';\n            }\n\n            // Reset\n            state = {\n              x: null,\n              y: null\n            };\n            editorAction = false;\n          };\n          var mouseMove = function (e) {\n            if (editorAction) {\n              var x = e.clientX || e.pageX;\n              var y = e.clientY || e.pageY;\n\n              // Action on going\n              if (!editorAction.resizing) {\n                if (state.x == null && state.y == null) {\n                  state.x = x;\n                  state.y = y;\n                }\n                var dx = x - state.x;\n                var dy = y - state.y;\n                var top = editorAction.e.offsetTop + dy;\n                var left = editorAction.e.offsetLeft + dx;\n\n                // Update position\n                editorAction.e.style.top = top + 'px';\n                editorAction.e.style.left = left + 'px';\n                editorAction.e.style.cursor = \"move\";\n                state.x = x;\n                state.y = y;\n\n                // Update element\n                if (typeof editorAction.e.refresh == 'function') {\n                  state.actioned = true;\n                  editorAction.e.refresh('position', top, left);\n                }\n              } else {\n                var width = null;\n                var height = null;\n                if (editorAction.d == 'e-resize' || editorAction.d == 'ne-resize' || editorAction.d == 'se-resize') {\n                  // Update width\n                  width = editorAction.w + (x - editorAction.x);\n                  editorAction.e.style.width = width + 'px';\n\n                  // Update Height\n                  if (e.shiftKey) {\n                    var newHeight = (x - editorAction.x) * (editorAction.h / editorAction.w);\n                    height = editorAction.h + newHeight;\n                    editorAction.e.style.height = height + 'px';\n                  } else {\n                    var newHeight = false;\n                  }\n                }\n                if (!newHeight) {\n                  if (editorAction.d == 's-resize' || editorAction.d == 'se-resize' || editorAction.d == 'sw-resize') {\n                    height = editorAction.h + (y - editorAction.y);\n                    editorAction.e.style.height = height + 'px';\n                  }\n                }\n\n                // Update element\n                if (typeof editorAction.e.refresh == 'function') {\n                  state.actioned = true;\n                  editorAction.e.refresh('dimensions', width, height);\n                }\n              }\n            } else {\n              // Resizing action\n              var item = jSuites.findElement(e.target, 'jpanel');\n              // Found eligible component\n              if (item) {\n                if (item.getAttribute('tabindex')) {\n                  var rect = item.getBoundingClientRect();\n                  if (e.clientY - rect.top < cornerSize) {\n                    if (rect.width - (e.clientX - rect.left) < cornerSize) {\n                      item.style.cursor = 'ne-resize';\n                    } else if (e.clientX - rect.left < cornerSize) {\n                      item.style.cursor = 'nw-resize';\n                    } else {\n                      item.style.cursor = 'n-resize';\n                    }\n                  } else if (rect.height - (e.clientY - rect.top) < cornerSize) {\n                    if (rect.width - (e.clientX - rect.left) < cornerSize) {\n                      item.style.cursor = 'se-resize';\n                    } else if (e.clientX - rect.left < cornerSize) {\n                      item.style.cursor = 'sw-resize';\n                    } else {\n                      item.style.cursor = 's-resize';\n                    }\n                  } else if (rect.width - (e.clientX - rect.left) < cornerSize) {\n                    item.style.cursor = 'e-resize';\n                  } else if (e.clientX - rect.left < cornerSize) {\n                    item.style.cursor = 'w-resize';\n                  } else {\n                    item.style.cursor = '';\n                  }\n                }\n              }\n            }\n          };\n          var mouseOver = function (e) {\n            var message = e.target.getAttribute('data-tooltip');\n            if (message) {\n              // Instructions\n              tooltip.innerText = message;\n\n              // Position\n              if (e.changedTouches && e.changedTouches[0]) {\n                var x = e.changedTouches[0].clientX;\n                var y = e.changedTouches[0].clientY;\n              } else {\n                var x = e.clientX;\n                var y = e.clientY;\n              }\n              tooltip.style.top = y + 'px';\n              tooltip.style.left = x + 'px';\n              document.body.appendChild(tooltip);\n            } else if (tooltip.innerText) {\n              tooltip.innerText = '';\n              document.body.removeChild(tooltip);\n            }\n          };\n          var dblClick = function (e) {\n            var item = jSuites.findElement(e.target, 'jpanel');\n            if (item && typeof item.dblclick == 'function') {\n              // Create edition\n              item.dblclick(e);\n            }\n          };\n          var contextMenu = function (e) {\n            var item = document.activeElement;\n            if (item && typeof item.contextmenu == 'function') {\n              // Create edition\n              item.contextmenu(e);\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            } else {\n              // Search for possible context menus\n              item = jSuites.findElement(e.target, function (o) {\n                return o.tagName && o.getAttribute('aria-contextmenu-id');\n              });\n              if (item) {\n                var o = document.querySelector('#' + item);\n                if (!o) {\n                  console.error('JSUITES: contextmenu id not found: ' + item);\n                } else {\n                  o.contextmenu.open(e);\n                  e.preventDefault();\n                  e.stopImmediatePropagation();\n                }\n              }\n            }\n          };\n          var keyDown = function (e) {\n            var item = document.activeElement;\n            if (item) {\n              if (e.key == \"Delete\" && typeof item.delete == 'function') {\n                item.delete();\n                e.preventDefault();\n                e.stopImmediatePropagation();\n              }\n            }\n            if (document.jsuitesComponents && document.jsuitesComponents.length) {\n              if (item = document.jsuitesComponents[document.jsuitesComponents.length - 1]) {\n                if (e.key == \"Escape\" && typeof item.isOpened == 'function' && typeof item.close == 'function') {\n                  if (item.isOpened()) {\n                    item.close();\n                    e.preventDefault();\n                    e.stopImmediatePropagation();\n                  }\n                }\n              }\n            }\n          };\n          document.addEventListener('mouseup', mouseUp);\n          document.addEventListener(\"mousedown\", mouseDown);\n          document.addEventListener('mousemove', mouseMove);\n          document.addEventListener('mouseover', mouseOver);\n          document.addEventListener('dblclick', dblClick);\n          document.addEventListener('keydown', keyDown);\n          document.addEventListener('contextmenu', contextMenu);\n        };\n        if (typeof document !== \"undefined\" && !document.jsuitesComponents) {\n          Events();\n        }\n\n        /* harmony default export */\n        var jsuites = jSuites;\n      }();\n      __webpack_exports__ = __webpack_exports__[\"default\"];\n      /******/\n      return __webpack_exports__;\n      /******/\n    }()\n  );\n});","map":{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","__webpack_modules__","global","str","int64","msint_32","lsint_32","highOrder","lowOrder","H","K","W","Array","a","b","c","d","e","f","g","h","i","j","T1","T2","charsize","utf8_encode","unescape","encodeURIComponent","str2binb","bin","mask","len","length","charCodeAt","binb2hex","binarray","hex_tab","srcByte","charAt","safe_add_2","x","y","lsw","msw","safe_add_4","safe_add_5","maj","z","ch","rotr","n","sigma0","rotr28","rotr34","rotr39","sigma1","rotr14","rotr18","rotr41","gamma0","rotr1","rotr8","shr7","shr","gamma1","rotr19","rotr61","shr6","strlen","push","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","call","getter","__esModule","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","__webpack_exports__","default","jsuites","Helpers","two","value","focus","el","innerText","range","document","createRange","sel","window","getSelection","node","childNodes","setStart","collapse","removeAllRanges","addRange","scrollLeft","scrollWidth","isNumeric","num","trim","isNaN","guid","replace","r","Math","random","v","toString","getNode","anchorNode","nodeType","parentNode","hash","chr","randomColor","lum","hex","String","slice","toUpperCase","rgb","parseInt","substr","round","min","max","getWindowWidth","w","documentElement","getElementsByTagName","innerWidth","clientWidth","getWindowHeight","innerHeight","clientHeight","getPosition","changedTouches","pageX","pageY","Event","clientX","body","clientY","scrollTop","click","evt","MouseEvent","bubbles","cancelable","view","dispatchEvent","findElement","element","condition","foundElement","path","classList","contains","helpers","HelpersDate","Component","now","date","dateOnly","m","s","isArray","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","toArray","split","indexOf","time","excelInitialTime","UTC","excelLeapYearBug","millisecondsPerDay","dateToNum","jsDate","jsDateInMilliseconds","getTime","numToDate","excelSerialNumber","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","weekdays","months","weekdaysShort","monthsShort","helpers_date","setDictionary","dictionary","t","k","keys","translate","Tracking","component","state","jsuitesComponents","filter","setTimeout","index","splice","Path","val","p","shift","Sorting","options","defaults","pointer","direction","ondragstart","ondragend","ondrop","dragElement","property","add","addEventListener","position","target","children","style","opacity","preventDefault","getElement","getAttribute","offsetY","offsetX","insertBefore","nextSibling","sorting","className","hasAttribute","setAttribute","id","data","LazyLoading","loadUp","loadDown","timer","timeControlLoading","scrollControls","event","scrollHeight","onupdate","onscroll","onwheel","Ajax","complete","multiple","instance","type","method","dataType","parseData","vars","FileList","url","join","FormData","append","name","httpRequest","XMLHttpRequest","open","setRequestHeader","contentType","responseType","cache","withCredentials","beforeSend","ajax","onload","status","result","JSON","parse","responseText","success","err","error","response","queue","send","requests","group","oncomplete","pending","exists","__callback","http","Animation","loading","show","timeout","createElement","appendChild","hide","removeChild","slideLeft","done","remove","slideRight","slideTop","slideBottom","fadeIn","display","fadeOut","animation","Mask","tokens","text","currency","percentage","numeric","datetime","general","toLowerCase","parseFloat","extractDate","isBlank","isFormula","chartAt","getDecimal","Number","decimal","locale","Intl","NumberFormat","format","RegExp","exec","toLocaleString","substring","ParseValue","signal","match","unshift","FormatValue","inputType","Format","Value","Caret","Extract","current","adjustNumeric","tagName","pos","rangeCount","getRangeAt","cloneRange","selectNodeContents","setEnd","endContainer","endOffset","selectionStart","selectionEnd","updateCaret","weekDaysFull","weekDays","monthsFull","parser","YEAR","values","YYYY","YYY","YY","FIND","count","MMM","ret","MON","MMMM","MONTH","MMMMM","MM","M","test","D","DD","DDD","DY","DDDD","DAY","HH12","HH24","HH","\\[H\\]","N60","MI","SS","AM/PM","WD","0{1}(.{1}0+)?","neg","0{1}(.{1}0+)?%","#(.{1})##0?(.{1}0+)?( ?;(.*)?)?","separator","negative","reverse","0","[0-9a-zA-Z$]+","A",".","@","getTokens","concat","getMethod","types","getMethods","getType","methods","toPlainString","config","returnObject","input","number","caret","attributes","newValue","label","prepare","apply","run","extract","assign","getDateString","render","fullMask","fillWithBlanks","toFixed","minimumFractionDigits","maximumFractionDigits","maskZeros","maskLength","set","extractDateFromString","splitStr","calendar","getDay","floor","getMilliseconds","Calendar","setOptions","reset","validRange","startingDay","readonly","today","resetButton","placeholder","textDone","textReset","textUpdate","fullscreen","opened","onopen","onclose","onchange","mode","controls","calendarReset","removeAttribute","innerHTML","calendarConfirm","calendarControlsUpdateButton","setValue","getDays","getMonths","calendarSelectHour","calendarSelectMin","calendarContent","rect","getBoundingClientRect","rectContent","calendarContainer","bottom","height","top","left","width","close","ignoreEvents","update","querySelector","getValue","prev","getYears","next","setToday","toISOString","oldValue","title","setLabel","test1","test2","oninput","elements","updateActions","year","month","day","hour","calendarLabelYear","calendarLabelMonth","isCurrentMonthAndYear","currentDay","numberOfDays","firstDay","calendarBody","row","cell","fontWeight","calendarControlsTime","currentYear","currentMonth","selectedYear","selectedMonth","table","firstChild","mixed","fromFormatted","mouseUpControls","action","keyUpControls","calendarTable","calendarControls","calendarControlsUpdate","init","borderBottom","calendarTableContainer","calendarHeaderPrev","calendarHeaderTitle","calendarHeaderNext","calendarHeader","calendarHeaderRow","calendarControlsFooter","maxWidth","flexGrow","calendarBackdrop","stopPropagation","hasEvents","keydown","change","which","prettify","texts","justNow","xMinutesAgo","xHoursAgo","xDaysAgo","xWeeksAgo","xMonthsAgo","xYearsAgo","d1","d2","total","prettifyAll","querySelectorAll","Palette","palette","material","fire","baby","chart","Tabs","allowCreate","allowChangePosition","onclick","oncreate","ondelete","onbeforecreate","onchangeposition","hideHeaders","padding","border","setBorder","headers","offsetLeft","updateControls","scrollTo","behavior","offsetWidth","previous","content","x1","x2","r1","r2","selectIndex","rename","prompt","create","div","appendElement","deleteElement","nextNumber","tmp","cb","lastChild","getActive","updateContent","newContent","contentItem","replaceChild","updatePosition","move","header","titleElement","headerItem","icon","iconContainer","createTextNode","contentElement","item","loadingRemoteData","tabs","Color","color","container","backdrop","closeButton","jsuitesTabs","closeOnChange","doneLabel","resetLabel","backgroundColor","select","selected","marginTop","marginLeft","availableWidth","availableHeight","HexToRgb","rgbInputs","forEach","rgbInput","slidersResult","backdropClickControl","decToHex","rgbToHex","hexToDec","tableContainer","tr","td","canvas","context","getContext","resizeCanvas","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","hsl","point","buttons","pixel","getImageData","changeInputColors","currentColor","newGradient","backgroundImage","sliders","slidersElement","slidersBody","createSliderInput","inputContainer","subContainer","slidersResultColor","resultElement","visibility","updateResult","resultColor","removeProperty","readOnly","toHex","Contextmenu","items","isOpened","itemHeader","createHeader","itemContainer","createItemElement","itemText","tooltip","disabled","submenu","itemIconSubmenu","el_submenu","itemContainerSubMenu","shortcut","itemShortCut","contextmenu","Dropdown","dropdown","sortResults","sort","sortData","setData","applyValue","itemA","itemB","testA","testB","localeCompare","resetValue","Text","getText","autocomplete","remoteSearch","lazyLoading","newOptions","onfocus","onblur","oninsert","onbeforeinsert","autofocus","minWidth","containerHeader","keyTimer","extractFromDom","groups","search","results","onkeyup","find","textContent","mouseup","getUrl","setUrl","callback","setId","newItem","createItem","groupName","indexValue","image","src","appendData","counter","groupNames","groupArrow","groupContent","getData","asArray","resetSelected","force","setCursor","selectItem","synonym","first","cursor","rectContainer","blur","setPosition","currentIndex","offsetTop","clientTop","resetCursor","updateCursor","loadFirst","newIndex","last","loadLast","letter","l","nextElementSibling","previousElementSibling","fistItem","lastItem","Picker","picker","dropdownHeader","dropdownContent","isDOM","Element","HTMLDocument","createContent","dropdownItem","getLabel","onmouseover","onselect","right","columns","grid","maxHeight","overflow","gridTemplateColumns","rectHeader","onmousedown","Toolbar","app","badge","responsive","toolbarArrow","toolbarFloating","toolbarContent","setBadge","destroy","toolbar","toolbarItem","updateState","active","toolbarIcon","class","toolbarBadge","toolbarBadgeContent","toolbarTitle","route","pages","closed","bind","refresh","rectElement","available","setReadonly","Editor","snippet","toolbarOnTop","remoteParser","filterPaste","dropZone","dropAsSnippet","acceptImages","acceptFiles","maxFileSize","allowImageResize","onkeydown","extensions","editorTimer","editorAction","files","editor","overflowY","extractImageFromHtml","html","img","addImage","insertNodeAtCaret","newNode","selectedText","deleteContents","insertNode","setStartAfter","setEndAfter","updateTotalImages","appendImage","appendSnippet","getFiles","json","processExtensions","addPdf","console","Image","ctx","drawImage","toBlob","blob","newImage","URL","createObjectURL","file","extension","execCommand","outerHTML","asSnippet","lastIndexOf","toDataURL","addFile","reader","size","alert","FileReader","lastModified","readAsDataURL","removeEventListener","editorMouseUp","editorMouseDown","editorMouseMove","editorKeyUp","editorKeyDown","editorDragStart","editorDragEnter","editorDragOver","editorDrop","editorPaste","editorBlur","editorFocus","upload","HTMLUnknownElement","HTMLAudioElement","HTMLEmbedElement","HTMLIFrameElement","HTMLTextAreaElement","HTMLInputElement","HTMLScriptElement","validProperty","validStyle","elementStyle","attr","constructor","selectNode","DOMParser","parseFromString","span","clipboardData","originalEvent","map","clearTimeout","caretRangeFromPoint","rangeParent","rangeOffset","dataTransfer","parent","changed","cloneNode","removeRange","shiftKey","newHeight","ext","loadExtensions","toolbarOptions","getDefaultToolbar","startContainer","colorPicker","queryCommandState","margin","ex","ey","borderColor","tbody","Floating","setContent","temp","setEvents","setState","setType","isMinized","Components","floating","prevFloating","Validations","numberCriterias","between","not between","<","<=",">",">=","=","!=","dateCriterias","valid date","textCriterias","includes","not contains","begins with","startsWith","ends with","endsWith","valid email","pattern","valid url","allowBlank","email","required","exist","empty","notEmpty","criteria","login","list","validOption","findIndex","textLength","validations","Form","message","ignore","currentHash","submitButton","onbeforeload","onbeforesave","onsave","onbeforeremove","onremove","onerror","save","load","setElements","validate","getElements","addError","delError","validateElement","validation","checked","res","getError","setHash","getHash","isChanged","resetTracker","setIgnore","ignoreFlag","confirmationMessage","returnValue","form","stringify","plugins_form","Modal","Events","tracker","keyDown","modals","modal","mouseUp","mouseDown","selection","mouseMove","mouseButton","button","resetPosition","isOpen","Notification","autoHide","closeable","notification","notificationContainer","notificationHeader","notificationImage","notificationIcon","notificationName","notificationClose","notificationDate","notificationContent","notificationTitle","notificationMessage","notificationTimeout","isVisible","Progressbar","bar","progressbar","Rating","rating","Search","createList","onsearch","forceSelect","execute","terms","searchByNode","onbeforesearch","keyup","Slider","currentImage","minHeight","caption","updateCounter","offsetHeight","nextImage","slider","Tags","tags","limit","searchContainer","onbeforepaste","onbeforechange","onlimit","setFocus","setLimit","extractTags","isValid","tagsMouseUp","tagsKeyDown","tagsKeyUp","tagsPaste","tagsFocus","tagsBlur","isEmpty","word","anchorOffset","Upload","maxJpegSizeBytes","addFromFile","readFile","srcElement","lastmodified","addFromUrl","extensionNotAllowed","getDataURL","compression","lastContentLength","mime","sha512","sha512_default","jSuites","version","setExtensions","tracking","DOMElement","cornerSize","resizing","actioned","composedPath","shadowRoot","elementFromPoint","dx","dy","mouseOver","dblClick","dblclick","contextMenu","activeElement","stopImmediatePropagation","delete"],"sources":["/home/rstorey/wwwdev/Blucktool/node_modules/jsuites/dist/jsuites.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jSuites\"] = factory();\n\telse\n\t\troot[\"jSuites\"] = factory();\n})(this, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 195:\n/***/ (function(module) {\n\n/**\r\n * (c) jSuites Javascript Plugins and Web Components (v4)\r\n *\r\n * Website: https://jsuites.net\r\n * Description: Create amazing web based applications.\r\n * Plugin: Organogram\r\n *\r\n * MIT License\r\n */\r\n\r\n;(function (global, factory) {\r\n     true ? module.exports = factory() :\r\n    0;\r\n}(this, (function () {\r\n\r\n    return (function(str) {\r\n        function int64(msint_32, lsint_32) {\r\n            this.highOrder = msint_32;\r\n            this.lowOrder = lsint_32;\r\n        }\r\n\r\n        var H = [new int64(0x6a09e667, 0xf3bcc908), new int64(0xbb67ae85, 0x84caa73b),\r\n            new int64(0x3c6ef372, 0xfe94f82b), new int64(0xa54ff53a, 0x5f1d36f1),\r\n            new int64(0x510e527f, 0xade682d1), new int64(0x9b05688c, 0x2b3e6c1f),\r\n            new int64(0x1f83d9ab, 0xfb41bd6b), new int64(0x5be0cd19, 0x137e2179)];\r\n\r\n        var K = [new int64(0x428a2f98, 0xd728ae22), new int64(0x71374491, 0x23ef65cd),\r\n            new int64(0xb5c0fbcf, 0xec4d3b2f), new int64(0xe9b5dba5, 0x8189dbbc),\r\n            new int64(0x3956c25b, 0xf348b538), new int64(0x59f111f1, 0xb605d019),\r\n            new int64(0x923f82a4, 0xaf194f9b), new int64(0xab1c5ed5, 0xda6d8118),\r\n            new int64(0xd807aa98, 0xa3030242), new int64(0x12835b01, 0x45706fbe),\r\n            new int64(0x243185be, 0x4ee4b28c), new int64(0x550c7dc3, 0xd5ffb4e2),\r\n            new int64(0x72be5d74, 0xf27b896f), new int64(0x80deb1fe, 0x3b1696b1),\r\n            new int64(0x9bdc06a7, 0x25c71235), new int64(0xc19bf174, 0xcf692694),\r\n            new int64(0xe49b69c1, 0x9ef14ad2), new int64(0xefbe4786, 0x384f25e3),\r\n            new int64(0x0fc19dc6, 0x8b8cd5b5), new int64(0x240ca1cc, 0x77ac9c65),\r\n            new int64(0x2de92c6f, 0x592b0275), new int64(0x4a7484aa, 0x6ea6e483),\r\n            new int64(0x5cb0a9dc, 0xbd41fbd4), new int64(0x76f988da, 0x831153b5),\r\n            new int64(0x983e5152, 0xee66dfab), new int64(0xa831c66d, 0x2db43210),\r\n            new int64(0xb00327c8, 0x98fb213f), new int64(0xbf597fc7, 0xbeef0ee4),\r\n            new int64(0xc6e00bf3, 0x3da88fc2), new int64(0xd5a79147, 0x930aa725),\r\n            new int64(0x06ca6351, 0xe003826f), new int64(0x14292967, 0x0a0e6e70),\r\n            new int64(0x27b70a85, 0x46d22ffc), new int64(0x2e1b2138, 0x5c26c926),\r\n            new int64(0x4d2c6dfc, 0x5ac42aed), new int64(0x53380d13, 0x9d95b3df),\r\n            new int64(0x650a7354, 0x8baf63de), new int64(0x766a0abb, 0x3c77b2a8),\r\n            new int64(0x81c2c92e, 0x47edaee6), new int64(0x92722c85, 0x1482353b),\r\n            new int64(0xa2bfe8a1, 0x4cf10364), new int64(0xa81a664b, 0xbc423001),\r\n            new int64(0xc24b8b70, 0xd0f89791), new int64(0xc76c51a3, 0x0654be30),\r\n            new int64(0xd192e819, 0xd6ef5218), new int64(0xd6990624, 0x5565a910),\r\n            new int64(0xf40e3585, 0x5771202a), new int64(0x106aa070, 0x32bbd1b8),\r\n            new int64(0x19a4c116, 0xb8d2d0c8), new int64(0x1e376c08, 0x5141ab53),\r\n            new int64(0x2748774c, 0xdf8eeb99), new int64(0x34b0bcb5, 0xe19b48a8),\r\n            new int64(0x391c0cb3, 0xc5c95a63), new int64(0x4ed8aa4a, 0xe3418acb),\r\n            new int64(0x5b9cca4f, 0x7763e373), new int64(0x682e6ff3, 0xd6b2b8a3),\r\n            new int64(0x748f82ee, 0x5defb2fc), new int64(0x78a5636f, 0x43172f60),\r\n            new int64(0x84c87814, 0xa1f0ab72), new int64(0x8cc70208, 0x1a6439ec),\r\n            new int64(0x90befffa, 0x23631e28), new int64(0xa4506ceb, 0xde82bde9),\r\n            new int64(0xbef9a3f7, 0xb2c67915), new int64(0xc67178f2, 0xe372532b),\r\n            new int64(0xca273ece, 0xea26619c), new int64(0xd186b8c7, 0x21c0c207),\r\n            new int64(0xeada7dd6, 0xcde0eb1e), new int64(0xf57d4f7f, 0xee6ed178),\r\n            new int64(0x06f067aa, 0x72176fba), new int64(0x0a637dc5, 0xa2c898a6),\r\n            new int64(0x113f9804, 0xbef90dae), new int64(0x1b710b35, 0x131c471b),\r\n            new int64(0x28db77f5, 0x23047d84), new int64(0x32caab7b, 0x40c72493),\r\n            new int64(0x3c9ebe0a, 0x15c9bebc), new int64(0x431d67c4, 0x9c100d4c),\r\n            new int64(0x4cc5d4be, 0xcb3e42b6), new int64(0x597f299c, 0xfc657e2a),\r\n            new int64(0x5fcb6fab, 0x3ad6faec), new int64(0x6c44198c, 0x4a475817)];\r\n\r\n        var W = new Array(64);\r\n        var a, b, c, d, e, f, g, h, i, j;\r\n        var T1, T2;\r\n        var charsize = 8;\r\n\r\n        function utf8_encode(str) {\r\n            return unescape(encodeURIComponent(str));\r\n        }\r\n\r\n        function str2binb(str) {\r\n            var bin = [];\r\n            var mask = (1 << charsize) - 1;\r\n            var len = str.length * charsize;\r\n\r\n            for (var i = 0; i < len; i += charsize) {\r\n                bin[i >> 5] |= (str.charCodeAt(i / charsize) & mask) << (32 - charsize - (i % 32));\r\n            }\r\n\r\n            return bin;\r\n        }\r\n\r\n        function binb2hex(binarray) {\r\n            var hex_tab = \"0123456789abcdef\";\r\n            var str = \"\";\r\n            var length = binarray.length * 4;\r\n            var srcByte;\r\n\r\n            for (var i = 0; i < length; i += 1) {\r\n                srcByte = binarray[i >> 2] >> ((3 - (i % 4)) * 8);\r\n                str += hex_tab.charAt((srcByte >> 4) & 0xF) + hex_tab.charAt(srcByte & 0xF);\r\n            }\r\n\r\n            return str;\r\n        }\r\n\r\n        function safe_add_2(x, y) {\r\n            var lsw, msw, lowOrder, highOrder;\r\n\r\n            lsw = (x.lowOrder & 0xFFFF) + (y.lowOrder & 0xFFFF);\r\n            msw = (x.lowOrder >>> 16) + (y.lowOrder >>> 16) + (lsw >>> 16);\r\n            lowOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\r\n\r\n            lsw = (x.highOrder & 0xFFFF) + (y.highOrder & 0xFFFF) + (msw >>> 16);\r\n            msw = (x.highOrder >>> 16) + (y.highOrder >>> 16) + (lsw >>> 16);\r\n            highOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\r\n\r\n            return new int64(highOrder, lowOrder);\r\n        }\r\n\r\n        function safe_add_4(a, b, c, d) {\r\n            var lsw, msw, lowOrder, highOrder;\r\n\r\n            lsw = (a.lowOrder & 0xFFFF) + (b.lowOrder & 0xFFFF) + (c.lowOrder & 0xFFFF) + (d.lowOrder & 0xFFFF);\r\n            msw = (a.lowOrder >>> 16) + (b.lowOrder >>> 16) + (c.lowOrder >>> 16) + (d.lowOrder >>> 16) + (lsw >>> 16);\r\n            lowOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\r\n\r\n            lsw = (a.highOrder & 0xFFFF) + (b.highOrder & 0xFFFF) + (c.highOrder & 0xFFFF) + (d.highOrder & 0xFFFF) + (msw >>> 16);\r\n            msw = (a.highOrder >>> 16) + (b.highOrder >>> 16) + (c.highOrder >>> 16) + (d.highOrder >>> 16) + (lsw >>> 16);\r\n            highOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\r\n\r\n            return new int64(highOrder, lowOrder);\r\n        }\r\n\r\n        function safe_add_5(a, b, c, d, e) {\r\n            var lsw, msw, lowOrder, highOrder;\r\n\r\n            lsw = (a.lowOrder & 0xFFFF) + (b.lowOrder & 0xFFFF) + (c.lowOrder & 0xFFFF) + (d.lowOrder & 0xFFFF) + (e.lowOrder & 0xFFFF);\r\n            msw = (a.lowOrder >>> 16) + (b.lowOrder >>> 16) + (c.lowOrder >>> 16) + (d.lowOrder >>> 16) + (e.lowOrder >>> 16) + (lsw >>> 16);\r\n            lowOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\r\n\r\n            lsw = (a.highOrder & 0xFFFF) + (b.highOrder & 0xFFFF) + (c.highOrder & 0xFFFF) + (d.highOrder & 0xFFFF) + (e.highOrder & 0xFFFF) + (msw >>> 16);\r\n            msw = (a.highOrder >>> 16) + (b.highOrder >>> 16) + (c.highOrder >>> 16) + (d.highOrder >>> 16) + (e.highOrder >>> 16) + (lsw >>> 16);\r\n            highOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\r\n\r\n            return new int64(highOrder, lowOrder);\r\n        }\r\n\r\n        function maj(x, y, z) {\r\n            return new int64(\r\n                (x.highOrder & y.highOrder) ^ (x.highOrder & z.highOrder) ^ (y.highOrder & z.highOrder),\r\n                (x.lowOrder & y.lowOrder) ^ (x.lowOrder & z.lowOrder) ^ (y.lowOrder & z.lowOrder)\r\n            );\r\n        }\r\n\r\n        function ch(x, y, z) {\r\n            return new int64(\r\n                (x.highOrder & y.highOrder) ^ (~x.highOrder & z.highOrder),\r\n                (x.lowOrder & y.lowOrder) ^ (~x.lowOrder & z.lowOrder)\r\n            );\r\n        }\r\n\r\n        function rotr(x, n) {\r\n            if (n <= 32) {\r\n                return new int64(\r\n                    (x.highOrder >>> n) | (x.lowOrder << (32 - n)),\r\n                    (x.lowOrder >>> n) | (x.highOrder << (32 - n))\r\n                );\r\n            } else {\r\n                return new int64(\r\n                    (x.lowOrder >>> n) | (x.highOrder << (32 - n)),\r\n                    (x.highOrder >>> n) | (x.lowOrder << (32 - n))\r\n                );\r\n            }\r\n        }\r\n\r\n        function sigma0(x) {\r\n            var rotr28 = rotr(x, 28);\r\n            var rotr34 = rotr(x, 34);\r\n            var rotr39 = rotr(x, 39);\r\n\r\n            return new int64(\r\n                rotr28.highOrder ^ rotr34.highOrder ^ rotr39.highOrder,\r\n                rotr28.lowOrder ^ rotr34.lowOrder ^ rotr39.lowOrder\r\n            );\r\n        }\r\n\r\n        function sigma1(x) {\r\n            var rotr14 = rotr(x, 14);\r\n            var rotr18 = rotr(x, 18);\r\n            var rotr41 = rotr(x, 41);\r\n\r\n            return new int64(\r\n                rotr14.highOrder ^ rotr18.highOrder ^ rotr41.highOrder,\r\n                rotr14.lowOrder ^ rotr18.lowOrder ^ rotr41.lowOrder\r\n            );\r\n        }\r\n\r\n        function gamma0(x) {\r\n            var rotr1 = rotr(x, 1), rotr8 = rotr(x, 8), shr7 = shr(x, 7);\r\n\r\n            return new int64(\r\n                rotr1.highOrder ^ rotr8.highOrder ^ shr7.highOrder,\r\n                rotr1.lowOrder ^ rotr8.lowOrder ^ shr7.lowOrder\r\n            );\r\n        }\r\n\r\n        function gamma1(x) {\r\n            var rotr19 = rotr(x, 19);\r\n            var rotr61 = rotr(x, 61);\r\n            var shr6 = shr(x, 6);\r\n\r\n            return new int64(\r\n                rotr19.highOrder ^ rotr61.highOrder ^ shr6.highOrder,\r\n                rotr19.lowOrder ^ rotr61.lowOrder ^ shr6.lowOrder\r\n            );\r\n        }\r\n\r\n        function shr(x, n) {\r\n            if (n <= 32) {\r\n                return new int64(\r\n                    x.highOrder >>> n,\r\n                    x.lowOrder >>> n | (x.highOrder << (32 - n))\r\n                );\r\n            } else {\r\n                return new int64(\r\n                    0,\r\n                    x.highOrder << (32 - n)\r\n                );\r\n            }\r\n        }\r\n\r\n        var str = utf8_encode(str);\r\n        var strlen = str.length*charsize;\r\n        str = str2binb(str);\r\n\r\n        str[strlen >> 5] |= 0x80 << (24 - strlen % 32);\r\n        str[(((strlen + 128) >> 10) << 5) + 31] = strlen;\r\n\r\n        for (var i = 0; i < str.length; i += 32) {\r\n            a = H[0];\r\n            b = H[1];\r\n            c = H[2];\r\n            d = H[3];\r\n            e = H[4];\r\n            f = H[5];\r\n            g = H[6];\r\n            h = H[7];\r\n\r\n            for (var j = 0; j < 80; j++) {\r\n                if (j < 16) {\r\n                    W[j] = new int64(str[j*2 + i], str[j*2 + i + 1]);\r\n                } else {\r\n                    W[j] = safe_add_4(gamma1(W[j - 2]), W[j - 7], gamma0(W[j - 15]), W[j - 16]);\r\n                }\r\n\r\n                T1 = safe_add_5(h, sigma1(e), ch(e, f, g), K[j], W[j]);\r\n                T2 = safe_add_2(sigma0(a), maj(a, b, c));\r\n                h = g;\r\n                g = f;\r\n                f = e;\r\n                e = safe_add_2(d, T1);\r\n                d = c;\r\n                c = b;\r\n                b = a;\r\n                a = safe_add_2(T1, T2);\r\n            }\r\n\r\n            H[0] = safe_add_2(a, H[0]);\r\n            H[1] = safe_add_2(b, H[1]);\r\n            H[2] = safe_add_2(c, H[2]);\r\n            H[3] = safe_add_2(d, H[3]);\r\n            H[4] = safe_add_2(e, H[4]);\r\n            H[5] = safe_add_2(f, H[5]);\r\n            H[6] = safe_add_2(g, H[6]);\r\n            H[7] = safe_add_2(h, H[7]);\r\n        }\r\n\r\n        var binarray = [];\r\n        for (var i = 0; i < H.length; i++) {\r\n            binarray.push(H[i].highOrder);\r\n            binarray.push(H[i].lowOrder);\r\n        }\r\n\r\n        return binb2hex(binarray);\r\n    });\r\n\r\n})));\r\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n!function() {\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": function() { return /* binding */ jsuites; }\n});\n\n;// CONCATENATED MODULE: ./src/utils/helpers.js\nvar Helpers = {};\r\n\r\n// Two digits\r\nHelpers.two = function(value) {\r\n    value = '' + value;\r\n    if (value.length == 1) {\r\n        value = '0' + value;\r\n    }\r\n    return value;\r\n}\r\n\r\nHelpers.focus = function(el) {\r\n    if (el.innerText.length) {\r\n        var range = document.createRange();\r\n        var sel = window.getSelection();\r\n        var node = el.childNodes[el.childNodes.length-1];\r\n        range.setStart(node, node.length)\r\n        range.collapse(true)\r\n        sel.removeAllRanges()\r\n        sel.addRange(range)\r\n        el.scrollLeft = el.scrollWidth;\r\n    }\r\n}\r\n\r\nHelpers.isNumeric = (function (num) {\r\n    if (typeof(num) === 'string') {\r\n        num = num.trim();\r\n    }\r\n    return !isNaN(num) && num !== null && num !== '';\r\n});\r\n\r\nHelpers.guid = function() {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n        return v.toString(16);\r\n    });\r\n}\r\n\r\nHelpers.getNode = function() {\r\n    var node = document.getSelection().anchorNode;\r\n    if (node) {\r\n        return (node.nodeType == 3 ? node.parentNode : node);\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n/**\r\n * Generate hash from a string\r\n */\r\nHelpers.hash = function(str) {\r\n    var hash = 0, i, chr;\r\n\r\n    if (str.length === 0) {\r\n        return hash;\r\n    } else {\r\n        for (i = 0; i < str.length; i++) {\r\n            chr = str.charCodeAt(i);\r\n            if (chr > 32) {\r\n                hash = ((hash << 5) - hash) + chr;\r\n                hash |= 0;\r\n            }\r\n        }\r\n    }\r\n    return hash;\r\n}\r\n\r\n/**\r\n * Generate a random color\r\n */\r\nHelpers.randomColor = function(h) {\r\n    var lum = -0.25;\r\n    var hex = String('#' + Math.random().toString(16).slice(2, 8).toUpperCase()).replace(/[^0-9a-f]/gi, '');\r\n    if (hex.length < 6) {\r\n        hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\r\n    }\r\n    var rgb = [], c, i;\r\n    for (i = 0; i < 3; i++) {\r\n        c = parseInt(hex.substr(i * 2, 2), 16);\r\n        c = Math.round(Math.min(Math.max(0, c + (c * lum)), 255)).toString(16);\r\n        rgb.push((\"00\" + c).substr(c.length));\r\n    }\r\n\r\n    // Return hex\r\n    if (h == true) {\r\n        return '#' + Helpers.two(rgb[0].toString(16)) + Helpers.two(rgb[1].toString(16)) + Helpers.two(rgb[2].toString(16));\r\n    }\r\n\r\n    return rgb;\r\n}\r\n\r\nHelpers.getWindowWidth = function() {\r\n    var w = window,\r\n    d = document,\r\n    e = d.documentElement,\r\n    g = d.getElementsByTagName('body')[0],\r\n    x = w.innerWidth || e.clientWidth || g.clientWidth;\r\n    return x;\r\n}\r\n\r\nHelpers.getWindowHeight = function() {\r\n    var w = window,\r\n    d = document,\r\n    e = d.documentElement,\r\n    g = d.getElementsByTagName('body')[0],\r\n    y = w.innerHeight|| e.clientHeight|| g.clientHeight;\r\n    return  y;\r\n}\r\n\r\nHelpers.getPosition = function(e) {\r\n    if (e.changedTouches && e.changedTouches[0]) {\r\n        var x = e.changedTouches[0].pageX;\r\n        var y = e.changedTouches[0].pageY;\r\n    } else {\r\n        var x = (window.Event) ? e.pageX : e.clientX + (document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft);\r\n        var y = (window.Event) ? e.pageY : e.clientY + (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);\r\n    }\r\n\r\n    return [ x, y ];\r\n}\r\n\r\nHelpers.click = function(el) {\r\n    if (el.click) {\r\n        el.click();\r\n    } else {\r\n        var evt = new MouseEvent('click', {\r\n            bubbles: true,\r\n            cancelable: true,\r\n            view: window\r\n        });\r\n        el.dispatchEvent(evt);\r\n    }\r\n}\r\n\r\nHelpers.findElement = function(element, condition) {\r\n    var foundElement = false;\r\n\r\n    function path (element) {\r\n        if (element && ! foundElement) {\r\n            if (typeof(condition) == 'function') {\r\n                foundElement = condition(element)\r\n            } else if (typeof(condition) == 'string') {\r\n                if (element.classList && element.classList.contains(condition)) {\r\n                    foundElement = element;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (element.parentNode && ! foundElement) {\r\n            path(element.parentNode);\r\n        }\r\n    }\r\n\r\n    path(element);\r\n\r\n    return foundElement;\r\n}\r\n\r\n/* harmony default export */ var helpers = (Helpers);\n;// CONCATENATED MODULE: ./src/utils/helpers.date.js\n\r\n\r\nfunction HelpersDate() {\r\n    var Component = {};\r\n\r\n    Component.now = function (date, dateOnly) {\r\n        var y = null;\r\n        var m = null;\r\n        var d = null;\r\n        var h = null;\r\n        var i = null;\r\n        var s = null;\r\n\r\n        if (Array.isArray(date)) {\r\n            y = date[0];\r\n            m = date[1];\r\n            d = date[2];\r\n            h = date[3];\r\n            i = date[4];\r\n            s = date[5];\r\n        } else {\r\n            if (! date) {\r\n                date = new Date();\r\n            }\r\n            y = date.getFullYear();\r\n            m = date.getMonth() + 1;\r\n            d = date.getDate();\r\n            h = date.getHours();\r\n            i = date.getMinutes();\r\n            s = date.getSeconds();\r\n        }\r\n\r\n        if (dateOnly == true) {\r\n            return helpers.two(y) + '-' + helpers.two(m) + '-' + helpers.two(d);\r\n        } else {\r\n            return helpers.two(y) + '-' + helpers.two(m) + '-' + helpers.two(d) + ' ' + helpers.two(h) + ':' + helpers.two(i) + ':' + helpers.two(s);\r\n        }\r\n    }\r\n\r\n    Component.toArray = function (value) {\r\n        var date = value.split(((value.indexOf('T') !== -1) ? 'T' : ' '));\r\n        var time = date[1];\r\n        var date = date[0].split('-');\r\n        var y = parseInt(date[0]);\r\n        var m = parseInt(date[1]);\r\n        var d = parseInt(date[2]);\r\n        var h = 0;\r\n        var i = 0;\r\n\r\n        if (time) {\r\n            time = time.split(':');\r\n            h = parseInt(time[0]);\r\n            i = parseInt(time[1]);\r\n        }\r\n        return [y, m, d, h, i, 0];\r\n    }\r\n\r\n    var excelInitialTime = Date.UTC(1900, 0, 0);\r\n    var excelLeapYearBug = Date.UTC(1900, 1, 29);\r\n    var millisecondsPerDay = 86400000;\r\n\r\n    /**\r\n     * Date to number\r\n     */\r\n    Component.dateToNum = function (jsDate) {\r\n        if (typeof (jsDate) === 'string') {\r\n            jsDate = new Date(jsDate + '  GMT+0');\r\n        }\r\n        var jsDateInMilliseconds = jsDate.getTime();\r\n\r\n        if (jsDateInMilliseconds >= excelLeapYearBug) {\r\n            jsDateInMilliseconds += millisecondsPerDay;\r\n        }\r\n\r\n        jsDateInMilliseconds -= excelInitialTime;\r\n\r\n        return jsDateInMilliseconds / millisecondsPerDay;\r\n    }\r\n\r\n    /**\r\n     * Number to date\r\n     *\r\n     * IMPORTANT: Excel incorrectly considers 1900 to be a leap year\r\n     */\r\n    Component.numToDate = function (excelSerialNumber) {\r\n        var jsDateInMilliseconds = excelInitialTime + excelSerialNumber * millisecondsPerDay;\r\n\r\n        if (jsDateInMilliseconds >= excelLeapYearBug) {\r\n            jsDateInMilliseconds -= millisecondsPerDay;\r\n        }\r\n\r\n        const d = new Date(jsDateInMilliseconds);\r\n\r\n        var date = [\r\n            d.getUTCFullYear(),\r\n            d.getUTCMonth() + 1,\r\n            d.getUTCDate(),\r\n            d.getUTCHours(),\r\n            d.getUTCMinutes(),\r\n            d.getUTCSeconds(),\r\n        ];\r\n\r\n        return Component.now(date);\r\n    }\r\n\r\n    // Jsuites calendar labels\r\n    Component.weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n    Component.months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n    Component.weekdaysShort = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n    Component.monthsShort = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n\r\n    return Component;\r\n}\r\n\r\n/* harmony default export */ var helpers_date = (HelpersDate());\n;// CONCATENATED MODULE: ./src/utils/dictionary.js\n\r\n\r\n// Update dictionary\r\nvar setDictionary = function(d) {\r\n    if (! document.dictionary) {\r\n        document.dictionary = {}\r\n    }\r\n    // Replace the key into the dictionary and append the new ones\r\n    var t = null;\r\n    var i = null;\r\n    var k = Object.keys(d);\r\n    for (i = 0; i < k.length; i++) {\r\n        document.dictionary[k[i]] = d[k[i]];\r\n    }\r\n\r\n    // Translations\r\n    for (i = 0; i < helpers_date.weekdays.length; i++) {\r\n        t =  translate(helpers_date.weekdays[i]);\r\n        if (helpers_date.weekdays[i]) {\r\n            helpers_date.weekdays[i] = t;\r\n            helpers_date.weekdaysShort[i] = t.substr(0,3);\r\n        }\r\n    }\r\n    for (i = 0; i < helpers_date.months.length; i++) {\r\n        t = translate(helpers_date.months[i]);\r\n        if (t) {\r\n            helpers_date.months[i] = t;\r\n            helpers_date.monthsShort[i] = t.substr(0,3);\r\n        }\r\n    }\r\n}\r\n\r\n// Translate\r\nvar translate = function(t) {\r\n    if (typeof(document) !== \"undefined\" && document.dictionary) {\r\n        return document.dictionary[t] || t;\r\n    } else {\r\n        return t;\r\n    }\r\n}\r\n\r\n\r\n/* harmony default export */ var dictionary = ({ setDictionary, translate });\n;// CONCATENATED MODULE: ./src/utils/tracking.js\nfunction Tracking(component, state) {\r\n    if (state == true) {\r\n        document.jsuitesComponents = document.jsuitesComponents.filter(function(v) {\r\n            return v !== null;\r\n        });\r\n\r\n        // Start after all events\r\n        setTimeout(function() {\r\n            document.jsuitesComponents.push(component);\r\n        }, 0);\r\n\r\n    } else {\r\n        var index = document.jsuitesComponents.indexOf(component);\r\n        if (index >= 0) {\r\n            document.jsuitesComponents.splice(index, 1);\r\n        }\r\n    }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/utils/path.js\nfunction Path(str, val) {\r\n    str = str.split('.');\r\n    if (str.length) {\r\n        var o = this;\r\n        var p = null;\r\n        while (str.length > 1) {\r\n            // Get the property\r\n            p = str.shift();\r\n            // Check if the property exists\r\n            if (o.hasOwnProperty(p)) {\r\n                o = o[p];\r\n            } else {\r\n                // Property does not exists\r\n                if (val === undefined) {\r\n                    return undefined;\r\n                } else {\r\n                    // Create the property\r\n                    o[p] = {};\r\n                    // Next property\r\n                    o = o[p];\r\n                }\r\n            }\r\n        }\r\n        // Get the property\r\n        p = str.shift();\r\n        // Set or get the value\r\n        if (val !== undefined) {\r\n            o[p] = val;\r\n            // Success\r\n            return true;\r\n        } else {\r\n            // Return the value\r\n            if (o) {\r\n                return o[p];\r\n            }\r\n        }\r\n    }\r\n    // Something went wrong\r\n    return false;\r\n}\n;// CONCATENATED MODULE: ./src/utils/sorting.js\nfunction Sorting(el, options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n\r\n    var defaults = {\r\n        pointer: null,\r\n        direction: null,\r\n        ondragstart: null,\r\n        ondragend: null,\r\n        ondrop: null,\r\n    }\r\n\r\n    var dragElement = null;\r\n\r\n    // Loop through the initial configuration\r\n    for (var property in defaults) {\r\n        if (options && options.hasOwnProperty(property)) {\r\n            obj.options[property] = options[property];\r\n        } else {\r\n            obj.options[property] = defaults[property];\r\n        }\r\n    }\r\n\r\n    el.classList.add('jsorting');\r\n\r\n    el.addEventListener('dragstart', function(e) {\r\n        var position = Array.prototype.indexOf.call(e.target.parentNode.children, e.target);\r\n        dragElement = {\r\n            element: e.target,\r\n            o: position,\r\n            d: position\r\n        }\r\n        e.target.style.opacity = '0.25';\r\n\r\n        if (typeof(obj.options.ondragstart) == 'function') {\r\n            obj.options.ondragstart(el, e.target, e);\r\n        }\r\n    });\r\n\r\n    el.addEventListener('dragover', function(e) {\r\n        e.preventDefault();\r\n\r\n        if (getElement(e.target) && dragElement) {\r\n            if (e.target.getAttribute('draggable') == 'true' && dragElement.element != e.target) {\r\n                if (! obj.options.direction) {\r\n                    var condition = e.target.clientHeight / 2 > e.offsetY;\r\n                } else {\r\n                    var condition = e.target.clientWidth / 2 > e.offsetX;\r\n                }\r\n\r\n                if (condition) {\r\n                    e.target.parentNode.insertBefore(dragElement.element, e.target);\r\n                } else {\r\n                    e.target.parentNode.insertBefore(dragElement.element, e.target.nextSibling);\r\n                }\r\n\r\n                dragElement.d = Array.prototype.indexOf.call(e.target.parentNode.children, dragElement.element);\r\n            }\r\n        }\r\n    });\r\n\r\n    el.addEventListener('dragleave', function(e) {\r\n        e.preventDefault();\r\n    });\r\n\r\n    el.addEventListener('dragend', function(e) {\r\n        e.preventDefault();\r\n\r\n        if (dragElement) {\r\n            if (typeof(obj.options.ondragend) == 'function') {\r\n                obj.options.ondragend(el, dragElement.element, e);\r\n            }\r\n\r\n            // Cancelled put element to the original position\r\n            if (dragElement.o < dragElement.d) {\r\n                e.target.parentNode.insertBefore(dragElement.element, e.target.parentNode.children[dragElement.o]);\r\n            } else {\r\n                e.target.parentNode.insertBefore(dragElement.element, e.target.parentNode.children[dragElement.o].nextSibling);\r\n            }\r\n\r\n            dragElement.element.style.opacity = '';\r\n            dragElement = null;\r\n        }\r\n    });\r\n\r\n    el.addEventListener('drop', function(e) {\r\n        e.preventDefault();\r\n\r\n        if (dragElement && (dragElement.o != dragElement.d)) {\r\n            if (typeof(obj.options.ondrop) == 'function') {\r\n                obj.options.ondrop(el, dragElement.o, dragElement.d, dragElement.element, e.target, e);\r\n            }\r\n        }\r\n\r\n        dragElement.element.style.opacity = '';\r\n        dragElement = null;\r\n    });\r\n\r\n    var getElement = function(element) {\r\n        var sorting = false;\r\n\r\n        function path (element) {\r\n            if (element.className) {\r\n                if (element.classList.contains('jsorting')) {\r\n                    sorting = true;\r\n                }\r\n            }\r\n\r\n            if (! sorting) {\r\n                path(element.parentNode);\r\n            }\r\n        }\r\n\r\n        path(element);\r\n\r\n        return sorting;\r\n    }\r\n\r\n    for (var i = 0; i < el.children.length; i++) {\r\n        if (! el.children[i].hasAttribute('draggable')) {\r\n            el.children[i].setAttribute('draggable', 'true');\r\n        }\r\n    }\r\n\r\n    el.val = function() {\r\n        var id = null;\r\n        var data = [];\r\n        for (var i = 0; i < el.children.length; i++) {\r\n            if (id = el.children[i].getAttribute('data-id')) {\r\n                data.push(id);\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n    return el;\r\n}\n;// CONCATENATED MODULE: ./src/utils/lazyloading.js\nfunction LazyLoading(el, options) {\r\n    var obj = {}\r\n\r\n    // Mandatory options\r\n    if (! options.loadUp || typeof(options.loadUp) != 'function') {\r\n        options.loadUp = function() {\r\n            return false;\r\n        }\r\n    }\r\n    if (! options.loadDown || typeof(options.loadDown) != 'function') {\r\n        options.loadDown = function() {\r\n            return false;\r\n        }\r\n    }\r\n    // Timer ms\r\n    if (! options.timer) {\r\n        options.timer = 100;\r\n    }\r\n\r\n    // Timer\r\n    var timeControlLoading = null;\r\n\r\n    // Controls\r\n    var scrollControls = function(e) {\r\n        if (timeControlLoading == null) {\r\n            var event = false;\r\n            var scrollTop = el.scrollTop;\r\n            if (el.scrollTop + (el.clientHeight * 2) >= el.scrollHeight) {\r\n                if (options.loadDown()) {\r\n                    if (scrollTop == el.scrollTop) {\r\n                        el.scrollTop = el.scrollTop - (el.clientHeight);\r\n                    }\r\n                    event = true;\r\n                }\r\n            } else if (el.scrollTop <= el.clientHeight) {\r\n                if (options.loadUp()) {\r\n                    if (scrollTop == el.scrollTop) {\r\n                        el.scrollTop = el.scrollTop + (el.clientHeight);\r\n                    }\r\n                    event = true;\r\n                }\r\n            }\r\n\r\n            timeControlLoading = setTimeout(function() {\r\n                timeControlLoading = null;\r\n            }, options.timer);\r\n\r\n            if (event) {\r\n                if (typeof(options.onupdate) == 'function') {\r\n                    options.onupdate();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // Onscroll\r\n    el.onscroll = function(e) {\r\n        scrollControls(e);\r\n    }\r\n\r\n    el.onwheel = function(e) {\r\n        scrollControls(e);\r\n    }\r\n\r\n    return obj;\r\n}\n;// CONCATENATED MODULE: ./src/plugins/ajax.js\nfunction Ajax() {\r\n    var Component = (function(options, complete) {\r\n        if (Array.isArray(options)) {\r\n            // Create multiple request controller\r\n            var multiple = {\r\n                instance: [],\r\n                complete: complete,\r\n            }\r\n\r\n            if (options.length > 0) {\r\n                for (var i = 0; i < options.length; i++) {\r\n                    options[i].multiple = multiple;\r\n                    multiple.instance.push(Component(options[i]));\r\n                }\r\n            }\r\n\r\n            return multiple;\r\n        }\r\n\r\n        if (! options.data) {\r\n            options.data = {};\r\n        }\r\n\r\n        if (options.type) {\r\n            options.method = options.type;\r\n        }\r\n\r\n        // Default method\r\n        if (! options.method) {\r\n            options.method = 'GET';\r\n        }\r\n\r\n        // Default type\r\n        if (! options.dataType) {\r\n            options.dataType = 'json';\r\n        }\r\n\r\n        if (options.data) {\r\n            // Parse object to variables format\r\n            var parseData = function (value, key) {\r\n                var vars = [];\r\n                if (value) {\r\n                    var keys = Object.keys(value);\r\n                    if (keys.length) {\r\n                        for (var i = 0; i < keys.length; i++) {\r\n                            if (key) {\r\n                                var k = key + '[' + keys[i] + ']';\r\n                            } else {\r\n                                var k = keys[i];\r\n                            }\r\n\r\n                            if (value[k] instanceof FileList) {\r\n                                vars[k] = value[keys[i]];\r\n                            } else if (value[keys[i]] === null || value[keys[i]] === undefined) {\r\n                                vars[k] = '';\r\n                            } else if (typeof(value[keys[i]]) == 'object') {\r\n                                var r = parseData(value[keys[i]], k);\r\n                                var o = Object.keys(r);\r\n                                for (var j = 0; j < o.length; j++) {\r\n                                    vars[o[j]] = r[o[j]];\r\n                                }\r\n                            } else {\r\n                                vars[k] = value[keys[i]];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return vars;\r\n            }\r\n\r\n            var d = parseData(options.data);\r\n            var k = Object.keys(d);\r\n\r\n            // Data form\r\n            if (options.method == 'GET') {\r\n                if (k.length) {\r\n                    var data = [];\r\n                    for (var i = 0; i < k.length; i++) {\r\n                        data.push(k[i] + '=' + encodeURIComponent(d[k[i]]));\r\n                    }\r\n\r\n                    if (options.url.indexOf('?') < 0) {\r\n                        options.url += '?';\r\n                    }\r\n                    options.url += data.join('&');\r\n                }\r\n            } else {\r\n                var data = new FormData();\r\n                for (var i = 0; i < k.length; i++) {\r\n                    if (d[k[i]] instanceof FileList) {\r\n                        if (d[k[i]].length) {\r\n                            for (var j = 0; j < d[k[i]].length; j++) {\r\n                                data.append(k[i], d[k[i]][j], d[k[i]][j].name);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        data.append(k[i], d[k[i]]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        var httpRequest = new XMLHttpRequest();\r\n        httpRequest.open(options.method, options.url, true);\r\n        httpRequest.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n\r\n        // Content type\r\n        if (options.contentType) {\r\n            httpRequest.setRequestHeader('Content-Type', options.contentType);\r\n        }\r\n\r\n        // Headers\r\n        if (options.method == 'POST') {\r\n            httpRequest.setRequestHeader('Accept', 'application/json');\r\n        } else {\r\n            if (options.dataType == 'blob') {\r\n                httpRequest.responseType = \"blob\";\r\n            } else {\r\n                if (! options.contentType) {\r\n                    if (options.dataType == 'json') {\r\n                        httpRequest.setRequestHeader('Content-Type', 'text/json');\r\n                    } else if (options.dataType == 'html') {\r\n                        httpRequest.setRequestHeader('Content-Type', 'text/html');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // No cache\r\n        if (options.cache != true) {\r\n            httpRequest.setRequestHeader('pragma', 'no-cache');\r\n            httpRequest.setRequestHeader('cache-control', 'no-cache');\r\n        }\r\n\r\n        // Authentication\r\n        if (options.withCredentials == true) {\r\n            httpRequest.withCredentials = true\r\n        }\r\n\r\n        // Before send\r\n        if (typeof(options.beforeSend) == 'function') {\r\n            options.beforeSend(httpRequest);\r\n        }\r\n\r\n        // Before send\r\n        if (typeof(Component.beforeSend) == 'function') {\r\n            Component.beforeSend(httpRequest);\r\n        }\r\n\r\n        if (document.ajax && typeof(document.ajax.beforeSend) == 'function') {\r\n            document.ajax.beforeSend(httpRequest);\r\n        }\r\n\r\n        httpRequest.onload = function() {\r\n            if (httpRequest.status === 200) {\r\n                if (options.dataType == 'json') {\r\n                    try {\r\n                        var result = JSON.parse(httpRequest.responseText);\r\n\r\n                        if (options.success && typeof(options.success) == 'function') {\r\n                            options.success(result);\r\n                        }\r\n                    } catch(err) {\r\n                        if (options.error && typeof(options.error) == 'function') {\r\n                            options.error(err, result);\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (options.dataType == 'blob') {\r\n                        var result = httpRequest.response;\r\n                    } else {\r\n                        var result = httpRequest.responseText;\r\n                    }\r\n\r\n                    if (options.success && typeof(options.success) == 'function') {\r\n                        options.success(result);\r\n                    }\r\n                }\r\n            } else {\r\n                if (options.error && typeof(options.error) == 'function') {\r\n                    options.error(httpRequest.responseText, httpRequest.status);\r\n                }\r\n            }\r\n\r\n            // Global queue\r\n            if (Component.queue && Component.queue.length > 0) {\r\n                Component.send(Component.queue.shift());\r\n            }\r\n\r\n            // Global complete method\r\n            if (Component.requests && Component.requests.length) {\r\n                // Get index of this request in the container\r\n                var index = Component.requests.indexOf(httpRequest);\r\n                // Remove from the ajax requests container\r\n                Component.requests.splice(index, 1);\r\n                // Deprected: Last one?\r\n                if (! Component.requests.length) {\r\n                    // Object event\r\n                    if (options.complete && typeof(options.complete) == 'function') {\r\n                        options.complete(result);\r\n                    }\r\n                }\r\n                // Group requests\r\n                if (options.group) {\r\n                    if (Component.oncomplete && typeof(Component.oncomplete[options.group]) == 'function') {\r\n                        if (! Component.pending(options.group)) {\r\n                            Component.oncomplete[options.group]();\r\n                            Component.oncomplete[options.group] = null;\r\n                        }\r\n                    }\r\n                }\r\n                // Multiple requests controller\r\n                if (options.multiple && options.multiple.instance) {\r\n                    // Get index of this request in the container\r\n                    var index = options.multiple.instance.indexOf(httpRequest);\r\n                    // Remove from the ajax requests container\r\n                    options.multiple.instance.splice(index, 1);\r\n                    // If this is the last one call method complete\r\n                    if (! options.multiple.instance.length) {\r\n                        if (options.multiple.complete && typeof(options.multiple.complete) == 'function') {\r\n                            options.multiple.complete(result);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Keep the options\r\n        httpRequest.options = options;\r\n        // Data\r\n        httpRequest.data = data;\r\n\r\n        // Queue\r\n        if (options.queue == true && Component.requests.length > 0) {\r\n            Component.queue.push(httpRequest);\r\n        } else {\r\n            Component.send(httpRequest)\r\n        }\r\n\r\n        return httpRequest;\r\n    });\r\n\r\n    Component.send = function(httpRequest) {\r\n        if (httpRequest.data) {\r\n            if (Array.isArray(httpRequest.data)) {\r\n                httpRequest.send(httpRequest.data.join('&'));\r\n            } else {\r\n                httpRequest.send(httpRequest.data);\r\n            }\r\n        } else {\r\n            httpRequest.send();\r\n        }\r\n\r\n        Component.requests.push(httpRequest);\r\n    }\r\n\r\n    Component.exists = function(url, __callback) {\r\n        var http = new XMLHttpRequest();\r\n        http.open('HEAD', url, false);\r\n        http.send();\r\n        if (http.status) {\r\n            __callback(http.status);\r\n        }\r\n    }\r\n\r\n    Component.pending = function(group) {\r\n        var n = 0;\r\n        var o = Component.requests;\r\n        if (o && o.length) {\r\n            for (var i = 0; i < o.length; i++) {\r\n                if (! group || group == o[i].options.group) {\r\n                    n++\r\n                }\r\n            }\r\n        }\r\n        return n;\r\n    }\r\n\r\n    Component.oncomplete = {};\r\n    Component.requests = [];\r\n    Component.queue = [];\r\n\r\n    return Component\r\n}\r\n\r\n/* harmony default export */ var ajax = (Ajax());\n;// CONCATENATED MODULE: ./src/plugins/animation.js\nfunction Animation() {\r\n    var Component = {\r\n        loading: {}\r\n    }\r\n    \r\n    Component.loading.show = function(timeout) {\r\n        if (! Component.loading.element) {\r\n            Component.loading.element = document.createElement('div');\r\n            Component.loading.element.className = 'jloading';\r\n        }\r\n        document.body.appendChild(Component.loading.element);\r\n    \r\n        // Max timeout in seconds\r\n        if (timeout > 0) {\r\n            setTimeout(function() {\r\n                obj.hide();\r\n            }, timeout * 1000)\r\n        }\r\n    }\r\n    \r\n    Component.loading.hide = function() {\r\n        if (Component.loading.element && Component.loading.element.parentNode) {\r\n            document.body.removeChild(Component.loading.element);\r\n        }\r\n    }\r\n    \r\n    Component.slideLeft = function (element, direction, done) {\r\n        if (direction == true) {\r\n            element.classList.add('slide-left-in');\r\n            setTimeout(function () {\r\n                element.classList.remove('slide-left-in');\r\n                if (typeof (done) == 'function') {\r\n                    done();\r\n                }\r\n            }, 400);\r\n        } else {\r\n            element.classList.add('slide-left-out');\r\n            setTimeout(function () {\r\n                element.classList.remove('slide-left-out');\r\n                if (typeof (done) == 'function') {\r\n                    done();\r\n                }\r\n            }, 400);\r\n        }\r\n    }\r\n    \r\n    Component.slideRight = function (element, direction, done) {\r\n        if (direction == true) {\r\n            element.classList.add('slide-right-in');\r\n            setTimeout(function () {\r\n                element.classList.remove('slide-right-in');\r\n                if (typeof (done) == 'function') {\r\n                    done();\r\n                }\r\n            }, 400);\r\n        } else {\r\n            element.classList.add('slide-right-out');\r\n            setTimeout(function () {\r\n                element.classList.remove('slide-right-out');\r\n                if (typeof (done) == 'function') {\r\n                    done();\r\n                }\r\n            }, 400);\r\n        }\r\n    }\r\n    \r\n    Component.slideTop = function (element, direction, done) {\r\n        if (direction == true) {\r\n            element.classList.add('slide-top-in');\r\n            setTimeout(function () {\r\n                element.classList.remove('slide-top-in');\r\n                if (typeof (done) == 'function') {\r\n                    done();\r\n                }\r\n            }, 400);\r\n        } else {\r\n            element.classList.add('slide-top-out');\r\n            setTimeout(function () {\r\n                element.classList.remove('slide-top-out');\r\n                if (typeof (done) == 'function') {\r\n                    done();\r\n                }\r\n            }, 400);\r\n        }\r\n    }\r\n    \r\n    Component.slideBottom = function (element, direction, done) {\r\n        if (direction == true) {\r\n            element.classList.add('slide-bottom-in');\r\n            setTimeout(function () {\r\n                element.classList.remove('slide-bottom-in');\r\n                if (typeof (done) == 'function') {\r\n                    done();\r\n                }\r\n            }, 400);\r\n        } else {\r\n            element.classList.add('slide-bottom-out');\r\n            setTimeout(function () {\r\n                element.classList.remove('slide-bottom-out');\r\n                if (typeof (done) == 'function') {\r\n                    done();\r\n                }\r\n            }, 100);\r\n        }\r\n    }\r\n    \r\n    Component.fadeIn = function (element, done) {\r\n        element.style.display = '';\r\n        element.classList.add('fade-in');\r\n        setTimeout(function () {\r\n            element.classList.remove('fade-in');\r\n            if (typeof (done) == 'function') {\r\n                done();\r\n            }\r\n        }, 2000);\r\n    }\r\n    \r\n    Component.fadeOut = function (element, done) {\r\n        element.classList.add('fade-out');\r\n        setTimeout(function () {\r\n            element.style.display = 'none';\r\n            element.classList.remove('fade-out');\r\n            if (typeof (done) == 'function') {\r\n                done();\r\n            }\r\n        }, 1000);\r\n    }\r\n\r\n    return Component;\r\n}\r\n\r\n/* harmony default export */ var animation = (Animation());\n;// CONCATENATED MODULE: ./src/plugins/mask.js\n\n\n\nfunction Mask() {\n    // Currency\n    var tokens = {\n        // Text\n        text: [ '@' ],\n        // Currency tokens\n        currency: [ '#(.{1})##0?(.{1}0+)?( ?;(.*)?)?', '#' ],\n        // Percentage\n        percentage: [ '0{1}(.{1}0+)?%' ],\n        // Number\n        numeric: [ '0{1}(.{1}0+)?' ],\n        // Data tokens\n        datetime: [ 'YYYY', 'YYY', 'YY', 'MMMMM', 'MMMM', 'MMM', 'MM', 'DDDDD', 'DDDD', 'DDD', 'DD', 'DY', 'DAY', 'WD', 'D', 'Q', 'MONTH', 'MON', 'HH24', 'HH12', 'HH', '\\\\[H\\\\]', 'H', 'AM/PM', 'PM', 'AM', 'MI', 'SS', 'MS', 'Y', 'M' ],\n        // Other\n        general: [ 'A', '0', '[0-9a-zA-Z\\$]+', '.']\n    }\n\n    var getDate = function() {\n        if (this.mask.toLowerCase().indexOf('[h]') !== -1) {\n            var m = 0;\n            if (this.date[4]) {\n                m = parseFloat(this.date[4] / 60);\n            }\n            var v = parseInt(this.date[3]) + m;\n            v /= 24;\n        } else if (! (this.date[0] && this.date[1] && this.date[2]) && (this.date[3] || this.date[4])) {\n            v = helpers.two(this.date[3]) + ':' + helpers.two(this.date[4]) + ':' + helpers.two(this.date[5])\n        } else {\n            if (this.date[0] && this.date[1] && ! this.date[2]) {\n                this.date[2] = 1;\n            }\n            v = helpers.two(this.date[0]) + '-' + helpers.two(this.date[1]) + '-' + helpers.two(this.date[2]);\n\n            if (this.date[3] || this.date[4] || this.date[5]) {\n                v += ' ' + helpers.two(this.date[3]) + ':' + helpers.two(this.date[4]) + ':' + helpers.two(this.date[5]);\n            }\n        }\n\n        return v;\n    }\n\n    var extractDate = function() {\n        var v = '';\n        if (! (this.date[0] && this.date[1] && this.date[2]) && (this.date[3] || this.date[4])) {\n            if (this.mask.toLowerCase().indexOf('[h]') !== -1) {\n                v = parseInt(this.date[3]);\n            } else {\n                v = parseInt(this.date[3]) % 24;\n            }\n            if (this.date[4]) {\n                v += parseFloat(this.date[4] / 60);\n            }\n            v /= 24;\n        } else if (this.date[0] || this.date[1] || this.date[2] || this.date[3] || this.date[4] || this.date[5]) {\n            if (this.date[0] && this.date[1] && ! this.date[2]) {\n                this.date[2] = 1;\n            }\n            var t = helpers_date.now(this.date);\n            v = helpers_date.dateToNum(t);\n            if (this.date[4]) {\n                v += parseFloat(this.date[4] / 60);\n            }\n        }\n\n        if (isNaN(v)) {\n            v = '';\n        }\n\n        return v;\n    }\n\n    var isBlank = function(v) {\n        return v === null || v === '' || v === undefined ? true : false;\n    }\n\n    var isFormula = function(value) {\n        return (''+value).chartAt(0) == '=';\n    }\n\n    var isNumeric = function(t) {\n        return t === 'currency' || t === 'percentage' || t === 'numeric' ? true : false;\n    }\n    /**\n     * Get the decimal defined in the mask configuration\n     */\n    var getDecimal = function(v) {\n        if (v && Number(v) == v) {\n            return '.';\n        } else {\n            if (this.options.decimal) {\n                return this.options.decimal;\n            } else {\n                if (this.locale) {\n                    var t = Intl.NumberFormat(this.locale).format(1.1);\n                    return this.options.decimal = t[1];\n                } else {\n                    if (! v) {\n                        v  = this.mask;\n                    }\n                    var e = new RegExp('0{1}(.{1})0+', 'ig');\n                    var t = e.exec(v);\n                    if (t && t[1] && t[1].length == 1) {\n                        // Save decimal\n                        this.options.decimal = t[1];\n                        // Return decimal\n                        return t[1];\n                    } else {\n                        // Did not find any decimal last resort the default\n                        var e = new RegExp('#{1}(.{1})#+', 'ig');\n                        var t = e.exec(v);\n                        if (t && t[1] && t[1].length == 1) {\n                            if (t[1] === ',') {\n                                this.options.decimal = '.';\n                            } else {\n                                this.options.decimal = ',';\n                            }\n                        } else {\n                            this.options.decimal = '1.1'.toLocaleString().substring(1,2);\n                        }\n                    }\n                }\n            }\n        }\n\n        if (this.options.decimal) {\n            return this.options.decimal;\n        } else {\n            return null;\n        }\n    }\n\n    var ParseValue = function(v, decimal) {\n        if (v == '') {\n            return '';\n        }\n\n        // Get decimal\n        if (! decimal) {\n            decimal = getDecimal.call(this);\n        }\n\n        // New value\n        v = (''+v).split(decimal);\n\n        // Signal\n        var signal = v[0].match(/[-]+/g);\n        if (signal && signal.length) {\n            signal = true;\n        } else {\n            signal = false;\n        }\n\n        v[0] = v[0].match(/[0-9]+/g);\n\n        if (v[0]) {\n            if (signal) {\n                v[0].unshift('-');\n            }\n            v[0] = v[0].join('');\n        } else {\n            if (signal) {\n                v[0] = '-';\n            }\n        }\n\n        if (v[0] || v[1]) {\n            if (v[1] !== undefined) {\n                v[1] = v[1].match(/[0-9]+/g);\n                if (v[1]) {\n                    v[1] = v[1].join('');\n                } else {\n                    v[1] = '';\n                }\n            }\n        } else {\n            return '';\n        }\n        return v;\n    }\n\n    var FormatValue = function(v, event) {\n        if (v == '') {\n            return '';\n        }\n        // Get decimal\n        var d = getDecimal.call(this);\n        // Convert value\n        var o = this.options;\n        // Parse value\n        v = ParseValue.call(this, v);\n        if (v == '') {\n            return '';\n        }\n        // Temporary value\n        if (v[0]) {\n            var t = parseFloat(v[0] + '.1');\n            if (o.style == 'percent') {\n                t /= 100;\n            }\n        } else {\n            var t = null;\n        }\n\n        if ((v[0] == '-' || v[0] == '-00') && ! v[1] && (event && event.inputType == \"deleteContentBackward\")) {\n            return '';\n        }\n\n        var n = new Intl.NumberFormat(this.locale, o).format(t);\n        n = n.split(d);\n        if (typeof(n[1]) !== 'undefined') {\n            var s = n[1].replace(/[0-9]*/g, '');\n            if (s) {\n                n[2] = s;\n            }\n        }\n\n        if (v[1] !== undefined) {\n            n[1] = d + v[1];\n        } else {\n            n[1] = '';\n        }\n\n        return n.join('');\n    }\n\n    var Format = function(e, event) {\n        var v = Value.call(e);\n        if (! v) {\n            return;\n        }\n\n        // Get decimal\n        var d = getDecimal.call(this);\n        var n = FormatValue.call(this, v, event);\n        var t = (n.length) - v.length;\n        var index = Caret.call(e) + t;\n        // Set value and update caret\n        Value.call(e, n, index, true);\n    }\n\n    var Extract = function(v) {\n        // Keep the raw value\n        var current = ParseValue.call(this, v);\n        if (current) {\n            // Negative values\n            if (current[0] === '-') {\n                current[0] = '-0';\n            }\n            return parseFloat(current.join('.'));\n        }\n        return null;\n    }\n\n    /**\n     * Caret getter and setter methods\n     */\n    var Caret = function(index, adjustNumeric) {\n        if (index === undefined) {\n            if (this.tagName == 'DIV') {\n                var pos = 0;\n                var s = window.getSelection();\n                if (s) {\n                    if (s.rangeCount !== 0) {\n                        var r = s.getRangeAt(0);\n                        var p = r.cloneRange();\n                        p.selectNodeContents(this);\n                        p.setEnd(r.endContainer, r.endOffset);\n                        pos = p.toString().length;\n                    }\n                }\n                return pos;\n            } else {\n                return this.selectionStart;\n            }\n        } else {\n            // Get the current value\n            var n = Value.call(this);\n\n            // Review the position\n            if (adjustNumeric) {\n                var p = null;\n                for (var i = 0; i < n.length; i++) {\n                    if (n[i].match(/[\\-0-9]/g) || n[i] == '.' || n[i] == ',') {\n                        p = i;\n                    }\n                }\n\n                // If the string has no numbers\n                if (p === null) {\n                    p = n.indexOf(' ');\n                }\n\n                if (index >= p) {\n                    index = p + 1;\n                }\n            }\n\n            // Do not update caret\n            if (index > n.length) {\n                index = n.length;\n            }\n\n            if (index) {\n                // Set caret\n                if (this.tagName == 'DIV') {\n                    var s = window.getSelection();\n                    var r = document.createRange();\n\n                    if (this.childNodes[0]) {\n                        r.setStart(this.childNodes[0], index);\n                        s.removeAllRanges();\n                        s.addRange(r);\n                    }\n                } else {\n                    this.selectionStart = index;\n                    this.selectionEnd = index;\n                }\n            }\n        }\n    }\n\n    /**\n     * Value getter and setter method\n     */\n    var Value = function(v, updateCaret, adjustNumeric) {\n        if (this.tagName == 'DIV') {\n            if (v === undefined) {\n                var v = this.innerText;\n                if (this.value && this.value.length > v.length) {\n                    v = this.value;\n                }\n                return v;\n            } else {\n                if (this.innerText !== v) {\n                    this.innerText = v;\n\n                    if (updateCaret) {\n                        Caret.call(this, updateCaret, adjustNumeric);\n                    }\n                }\n            }\n        } else {\n            if (v === undefined) {\n                return this.value;\n            } else {\n                if (this.value !== v) {\n                    this.value = v;\n                    if (updateCaret) {\n                        Caret.call(this, updateCaret, adjustNumeric);\n                    }\n                }\n            }\n        }\n    }\n\n    // Labels\n    var weekDaysFull = helpers_date.weekdays;\n    var weekDays = helpers_date.weekdaysShort;\n    var monthsFull = helpers_date.months;\n    var months = helpers_date.monthsShort;\n\n    var parser = {\n        'YEAR': function(v, s) {\n            var y = ''+new Date().getFullYear();\n\n            if (typeof(this.values[this.index]) === 'undefined') {\n                this.values[this.index] = '';\n            }\n            if (parseInt(v) >= 0 && parseInt(v) <= 10) {\n                if (this.values[this.index].length < s) {\n                    this.values[this.index] += v;\n                }\n            }\n            if (this.values[this.index].length == s) {\n                if (s == 2) {\n                    var y = y.substr(0,2) + this.values[this.index];\n                } else if (s == 3) {\n                    var y = y.substr(0,1) + this.values[this.index];\n                } else if (s == 4) {\n                    var y = this.values[this.index];\n                }\n                this.date[0] = y;\n                this.index++;\n            }\n        },\n        'YYYY': function(v) {\n            parser.YEAR.call(this, v, 4);\n        },\n        'YYY': function(v) {\n            parser.YEAR.call(this, v, 3);\n        },\n        'YY': function(v) {\n            parser.YEAR.call(this, v, 2);\n        },\n        'FIND': function(v, a) {\n            if (isBlank(this.values[this.index])) {\n                this.values[this.index] = '';\n            }\n            if (this.event && this.event.inputType && this.event.inputType.indexOf('delete') > -1) {\n                this.values[this.index] += v;\n                return;\n            }\n            var pos = 0;\n            var count = 0;\n            var value = (this.values[this.index] + v).toLowerCase();\n            for (var i = 0; i < a.length; i++) {\n                if (a[i].toLowerCase().indexOf(value) == 0) {\n                    pos = i;\n                    count++;\n                }\n            }\n            if (count > 1) {\n                this.values[this.index] += v;\n            } else if (count == 1) {\n                // Jump number of chars\n                var t = (a[pos].length - this.values[this.index].length) - 1;\n                this.position += t;\n\n                this.values[this.index] = a[pos];\n                this.index++;\n                return pos;\n            }\n        },\n        'MMM': function(v) {\n            var ret = parser.FIND.call(this, v, months);\n            if (ret !== undefined) {\n                this.date[1] = ret + 1;\n            }\n        },\n        'MON': function(v) {\n            parser['MMM'].call(this, v);\n        },\n        'MMMM': function(v) {\n            var ret = parser.FIND.call(this, v, monthsFull);\n            if (ret !== undefined) {\n                this.date[1] = ret + 1;\n            }\n        },\n        'MONTH': function(v) {\n            parser['MMMM'].call(this, v);\n        },\n        'MMMMM': function(v) {\n            if (isBlank(this.values[this.index])) {\n                this.values[this.index] = '';\n            }\n            var pos = 0;\n            var count = 0;\n            var value = (this.values[this.index] + v).toLowerCase();\n            for (var i = 0; i < monthsFull.length; i++) {\n                if (monthsFull[i][0].toLowerCase().indexOf(value) == 0) {\n                    this.values[this.index] = monthsFull[i][0];\n                    this.date[1] = i + 1;\n                    this.index++;\n                    break;\n                }\n            }\n        },\n        'MM': function(v) {\n            if (isBlank(this.values[this.index])) {\n                if (parseInt(v) > 1 && parseInt(v) < 10) {\n                    this.date[1] = this.values[this.index] = '0' + v;\n                    this.index++;\n                } else if (parseInt(v) < 2) {\n                    this.values[this.index] = v;\n                }\n            } else {\n                if (this.values[this.index] == 1 && parseInt(v) < 3) {\n                    this.date[1] = this.values[this.index] += v;\n                    this.index++;\n                } else if (this.values[this.index] == 0 && parseInt(v) > 0 && parseInt(v) < 10) {\n                    this.date[1] = this.values[this.index] += v;\n                    this.index++;\n                }\n            }\n        },\n        'M': function(v) {\n            var test = false;\n            if (parseInt(v) >= 0 && parseInt(v) < 10) {\n                if (isBlank(this.values[this.index])) {\n                    this.values[this.index] = v;\n                    if (v > 1) {\n                        this.date[1] = this.values[this.index];\n                        this.index++;\n                    }\n                } else {\n                    if (this.values[this.index] == 1 && parseInt(v) < 3) {\n                        this.date[1] = this.values[this.index] += v;\n                        this.index++;\n                    } else if (this.values[this.index] == 0 && parseInt(v) > 0) {\n                        this.date[1] = this.values[this.index] += v;\n                        this.index++;\n                    } else {\n                        var test = true;\n                    }\n                }\n            } else {\n                var test = true;\n            }\n\n            // Re-test\n            if (test == true) {\n                var t = parseInt(this.values[this.index]);\n                if (t > 0 && t < 12) {\n                    this.date[2] = this.values[this.index];\n                    this.index++;\n                    // Repeat the character\n                    this.position--;\n                }\n            }\n        },\n        'D': function(v) {\n            var test = false;\n            if (parseInt(v) >= 0 && parseInt(v) < 10) {\n                if (isBlank(this.values[this.index])) {\n                    this.values[this.index] = v;\n                    if (parseInt(v) > 3) {\n                        this.date[2] = this.values[this.index];\n                        this.index++;\n                    }\n                } else {\n                    if (this.values[this.index] == 3 && parseInt(v) < 2) {\n                        this.date[2] = this.values[this.index] += v;\n                        this.index++;\n                    } else if (this.values[this.index] == 1 || this.values[this.index] == 2) {\n                        this.date[2] = this.values[this.index] += v;\n                        this.index++;\n                    } else if (this.values[this.index] == 0 && parseInt(v) > 0) {\n                        this.date[2] = this.values[this.index] += v;\n                        this.index++;\n                    } else {\n                        var test = true;\n                    }\n                }\n            } else {\n                var test = true;\n            }\n\n            // Re-test\n            if (test == true) {\n                var t = parseInt(this.values[this.index]);\n                if (t > 0 && t < 32) {\n                    this.date[2] = this.values[this.index];\n                    this.index++;\n                    // Repeat the character\n                    this.position--;\n                }\n            }\n        },\n        'DD': function(v) {\n            if (isBlank(this.values[this.index])) {\n                if (parseInt(v) > 3 && parseInt(v) < 10) {\n                    this.date[2] = this.values[this.index] = '0' + v;\n                    this.index++;\n                } else if (parseInt(v) < 10) {\n                    this.values[this.index] = v;\n                }\n            } else {\n                if (this.values[this.index] == 3 && parseInt(v) < 2) {\n                    this.date[2] = this.values[this.index] += v;\n                    this.index++;\n                } else if ((this.values[this.index] == 1 || this.values[this.index] == 2) && parseInt(v) < 10) {\n                    this.date[2] = this.values[this.index] += v;\n                    this.index++;\n                } else if (this.values[this.index] == 0 && parseInt(v) > 0 && parseInt(v) < 10) {\n                    this.date[2] = this.values[this.index] += v;\n                    this.index++;\n                }\n            }\n        },\n        'DDD': function(v) {\n            parser.FIND.call(this, v, weekDays);\n        },\n        'DY': function(v) {\n            parser['DDD'].call(this, v);\n        },\n        'DDDD': function(v) {\n            parser.FIND.call(this, v, weekDaysFull);\n        },\n        'DAY': function(v) {\n            parser['DDDD'].call(this, v);\n        },\n        'HH12': function(v, two) {\n            if (isBlank(this.values[this.index])) {\n                if (parseInt(v) > 1 && parseInt(v) < 10) {\n                    if (two) {\n                        v = 0 + v;\n                    }\n                    this.date[3] = this.values[this.index] = v;\n                    this.index++;\n                } else if (parseInt(v) < 10) {\n                    this.values[this.index] = v;\n                }\n            } else {\n                if (this.values[this.index] == 1 && parseInt(v) < 3) {\n                    this.date[3] = this.values[this.index] += v;\n                    this.index++;\n                } else if (this.values[this.index] < 1 && parseInt(v) < 10) {\n                    this.date[3] = this.values[this.index] += v;\n                    this.index++;\n                }\n            }\n        },\n        'HH24': function(v, two) {\n            var test = false;\n            if (parseInt(v) >= 0 && parseInt(v) < 10) {\n                if (this.values[this.index] == null || this.values[this.index] == '') {\n                    if (parseInt(v) > 2 && parseInt(v) < 10) {\n                        if (two) {\n                            v = 0 + v;\n                        }\n                        this.date[3] = this.values[this.index] = v;\n                        this.index++;\n                    } else if (parseInt(v) < 10) {\n                        this.values[this.index] = v;\n                    }\n                } else {\n                    if (this.values[this.index] == 2 && parseInt(v) < 4) {\n                        this.date[3] = this.values[this.index] += v;\n                        this.index++;\n                    } else if (this.values[this.index] < 2 && parseInt(v) < 10) {\n                        this.date[3] = this.values[this.index] += v;\n                        this.index++;\n                    }\n                }\n            }\n        },\n        'HH': function(v) {\n            parser['HH24'].call(this, v, 1);\n        },\n        'H': function(v) {\n            parser['HH24'].call(this, v, 0);\n        },\n        '\\\\[H\\\\]': function(v) {\n            if (this.values[this.index] == undefined) {\n                this.values[this.index] = '';\n            }\n            if (v.match(/[0-9]/g)) {\n                this.date[3] = this.values[this.index] += v;\n            } else {\n                if (this.values[this.index].match(/[0-9]/g)) {\n                    this.date[3] = this.values[this.index];\n                    this.index++;\n                    // Repeat the character\n                    this.position--;\n                }\n            }\n        },\n        'N60': function(v, i) {\n            if (this.values[this.index] == null || this.values[this.index] == '') {\n                if (parseInt(v) > 5 && parseInt(v) < 10) {\n                    this.date[i] = this.values[this.index] = '0' + v;\n                    this.index++;\n                } else if (parseInt(v) < 10) {\n                    this.values[this.index] = v;\n                }\n            } else {\n                if (parseInt(v) < 10) {\n                    this.date[i] = this.values[this.index] += v;\n                    this.index++;\n                 }\n            }\n        },\n        'MI': function(v) {\n            parser.N60.call(this, v, 4);\n        },\n        'SS': function(v) {\n            parser.N60.call(this, v, 5);\n        },\n        'AM/PM': function(v) {\n            this.values[this.index] = '';\n            if (v) {\n                if (this.date[3] > 12) {\n                    this.values[this.index] = 'PM';\n                } else {\n                    this.values[this.index] = 'AM';\n                }\n            }\n            this.index++;\n        },\n        'WD': function(v) {\n            if (typeof(this.values[this.index]) === 'undefined') {\n                this.values[this.index] = '';\n            }\n            if (parseInt(v) >= 0 && parseInt(v) < 7) {\n                this.values[this.index] = v;\n            }\n            if (this.value[this.index].length == 1) {\n                this.index++;\n            }\n        },\n        '0{1}(.{1}0+)?': function(v) {\n            // Get decimal\n            var decimal = getDecimal.call(this);\n            // Negative number\n            var neg = false;\n            // Create if is blank\n            if (isBlank(this.values[this.index])) {\n                this.values[this.index] = '';\n            } else {\n                if (this.values[this.index] == '-') {\n                    neg = true;\n                }\n            }\n            var current = ParseValue.call(this, this.values[this.index], decimal);\n            if (current) {\n                this.values[this.index] = current.join(decimal);\n            }\n            // New entry\n            if (parseInt(v) >= 0 && parseInt(v) < 10) {\n                // Replace the zero for a number\n                if (this.values[this.index] == '0' && v > 0) {\n                    this.values[this.index] = '';\n                } else if (this.values[this.index] == '-0' && v > 0) {\n                    this.values[this.index] = '-';\n                }\n                // Don't add up zeros because does not mean anything here\n                if ((this.values[this.index] != '0' && this.values[this.index] != '-0') || v == decimal) {\n                    this.values[this.index] += v;\n                }\n            } else if (decimal && v == decimal) {\n                if (this.values[this.index].indexOf(decimal) == -1) {\n                    if (! this.values[this.index]) {\n                        this.values[this.index] = '0';\n                    }\n                    this.values[this.index] += v;\n                }\n            } else if (v == '-') {\n                // Negative signed\n                neg = true;\n            }\n\n            if (neg === true && this.values[this.index][0] !== '-') {\n                this.values[this.index] = '-' + this.values[this.index];\n            }\n        },\n        '0{1}(.{1}0+)?%': function(v) {\n            parser['0{1}(.{1}0+)?'].call(this, v);\n\n            if (this.values[this.index].match(/[\\-0-9]/g)) {\n                if (this.values[this.index] && this.values[this.index].indexOf('%') == -1) {\n                    this.values[this.index] += '%';\n                }\n            } else {\n                this.values[this.index] = '';\n            }\n        },\n        '#(.{1})##0?(.{1}0+)?( ?;(.*)?)?': function(v) {\n            // Parse number\n            parser['0{1}(.{1}0+)?'].call(this, v);\n            // Get decimal\n            var decimal = getDecimal.call(this);\n            // Get separator\n            var separator = this.tokens[this.index].substr(1,1);\n            // Negative\n            var negative = this.values[this.index][0] === '-' ? true : false;\n            // Current value\n            var current = ParseValue.call(this, this.values[this.index], decimal);\n\n            // Get main and decimal parts\n            if (current !== '') {\n                // Format number\n                var n = current[0].match(/[0-9]/g);\n                if (n) {\n                    // Format\n                    n = n.join('');\n                    var t = [];\n                    var s = 0;\n                    for (var j = n.length - 1; j >= 0 ; j--) {\n                        t.push(n[j]);\n                        s++;\n                        if (! (s % 3)) {\n                            t.push(separator);\n                        }\n                    }\n                    t = t.reverse();\n                    current[0] = t.join('');\n                    if (current[0].substr(0,1) == separator) {\n                        current[0] = current[0].substr(1);\n                    }\n                } else {\n                    current[0] = '';\n                }\n\n                // Value\n                this.values[this.index] = current.join(decimal);\n\n                // Negative\n                if (negative) {\n                    this.values[this.index] = '-' + this.values[this.index];\n                }\n            }\n        },\n        '0': function(v) {\n            if (v.match(/[0-9]/g)) {\n                this.values[this.index] = v;\n                this.index++;\n            }\n        },\n        '[0-9a-zA-Z$]+': function(v) {\n            if (isBlank(this.values[this.index])) {\n                this.values[this.index] = '';\n            }\n            var t = this.tokens[this.index];\n            var s = this.values[this.index];\n            var i = s.length;\n\n            if (t[i] == v) {\n                this.values[this.index] += v;\n\n                if (this.values[this.index] == t) {\n                    this.index++;\n                }\n            } else {\n                this.values[this.index] = t;\n                this.index++;\n\n                if (v.match(/[\\-0-9]/g)) {\n                    // Repeat the character\n                    this.position--;\n                }\n            }\n        },\n        'A': function(v) {\n            if (v.match(/[a-zA-Z]/gi)) {\n                this.values[this.index] = v;\n                this.index++;\n            }\n        },\n        '.': function(v) {\n            parser['[0-9a-zA-Z$]+'].call(this, v);\n        },\n        '@': function(v) {\n            if (isBlank(this.values[this.index])) {\n                this.values[this.index] = '';\n            }\n            this.values[this.index] += v;\n        }\n    }\n\n    /**\n     * Get the tokens in the mask string\n     */\n    var getTokens = function(str) {\n        if (this.type == 'general') {\n            var t = [].concat(tokens.general);\n        } else {\n            var t = [].concat(tokens.currency, tokens.datetime, tokens.percentage, tokens.numeric, tokens.text, tokens.general);\n        }\n        // Expression to extract all tokens from the string\n        var e = new RegExp(t.join('|'), 'gi');\n        // Extract\n        return str.match(e);\n    }\n\n    /**\n     * Get the method of one given token\n     */\n    var getMethod = function(str) {\n        if (! this.type) {\n            var types = Object.keys(tokens);\n        } else if (this.type == 'text') {\n            var types = [ 'text' ];\n        } else if (this.type == 'general') {\n            var types = [ 'general' ];\n        } else if (this.type == 'datetime') {\n            var types = [ 'numeric', 'datetime', 'general' ];\n        } else {\n            var types = [ 'currency', 'percentage', 'numeric', 'general' ];\n        }\n\n        // Found\n        for (var i = 0; i < types.length; i++) {\n            var type = types[i];\n            for (var j = 0; j < tokens[type].length; j++) {\n                var e = new RegExp(tokens[type][j], 'gi');\n                var r = str.match(e);\n                if (r) {\n                    return { type: type, method: tokens[type][j] }\n                }\n            }\n        }\n    }\n\n    /**\n     * Identify each method for each token\n     */\n    var getMethods = function(t) {\n        var result = [];\n        for (var i = 0; i < t.length; i++) {\n            var m = getMethod.call(this, t[i]);\n            if (m) {\n                result.push(m.method);\n            } else {\n                result.push(null);\n            }\n        }\n\n        // Compatibility with excel\n        for (var i = 0; i < result.length; i++) {\n            if (result[i] == 'MM') {\n                // Not a month, correct to minutes\n                if (result[i-1] && result[i-1].indexOf('H') >= 0) {\n                    result[i] = 'MI';\n                } else if (result[i-2] && result[i-2].indexOf('H') >= 0) {\n                    result[i] = 'MI';\n                } else if (result[i+1] && result[i+1].indexOf('S') >= 0) {\n                    result[i] = 'MI';\n                } else if (result[i+2] && result[i+2].indexOf('S') >= 0) {\n                    result[i] = 'MI';\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Get the type for one given token\n     */\n    var getType = function(str) {\n        var m = getMethod.call(this, str);\n        if (m) {\n            var type = m.type;\n        }\n\n        if (type) {\n            var numeric = 0;\n            // Make sure the correct type\n            var t = getTokens.call(this, str);\n            for (var i = 0; i < t.length; i++) {\n                m = getMethod.call(this, t[i]);\n                if (m && isNumeric(m.type)) {\n                    numeric++;\n                }\n            }\n            if (numeric > 1) {\n                type = 'general';\n            }\n        }\n\n        return type;\n    }\n\n    /**\n     * Parse character per character using the detected tokens in the mask\n     */\n    var parse = function() {\n        // Parser method for this position\n        if (typeof(parser[this.methods[this.index]]) == 'function') {\n            parser[this.methods[this.index]].call(this, this.value[this.position]);\n            this.position++;\n        } else {\n            this.values[this.index] = this.tokens[this.index];\n            this.index++;\n        }\n    }\n\n    var isFormula = function(value) {\n        var v = (''+value)[0];\n        return v == '=' ? true : false;\n    }\n\n    var toPlainString = function(num) {\n        return (''+ +num).replace(/(-?)(\\d*)\\.?(\\d*)e([+-]\\d+)/,\n          function(a,b,c,d,e) {\n            return e < 0\n              ? b + '0.' + Array(1-e-c.length).join(0) + c + d\n              : b + c + d + Array(e-d.length+1).join(0);\n          });\n    }\n\n    /**\n     * Mask function\n     * @param {mixed|string} JS input or a string to be parsed\n     * @param {object|string} When the first param is a string, the second is the mask or object with the mask options\n     */\n    var obj = function(e, config, returnObject) {\n        // Options\n        var r = null;\n        var t = null;\n        var o = {\n            // Element\n            input: null,\n            // Current value\n            value: null,\n            // Mask options\n            options: {},\n            // New values for each token found\n            values: [],\n            // Token position\n            index: 0,\n            // Character position\n            position: 0,\n            // Date raw values\n            date: [0,0,0,0,0,0],\n            // Raw number for the numeric values\n            number: 0,\n        }\n\n        // This is a JavaScript Event\n        if (typeof(e) == 'object') {\n            // Element\n            o.input = e.target;\n            // Current value\n            o.value = Value.call(e.target);\n            // Current caret position\n            o.caret = Caret.call(e.target);\n            // Mask\n            if (t = e.target.getAttribute('data-mask')) {\n                o.mask = t;\n            }\n            // Type\n            if (t = e.target.getAttribute('data-type')) {\n                o.type = t;\n            }\n            // Options\n            if (e.target.mask) {\n                if (e.target.mask.options) {\n                    o.options = e.target.mask.options;\n                }\n                if (e.target.mask.locale) {\n                    o.locale = e.target.mask.locale;\n                }\n            } else {\n                // Locale\n                if (t = e.target.getAttribute('data-locale')) {\n                    o.locale = t;\n                    if (o.mask) {\n                        o.options.style = o.mask;\n                    }\n                }\n            }\n            // Extra configuration\n            if (e.target.attributes && e.target.attributes.length) {\n                for (var i = 0; i < e.target.attributes.length; i++) {\n                    var k = e.target.attributes[i].name;\n                    var v = e.target.attributes[i].value;\n                    if (k.substr(0,4) == 'data') {\n                        o.options[k.substr(5)] = v;\n                    }\n                }\n            }\n        } else {\n            // Options\n            if (typeof(config) == 'string') {\n                // Mask\n                o.mask = config;\n            } else {\n                // Mask\n                var k = Object.keys(config);\n                for (var i = 0; i < k.length; i++) {\n                    o[k[i]] = config[k[i]];\n                }\n            }\n\n            if (typeof(e) === 'number') {\n                // Get decimal\n                getDecimal.call(o, o.mask);\n                // Replace to the correct decimal\n                e = (''+e).replace('.', o.options.decimal);\n            }\n\n            // Current\n            o.value = e;\n\n            if (o.input) {\n                // Value\n                Value.call(o.input, e);\n                // Focus\n                helpers.focus(o.input);\n                // Caret\n                o.caret = Caret.call(o.input);\n            }\n        }\n\n        // Mask detected start the process\n        if (! isFormula(o.value) && (o.mask || o.locale)) {\n            // Compatibility fixes\n            if (o.mask) {\n                // Remove []\n                o.mask = o.mask.replace(new RegExp(/\\[h]/),'|h|');\n                o.mask = o.mask.replace(new RegExp(/\\[.*?\\]/),'');\n                o.mask = o.mask.replace(new RegExp(/\\|h\\|/),'[h]');\n                if (o.mask.indexOf(';') !== -1) {\n                    var t = o.mask.split(';');\n                    o.mask = t[0];\n                }\n                // Excel mask TODO: Improve\n                if (o.mask.indexOf('##') !== -1) {\n                    var d = o.mask.split(';');\n                    if (d[0]) {\n                        d[0] = d[0].replace('*', '\\t');\n                        d[0] = d[0].replace(new RegExp(/_-/g), ' ');\n                        d[0] = d[0].replace(new RegExp(/_/g), '');\n                        d[0] = d[0].replace('##0.###','##0.000');\n                        d[0] = d[0].replace('##0.##','##0.00');\n                        d[0] = d[0].replace('##0.#','##0.0');\n                        d[0] = d[0].replace('##0,###','##0,000');\n                        d[0] = d[0].replace('##0,##','##0,00');\n                        d[0] = d[0].replace('##0,#','##0,0');\n                    }\n                    o.mask = d[0];\n                }\n                // Get type\n                if (! o.type) {\n                    o.type = getType.call(o, o.mask);\n                }\n                // Get tokens\n                o.tokens = getTokens.call(o, o.mask);\n            }\n\n            // On new input\n            if (typeof(e) !== 'object'  || ! e.inputType || ! e.inputType.indexOf('insert') || ! e.inputType.indexOf('delete')) {\n                // Start transformation\n                if (o.locale) {\n                    if (o.input) {\n                        Format.call(o, o.input, e);\n                    } else {\n                        var newValue = FormatValue.call(o, o.value);\n                    }\n                } else {\n                    // Get tokens\n                    o.methods = getMethods.call(o, o.tokens);\n                    o.event = e;\n\n                    // Go through all tokes\n                    while (o.position < o.value.length && typeof(o.tokens[o.index]) !== 'undefined') {\n                        // Get the appropriate parser\n                        parse.call(o);\n                    }\n\n                    // New value\n                    var newValue = o.values.join('');\n\n                    // Add tokens to the end of string only if string is not empty\n                    if (isNumeric(o.type) && newValue !== '') {\n                        // Complement things in the end of the mask\n                        while (typeof(o.tokens[o.index]) !== 'undefined') {\n                            var t = getMethod.call(o, o.tokens[o.index]);\n                            if (t && t.type == 'general') {\n                                o.values[o.index] = o.tokens[o.index];\n                            }\n                            o.index++;\n                        }\n\n                        var adjustNumeric = true;\n                    } else {\n                        var adjustNumeric = false;\n                    }\n\n                    // New value\n                    newValue = o.values.join('');\n\n                    // Reset value\n                    if (o.input) {\n                        t = newValue.length - o.value.length;\n                        if (t > 0) {\n                            var caret = o.caret + t;\n                        } else {\n                            var caret = o.caret;\n                        }\n                        Value.call(o.input, newValue, caret, adjustNumeric);\n                    }\n                }\n            }\n\n            // Update raw data\n            if (o.input) {\n                var label = null;\n                if (isNumeric(o.type)) {\n                    // Extract the number\n                    o.number = Extract.call(o, Value.call(o.input));\n                    // Keep the raw data as a property of the tag\n                    if (o.type == 'percentage') {\n                        label = o.number / 100;\n                    } else {\n                        label = o.number;\n                    }\n                } else if (o.type == 'datetime') {\n                    label = getDate.call(o);\n\n                    if (o.date[0] && o.date[1] && o.date[2]) {\n                        o.input.setAttribute('data-completed', true);\n                    }\n                }\n\n                if (label) {\n                    o.input.setAttribute('data-value', label);\n                }\n            }\n\n            if (newValue !== undefined) {\n                if (returnObject) {\n                    return o;\n                } else {\n                    return newValue;\n                }\n            }\n        }\n    }\n\n    // Get the type of the mask\n    obj.getType = getType;\n\n    // Extract the tokens from a mask\n    obj.prepare = function(str, o) {\n        if (! o) {\n            o = {};\n        }\n        return getTokens.call(o, str);\n    }\n\n    /**\n     * Apply the mask to a element (legacy)\n     */\n    obj.apply = function(e) {\n        var v = Value.call(e.target);\n        if (e.key.length == 1) {\n            v += e.key;\n        }\n        Value.call(e.target, obj(v, e.target.getAttribute('data-mask')));\n    }\n\n    /**\n     * Legacy support\n     */\n    obj.run = function(value, mask, decimal) {\n        return obj(value, { mask: mask, decimal: decimal });\n    }\n\n    /**\n     * Extract number from masked string\n     */\n    obj.extract = function(v, options, returnObject) {\n        if (isBlank(v)) {\n            return v;\n        }\n        if (typeof(options) != 'object') {\n            return v;\n        } else {\n            options = Object.assign({}, options);\n\n            if (! options.options) {\n                options.options = {};\n            }\n        }\n\n        // Compatibility\n        if (! options.mask && options.format) {\n            options.mask = options.format;\n        }\n\n        // Remove []\n        if (options.mask) {\n            if (options.mask.indexOf(';') !== -1) {\n                var t = options.mask.split(';');\n                options.mask = t[0];\n            }\n            options.mask = options.mask.replace(new RegExp(/\\[h]/),'|h|');\n            options.mask = options.mask.replace(new RegExp(/\\[.*?\\]/),'');\n            options.mask = options.mask.replace(new RegExp(/\\|h\\|/),'[h]');\n        }\n\n        // Get decimal\n        getDecimal.call(options, options.mask);\n\n        var type = null;\n        var value = null;\n\n        if (options.type == 'percent' || options.options.style == 'percent') {\n            type = 'percentage';\n        } else if (options.mask) {\n            type = getType.call(options, options.mask);\n        }\n\n        if (type === 'general') {\n            var o = obj(v, options, true);\n\n            value = v;\n        } else if (type === 'datetime') {\n            if (v instanceof Date) {\n                v = obj.getDateString(v, options.mask);\n            }\n\n            var o = obj(v, options, true);\n\n            if (helpers.isNumeric(v)) {\n                value = v;\n            } else {\n                value = extractDate.call(o);\n            }\n        } else {\n            value = Extract.call(options, v);\n            // Percentage\n            if (type == 'percentage') {\n                value /= 100;\n            }\n            var o = options;\n        }\n\n        o.value = value;\n\n        if (! o.type && type) {\n            o.type = type;\n        }\n\n        if (returnObject) {\n            return o;\n        } else {\n            return value;\n        }\n    }\n\n    /**\n     * Render\n     */\n    obj.render = function(value, options, fullMask) {\n        if (isBlank(value)) {\n            return value;\n        }\n\n        if (typeof(options) != 'object') {\n            return value;\n        } else {\n            options = Object.assign({}, options);\n\n            if (! options.options) {\n                options.options = {};\n            }\n        }\n\n        // Compatibility\n        if (! options.mask && options.format) {\n            options.mask = options.format;\n        }\n\n        // Remove []\n        if (options.mask) {\n            if (options.mask.indexOf(';') !== -1) {\n                var t = options.mask.split(';');\n                options.mask = t[0];\n            }\n            options.mask = options.mask.replace(new RegExp(/\\[h]/),'|h|');\n            options.mask = options.mask.replace(new RegExp(/\\[.*?\\]/),'');\n            options.mask = options.mask.replace(new RegExp(/\\|h\\|/),'[h]');\n        }\n\n        var type = null;\n        if (options.type == 'percent' || options.options.style == 'percent') {\n            type = 'percentage';\n        } else if (options.mask) {\n            type = getType.call(options, options.mask);\n        } else if (value instanceof Date) {\n            type = 'datetime';\n        }\n\n        // Fill with blanks\n        var fillWithBlanks = false;\n\n        if (type =='datetime' || options.type == 'calendar') {\n            var t = obj.getDateString(value, options.mask);\n            if (t) {\n                value = t;\n            }\n            if (options.mask && fullMask) {\n                fillWithBlanks = true;\n            }\n        } else {\n            // Percentage\n            if (type == 'percentage') {\n                value *= 100;\n            }\n            // Number of decimal places\n            if (typeof(value) === 'number') {\n                var t = null;\n                if (options.mask && fullMask && ((''+value).indexOf('e') === -1)) {\n                    var d = getDecimal.call(options, options.mask);\n                    if (options.mask.indexOf(d) !== -1) {\n                        d = options.mask.split(d);\n                        d = (''+d[1].match(/[0-9]+/g))\n                        d = d.length;\n                        t = value.toFixed(d);\n                    } else {\n                        t = value.toFixed(0);\n                    }\n                } else if (options.locale && fullMask) {\n                    // Append zeros\n                    var d = (''+value).split('.');\n                    if (options.options) {\n                        if (typeof(d[1]) === 'undefined') {\n                            d[1] = '';\n                        }\n                        var len = d[1].length;\n                        if (options.options.minimumFractionDigits > len) {\n                            for (var i = 0; i < options.options.minimumFractionDigits - len; i++) {\n                                d[1] += '0';\n                            }\n                        }\n                    }\n                    if (! d[1].length) {\n                        t = d[0]\n                    } else {\n                        t = d.join('.');\n                    }\n                    var len = d[1].length;\n                    if (options.options && options.options.maximumFractionDigits < len) {\n                        t = parseFloat(t).toFixed(options.options.maximumFractionDigits);\n                    }\n                } else {\n                    t = toPlainString(value);\n                }\n\n                if (t !== null) {\n                    value = t;\n                    // Get decimal\n                    getDecimal.call(options, options.mask);\n                    // Replace to the correct decimal\n                    if (options.options.decimal) {\n                        value = value.replace('.', options.options.decimal);\n                    }\n                }\n            } else {\n                if (options.mask && fullMask) {\n                    fillWithBlanks = true;\n                }\n            }\n        }\n\n        if (fillWithBlanks) {\n            var s = options.mask.length - value.length;\n            if (s > 0) {\n                for (var i = 0; i < s; i++) {\n                    value += ' ';\n                }\n            }\n        }\n\n        value = obj(value, options);\n\n        // Numeric mask, number of zeros\n        if (fullMask && type === 'numeric') {\n            var maskZeros = options.mask.match(new RegExp(/^[0]+$/gm));\n            if (maskZeros && maskZeros.length === 1) {\n                var maskLength = maskZeros[0].length;\n                if (maskLength > 3) {\n                    value = '' + value;\n                    while (value.length < maskLength) {\n                        value = '0' + value;\n                    }\n                }\n            }\n        }\n\n        return value;\n    }\n\n    obj.set = function(e, m) {\n        if (m) {\n            e.setAttribute('data-mask', m);\n            // Reset the value\n            var event = new Event('input', {\n                bubbles: true,\n                cancelable: true,\n            });\n            e.dispatchEvent(event);\n        }\n    }\n\n    // Helper to extract date from a string\n    obj.extractDateFromString = function (date, format) {\n        var o = obj(date, { mask: format }, true);\n\n        // Check if in format Excel (Need difference with format date or type detected is numeric)\n        if (date > 0 && Number(date) == date && (o.values.join(\"\") !== o.value || o.type == \"numeric\")) {\n            var d = new Date(Math.round((date - 25569) * 86400 * 1000));\n            return d.getFullYear() + \"-\" + helpers.two(d.getMonth()) + \"-\" + helpers.two(d.getDate()) + ' 00:00:00';\n        }\n\n        var complete = false;\n\n        if (o.values.length === o.tokens.length && o.values[o.values.length - 1].length >= o.tokens[o.tokens.length - 1].length) {\n            complete = true;\n        }\n\n        if (o.date[0] && o.date[1] && (o.date[2] || complete)) {\n            if (!o.date[2]) {\n                o.date[2] = 1;\n            }\n\n            return o.date[0] + '-' + helpers.two(o.date[1]) + '-' + helpers.two(o.date[2]) + ' ' + helpers.two(o.date[3]) + ':' + helpers.two(o.date[4]) + ':' + helpers.two(o.date[5]);\n        }\n\n        return '';\n    }\n\n    // Helper to convert date into string\n    obj.getDateString = function (value, options) {\n        if (!options) {\n            var options = {};\n        }\n\n        // Labels\n        if (options && typeof (options) == 'object') {\n            var format = options.format;\n        } else {\n            var format = options;\n        }\n\n        if (!format) {\n            format = 'YYYY-MM-DD';\n        }\n\n        // Convert to number of hours\n        if (format.indexOf('[h]') >= 0) {\n            var result = 0;\n            if (value && helpers.isNumeric(value)) {\n                result = parseFloat(24 * Number(value));\n                if (format.indexOf('mm') >= 0) {\n                    var h = ('' + result).split('.');\n                    if (h[1]) {\n                        var d = 60 * parseFloat('0.' + h[1])\n                        d = parseFloat(d.toFixed(2));\n                    } else {\n                        var d = 0;\n                    }\n                    result = parseInt(h[0]) + ':' + helpers.two(d);\n                }\n            }\n            return result;\n        }\n\n        // Date instance\n        if (value instanceof Date) {\n            value = helpers_date.now(value);\n        } else if (value && helpers.isNumeric(value)) {\n            value = helpers_date.numToDate(value);\n        }\n\n        // Tokens\n        var tokens = ['DAY', 'WD', 'DDDD', 'DDD', 'DD', 'D', 'Q', 'HH24', 'HH12', 'HH', 'H', 'AM/PM', 'MI', 'SS', 'MS', 'YYYY', 'YYY', 'YY', 'Y', 'MONTH', 'MON', 'MMMMM', 'MMMM', 'MMM', 'MM', 'M', '.'];\n\n        // Expression to extract all tokens from the string\n        var e = new RegExp(tokens.join('|'), 'gi');\n        // Extract\n        var t = format.match(e);\n\n        // Compatibility with excel\n        for (var i = 0; i < t.length; i++) {\n            if (t[i].toUpperCase() == 'MM') {\n                // Not a month, correct to minutes\n                if (t[i - 1] && t[i - 1].toUpperCase().indexOf('H') >= 0) {\n                    t[i] = 'mi';\n                } else if (t[i - 2] && t[i - 2].toUpperCase().indexOf('H') >= 0) {\n                    t[i] = 'mi';\n                } else if (t[i + 1] && t[i + 1].toUpperCase().indexOf('S') >= 0) {\n                    t[i] = 'mi';\n                } else if (t[i + 2] && t[i + 2].toUpperCase().indexOf('S') >= 0) {\n                    t[i] = 'mi';\n                }\n            }\n        }\n\n        // Object\n        var o = {\n            tokens: t\n        }\n\n        // Value\n        if (value) {\n            var d = '' + value;\n            var splitStr = (d.indexOf('T') !== -1) ? 'T' : ' ';\n            d = d.split(splitStr);\n\n            var h = 0;\n            var m = 0;\n            var s = 0;\n\n            if (d[1]) {\n                h = d[1].split(':');\n                m = h[1] ? h[1] : 0;\n                s = h[2] ? h[2] : 0;\n                h = h[0] ? h[0] : 0;\n            }\n\n            d = d[0].split('-');\n\n            if (d[0] && d[1] && d[2] && d[0] > 0 && d[1] > 0 && d[1] < 13 && d[2] > 0 && d[2] < 32) {\n\n                // Data\n                o.data = [d[0], d[1], d[2], h, m, s];\n\n                // Value\n                o.value = [];\n\n                // Calendar instance\n                var calendar = new Date(o.data[0], o.data[1] - 1, o.data[2], o.data[3], o.data[4], o.data[5]);\n\n                // Get method\n                var get = function (i) {\n                    // Token\n                    var t = this.tokens[i];\n                    // Case token\n                    var s = t.toUpperCase();\n                    var v = null;\n\n                    if (s === 'YYYY') {\n                        v = this.data[0];\n                    } else if (s === 'YYY') {\n                        v = this.data[0].substring(1, 4);\n                    } else if (s === 'YY') {\n                        v = this.data[0].substring(2, 4);\n                    } else if (s === 'Y') {\n                        v = this.data[0].substring(3, 4);\n                    } else if (t === 'MON') {\n                        v = helpers_date.months[calendar.getMonth()].substr(0, 3).toUpperCase();\n                    } else if (t === 'mon') {\n                        v = helpers_date.months[calendar.getMonth()].substr(0, 3).toLowerCase();\n                    } else if (t === 'MONTH') {\n                        v = helpers_date.months[calendar.getMonth()].toUpperCase();\n                    } else if (t === 'month') {\n                        v = helpers_date.months[calendar.getMonth()].toLowerCase();\n                    } else if (s === 'MMMMM') {\n                        v = helpers_date.months[calendar.getMonth()].substr(0, 1);\n                    } else if (s === 'MMMM' || t === 'Month') {\n                        v = helpers_date.months[calendar.getMonth()];\n                    } else if (s === 'MMM' || t == 'Mon') {\n                        v = helpers_date.months[calendar.getMonth()].substr(0, 3);\n                    } else if (s === 'MM') {\n                        v = helpers.two(this.data[1]);\n                    } else if (s === 'M') {\n                        v = calendar.getMonth() + 1;\n                    } else if (t === 'DAY') {\n                        v = helpers_date.weekdays[calendar.getDay()].toUpperCase();\n                    } else if (t === 'day') {\n                        v = helpers_date.weekdays[calendar.getDay()].toLowerCase();\n                    } else if (s === 'DDDD' || t == 'Day') {\n                        v = helpers_date.weekdays[calendar.getDay()];\n                    } else if (s === 'DDD') {\n                        v = helpers_date.weekdays[calendar.getDay()].substr(0, 3);\n                    } else if (s === 'DD') {\n                        v = helpers.two(this.data[2]);\n                    } else if (s === 'D') {\n                        v = this.data[2];\n                    } else if (s === 'Q') {\n                        v = Math.floor((calendar.getMonth() + 3) / 3);\n                    } else if (s === 'HH24' || s === 'HH') {\n                        v = helpers.two(this.data[3]);\n                    } else if (s === 'HH12') {\n                        if (this.data[3] > 12) {\n                            v = helpers.two(this.data[3] - 12);\n                        } else {\n                            v = helpers.two(this.data[3]);\n                        }\n                    } else if (s === 'H') {\n                        v = this.data[3];\n                    } else if (s === 'MI') {\n                        v = helpers.two(this.data[4]);\n                    } else if (s === 'SS') {\n                        v = helpers.two(this.data[5]);\n                    } else if (s === 'MS') {\n                        v = calendar.getMilliseconds();\n                    } else if (s === 'AM/PM') {\n                        if (this.data[3] >= 12) {\n                            v = 'PM';\n                        } else {\n                            v = 'AM';\n                        }\n                    } else if (s === 'WD') {\n                        v = helpers_date.weekdays[calendar.getDay()];\n                    }\n\n                    if (v === null) {\n                        this.value[i] = this.tokens[i];\n                    } else {\n                        this.value[i] = v;\n                    }\n                }\n\n                for (var i = 0; i < o.tokens.length; i++) {\n                    get.call(o, i);\n                }\n                // Put pieces together\n                value = o.value.join('');\n            } else {\n                value = '';\n            }\n        }\n\n        return value;\n    }\n\n    if (typeof document !== 'undefined') {\n        document.addEventListener('input', function(e) {\n            if (e.target.getAttribute('data-mask') || e.target.mask) {\n                obj(e);\n            }\n        });\n    }\n\n    return obj;\n}\n\n/* harmony default export */ var mask = (Mask());\n;// CONCATENATED MODULE: ./src/plugins/calendar.js\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Calendar() {\r\n    var Component = (function (el, options) {\r\n        // Already created, update options\r\n        if (el.calendar) {\r\n            return el.calendar.setOptions(options, true);\r\n        }\r\n\r\n        // New instance\r\n        var obj = {type: 'calendar'};\r\n        obj.options = {};\r\n\r\n        // Date\r\n        obj.date = null;\r\n\r\n        /**\r\n         * Update options\r\n         */\r\n        obj.setOptions = function (options, reset) {\r\n            // Default configuration\r\n            var defaults = {\r\n                // Render type: [ default | year-month-picker ]\r\n                type: 'default',\r\n                // Restrictions\r\n                validRange: null,\r\n                // Starting weekday - 0 for sunday, 6 for saturday\r\n                startingDay: null,\r\n                // Date format\r\n                format: 'DD/MM/YYYY',\r\n                // Allow keyboard date entry\r\n                readonly: true,\r\n                // Today is default\r\n                today: false,\r\n                // Show timepicker\r\n                time: false,\r\n                // Show the reset button\r\n                resetButton: true,\r\n                // Placeholder\r\n                placeholder: '',\r\n                // Translations can be done here\r\n                months: helpers_date.monthsShort,\r\n                monthsFull: helpers_date.months,\r\n                weekdays: helpers_date.weekdays,\r\n                textDone: dictionary.translate('Done'),\r\n                textReset: dictionary.translate('Reset'),\r\n                textUpdate: dictionary.translate('Update'),\r\n                // Value\r\n                value: null,\r\n                // Fullscreen (this is automatic set for screensize < 800)\r\n                fullscreen: false,\r\n                // Create the calendar closed as default\r\n                opened: false,\r\n                // Events\r\n                onopen: null,\r\n                onclose: null,\r\n                onchange: null,\r\n                onupdate: null,\r\n                // Internal mode controller\r\n                mode: null,\r\n                position: null,\r\n                // Data type\r\n                dataType: null,\r\n                // Controls\r\n                controls: true,\r\n            }\r\n\r\n            // Loop through our object\r\n            for (var property in defaults) {\r\n                if (options && options.hasOwnProperty(property)) {\r\n                    obj.options[property] = options[property];\r\n                } else {\r\n                    if (typeof (obj.options[property]) == 'undefined' || reset === true) {\r\n                        obj.options[property] = defaults[property];\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Reset button\r\n            if (obj.options.resetButton == false) {\r\n                calendarReset.style.display = 'none';\r\n            } else {\r\n                calendarReset.style.display = '';\r\n            }\r\n\r\n            // Readonly\r\n            if (obj.options.readonly) {\r\n                el.setAttribute('readonly', 'readonly');\r\n            } else {\r\n                el.removeAttribute('readonly');\r\n            }\r\n\r\n            // Placeholder\r\n            if (obj.options.placeholder) {\r\n                el.setAttribute('placeholder', obj.options.placeholder);\r\n            } else {\r\n                el.removeAttribute('placeholder');\r\n            }\r\n\r\n            if (helpers.isNumeric(obj.options.value) && obj.options.value > 0) {\r\n                obj.options.value = Component.numToDate(obj.options.value);\r\n                // Data type numeric\r\n                obj.options.dataType = 'numeric';\r\n            }\r\n\r\n            // Texts\r\n            calendarReset.innerHTML = obj.options.textReset;\r\n            calendarConfirm.innerHTML = obj.options.textDone;\r\n            calendarControlsUpdateButton.innerHTML = obj.options.textUpdate;\r\n\r\n            // Define mask\r\n            el.setAttribute('data-mask', obj.options.format.toLowerCase());\r\n\r\n            // Value\r\n            if (!obj.options.value && obj.options.today) {\r\n                var value = Component.now();\r\n            } else {\r\n                var value = obj.options.value;\r\n            }\r\n\r\n            // Set internal date\r\n            if (value) {\r\n                // Force the update\r\n                obj.options.value = null;\r\n                // New value\r\n                obj.setValue(value);\r\n            }\r\n\r\n            return obj;\r\n        }\r\n\r\n        /**\r\n         * Open the calendar\r\n         */\r\n        obj.open = function (value) {\r\n            if (!calendar.classList.contains('jcalendar-focus')) {\r\n                if (!calendar.classList.contains('jcalendar-inline')) {\r\n                    // Current\r\n                    Component.current = obj;\r\n                    // Start tracking\r\n                    Tracking(obj, true);\r\n                    // Create the days\r\n                    obj.getDays();\r\n                    // Render months\r\n                    if (obj.options.type == 'year-month-picker') {\r\n                        obj.getMonths();\r\n                    }\r\n                    // Get time\r\n                    if (obj.options.time) {\r\n                        calendarSelectHour.value = obj.date[3];\r\n                        calendarSelectMin.value = obj.date[4];\r\n                    }\r\n\r\n                    // Show calendar\r\n                    calendar.classList.add('jcalendar-focus');\r\n\r\n                    // Get the position of the corner helper\r\n                    if (helpers.getWindowWidth() < 800 || obj.options.fullscreen) {\r\n                        calendar.classList.add('jcalendar-fullsize');\r\n                        // Animation\r\n                        animation.slideBottom(calendarContent, 1);\r\n                    } else {\r\n                        calendar.classList.remove('jcalendar-fullsize');\r\n\r\n                        var rect = el.getBoundingClientRect();\r\n                        var rectContent = calendarContent.getBoundingClientRect();\r\n\r\n                        if (obj.options.position) {\r\n                            calendarContainer.style.position = 'fixed';\r\n                            if (window.innerHeight < rect.bottom + rectContent.height) {\r\n                                calendarContainer.style.top = (rect.top - (rectContent.height + 2)) + 'px';\r\n                            } else {\r\n                                calendarContainer.style.top = (rect.top + rect.height + 2) + 'px';\r\n                            }\r\n                            calendarContainer.style.left = rect.left + 'px';\r\n                        } else {\r\n                            if (window.innerHeight < rect.bottom + rectContent.height) {\r\n                                var d = -1 * (rect.height + rectContent.height + 2);\r\n                                if (d + rect.top < 0) {\r\n                                    d = -1 * (rect.top + rect.height);\r\n                                }\r\n                                calendarContainer.style.top = d + 'px';\r\n                            } else {\r\n                                calendarContainer.style.top = 2 + 'px';\r\n                            }\r\n\r\n                            if (window.innerWidth < rect.left + rectContent.width) {\r\n                                var d = window.innerWidth - (rect.left + rectContent.width + 20);\r\n                                calendarContainer.style.left = d + 'px';\r\n                            } else {\r\n                                calendarContainer.style.left = '0px';\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // Events\r\n                    if (typeof (obj.options.onopen) == 'function') {\r\n                        obj.options.onopen(el);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        obj.close = function (ignoreEvents, update) {\r\n            if (calendar.classList.contains('jcalendar-focus')) {\r\n                if (update !== false) {\r\n                    var element = calendar.querySelector('.jcalendar-selected');\r\n\r\n                    if (typeof (update) == 'string') {\r\n                        var value = update;\r\n                    } else if (!element || element.classList.contains('jcalendar-disabled')) {\r\n                        var value = obj.options.value\r\n                    } else {\r\n                        var value = obj.getValue();\r\n                    }\r\n\r\n                    obj.setValue(value);\r\n                }\r\n\r\n                // Events\r\n                if (!ignoreEvents && typeof (obj.options.onclose) == 'function') {\r\n                    obj.options.onclose(el);\r\n                }\r\n                // Hide\r\n                calendar.classList.remove('jcalendar-focus');\r\n                // Stop tracking\r\n                Tracking(obj, false);\r\n                // Current\r\n                Component.current = null;\r\n            }\r\n\r\n            return obj.options.value;\r\n        }\r\n\r\n        obj.prev = function () {\r\n            // Check if the visualization is the days picker or years picker\r\n            if (obj.options.mode == 'years') {\r\n                obj.date[0] = obj.date[0] - 12;\r\n\r\n                // Update picker table of days\r\n                obj.getYears();\r\n            } else if (obj.options.mode == 'months') {\r\n                obj.date[0] = parseInt(obj.date[0]) - 1;\r\n                // Update picker table of months\r\n                obj.getMonths();\r\n            } else {\r\n                // Go to the previous month\r\n                if (obj.date[1] < 2) {\r\n                    obj.date[0] = obj.date[0] - 1;\r\n                    obj.date[1] = 12;\r\n                } else {\r\n                    obj.date[1] = obj.date[1] - 1;\r\n                }\r\n\r\n                // Update picker table of days\r\n                obj.getDays();\r\n            }\r\n        }\r\n\r\n        obj.next = function () {\r\n            // Check if the visualization is the days picker or years picker\r\n            if (obj.options.mode == 'years') {\r\n                obj.date[0] = parseInt(obj.date[0]) + 12;\r\n\r\n                // Update picker table of days\r\n                obj.getYears();\r\n            } else if (obj.options.mode == 'months') {\r\n                obj.date[0] = parseInt(obj.date[0]) + 1;\r\n                // Update picker table of months\r\n                obj.getMonths();\r\n            } else {\r\n                // Go to the previous month\r\n                if (obj.date[1] > 11) {\r\n                    obj.date[0] = parseInt(obj.date[0]) + 1;\r\n                    obj.date[1] = 1;\r\n                } else {\r\n                    obj.date[1] = parseInt(obj.date[1]) + 1;\r\n                }\r\n\r\n                // Update picker table of days\r\n                obj.getDays();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Set today\r\n         */\r\n        obj.setToday = function () {\r\n            // Today\r\n            var value = new Date().toISOString().substr(0, 10);\r\n            // Change value\r\n            obj.setValue(value);\r\n            // Value\r\n            return value;\r\n        }\r\n\r\n        obj.setValue = function (val) {\r\n            if (!val) {\r\n                val = '' + val;\r\n            }\r\n            // Values\r\n            var newValue = val;\r\n            var oldValue = obj.options.value;\r\n\r\n            if (oldValue != newValue) {\r\n                // Set label\r\n                if (!newValue) {\r\n                    obj.date = null;\r\n                    var val = '';\r\n                    el.classList.remove('jcalendar_warning');\r\n                    el.title = '';\r\n                } else {\r\n                    var value = obj.setLabel(newValue, obj.options);\r\n                    var date = newValue.split(' ');\r\n                    if (!date[1]) {\r\n                        date[1] = '00:00:00';\r\n                    }\r\n                    var time = date[1].split(':')\r\n                    var date = date[0].split('-');\r\n                    var y = parseInt(date[0]);\r\n                    var m = parseInt(date[1]);\r\n                    var d = parseInt(date[2]);\r\n                    var h = parseInt(time[0]);\r\n                    var i = parseInt(time[1]);\r\n                    obj.date = [y, m, d, h, i, 0];\r\n                    var val = obj.setLabel(newValue, obj.options);\r\n\r\n                    // Current selection day\r\n                    var current = Component.now(new Date(y, m - 1, d), true);\r\n\r\n                    // Available ranges\r\n                    if (obj.options.validRange) {\r\n                        if (!obj.options.validRange[0] || current >= obj.options.validRange[0]) {\r\n                            var test1 = true;\r\n                        } else {\r\n                            var test1 = false;\r\n                        }\r\n\r\n                        if (!obj.options.validRange[1] || current <= obj.options.validRange[1]) {\r\n                            var test2 = true;\r\n                        } else {\r\n                            var test2 = false;\r\n                        }\r\n\r\n                        if (!(test1 && test2)) {\r\n                            el.classList.add('jcalendar_warning');\r\n                            el.title = dictionary.translate('Date outside the valid range');\r\n                        } else {\r\n                            el.classList.remove('jcalendar_warning');\r\n                            el.title = '';\r\n                        }\r\n                    } else {\r\n                        el.classList.remove('jcalendar_warning');\r\n                        el.title = '';\r\n                    }\r\n                }\r\n\r\n                // New value\r\n                obj.options.value = newValue;\r\n\r\n                if (typeof (obj.options.onchange) == 'function') {\r\n                    obj.options.onchange(el, newValue, oldValue);\r\n                }\r\n\r\n                // Lemonade JS\r\n                if (el.value != val) {\r\n                    el.value = val;\r\n                    if (typeof (el.oninput) == 'function') {\r\n                        el.oninput({\r\n                            type: 'input',\r\n                            target: el,\r\n                            value: el.value\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            obj.getDays();\r\n            // Render months\r\n            if (obj.options.type == 'year-month-picker') {\r\n                obj.getMonths();\r\n            }\r\n        }\r\n\r\n        obj.getValue = function () {\r\n            if (obj.date) {\r\n                if (obj.options.time) {\r\n                    return helpers.two(obj.date[0]) + '-' + helpers.two(obj.date[1]) + '-' + helpers.two(obj.date[2]) + ' ' + helpers.two(obj.date[3]) + ':' + helpers.two(obj.date[4]) + ':' + helpers.two(0);\r\n                } else {\r\n                    return helpers.two(obj.date[0]) + '-' + helpers.two(obj.date[1]) + '-' + helpers.two(obj.date[2]) + ' ' + helpers.two(0) + ':' + helpers.two(0) + ':' + helpers.two(0);\r\n                }\r\n            } else {\r\n                return \"\";\r\n            }\r\n        }\r\n\r\n        /**\r\n         *  Calendar\r\n         */\r\n        obj.update = function (element, v) {\r\n            if (element.classList.contains('jcalendar-disabled')) {\r\n                // Do nothing\r\n            } else {\r\n                var elements = calendar.querySelector('.jcalendar-selected');\r\n                if (elements) {\r\n                    elements.classList.remove('jcalendar-selected');\r\n                }\r\n                element.classList.add('jcalendar-selected');\r\n\r\n                if (element.classList.contains('jcalendar-set-month')) {\r\n                    obj.date[1] = v;\r\n                    obj.date[2] = 1; // first day of the month\r\n                } else {\r\n                    obj.date[2] = element.innerText;\r\n                }\r\n\r\n                if (!obj.options.time) {\r\n                    obj.close();\r\n                } else {\r\n                    obj.date[3] = calendarSelectHour.value;\r\n                    obj.date[4] = calendarSelectMin.value;\r\n                }\r\n            }\r\n\r\n            // Update\r\n            updateActions();\r\n        }\r\n\r\n        /**\r\n         * Set to blank\r\n         */\r\n        obj.reset = function () {\r\n            // Close calendar\r\n            obj.setValue('');\r\n            obj.date = null;\r\n            obj.close(false, false);\r\n        }\r\n\r\n        /**\r\n         * Get calendar days\r\n         */\r\n        obj.getDays = function () {\r\n            // Mode\r\n            obj.options.mode = 'days';\r\n\r\n            // Setting current values in case of NULLs\r\n            var date = new Date();\r\n\r\n            // Current selection\r\n            var year = obj.date && helpers.isNumeric(obj.date[0]) ? obj.date[0] : parseInt(date.getFullYear());\r\n            var month = obj.date && helpers.isNumeric(obj.date[1]) ? obj.date[1] : parseInt(date.getMonth()) + 1;\r\n            var day = obj.date && helpers.isNumeric(obj.date[2]) ? obj.date[2] : parseInt(date.getDate());\r\n            var hour = obj.date && helpers.isNumeric(obj.date[3]) ? obj.date[3] : parseInt(date.getHours());\r\n            var min = obj.date && helpers.isNumeric(obj.date[4]) ? obj.date[4] : parseInt(date.getMinutes());\r\n\r\n            // Selection container\r\n            obj.date = [year, month, day, hour, min, 0];\r\n\r\n            // Update title\r\n            calendarLabelYear.innerHTML = year;\r\n            calendarLabelMonth.innerHTML = obj.options.months[month - 1];\r\n\r\n            // Current month and Year\r\n            var isCurrentMonthAndYear = (date.getMonth() == month - 1) && (date.getFullYear() == year) ? true : false;\r\n            var currentDay = date.getDate();\r\n\r\n            // Number of days in the month\r\n            var date = new Date(year, month, 0, 0, 0);\r\n            var numberOfDays = date.getDate();\r\n\r\n            // First day\r\n            var date = new Date(year, month - 1, 0, 0, 0);\r\n            var firstDay = date.getDay() + 1;\r\n\r\n            // Index value\r\n            var index = obj.options.startingDay || 0;\r\n\r\n            // First of day relative to the starting calendar weekday\r\n            firstDay = firstDay - index;\r\n\r\n            // Reset table\r\n            calendarBody.innerHTML = '';\r\n\r\n            // Weekdays Row\r\n            var row = document.createElement('tr');\r\n            row.setAttribute('align', 'center');\r\n            calendarBody.appendChild(row);\r\n\r\n            // Create weekdays row\r\n            for (var i = 0; i < 7; i++) {\r\n                var cell = document.createElement('td');\r\n                cell.classList.add('jcalendar-weekday')\r\n                cell.innerHTML = obj.options.weekdays[index].substr(0, 1);\r\n                row.appendChild(cell);\r\n                // Next week day\r\n                index++;\r\n                // Restart index\r\n                if (index > 6) {\r\n                    index = 0;\r\n                }\r\n            }\r\n\r\n            // Index of days\r\n            var index = 0;\r\n            var d = 0;\r\n\r\n            // Calendar table\r\n            for (var j = 0; j < 6; j++) {\r\n                // Reset cells container\r\n                var row = document.createElement('tr');\r\n                row.setAttribute('align', 'center');\r\n                row.style.height = '34px';\r\n\r\n                // Create cells\r\n                for (var i = 0; i < 7; i++) {\r\n                    // Create cell\r\n                    var cell = document.createElement('td');\r\n                    cell.classList.add('jcalendar-set-day');\r\n\r\n                    if (index >= firstDay && index < (firstDay + numberOfDays)) {\r\n                        // Day cell\r\n                        d++;\r\n                        cell.innerHTML = d;\r\n\r\n                        // Selected\r\n                        if (d == day) {\r\n                            cell.classList.add('jcalendar-selected');\r\n                        }\r\n\r\n                        // Current selection day is today\r\n                        if (isCurrentMonthAndYear && currentDay == d) {\r\n                            cell.style.fontWeight = 'bold';\r\n                        }\r\n\r\n                        // Current selection day\r\n                        var current = Component.now(new Date(year, month - 1, d), true);\r\n\r\n                        // Available ranges\r\n                        if (obj.options.validRange) {\r\n                            if (!obj.options.validRange[0] || current >= obj.options.validRange[0]) {\r\n                                var test1 = true;\r\n                            } else {\r\n                                var test1 = false;\r\n                            }\r\n\r\n                            if (!obj.options.validRange[1] || current <= obj.options.validRange[1]) {\r\n                                var test2 = true;\r\n                            } else {\r\n                                var test2 = false;\r\n                            }\r\n\r\n                            if (!(test1 && test2)) {\r\n                                cell.classList.add('jcalendar-disabled');\r\n                            }\r\n                        }\r\n                    }\r\n                    // Day cell\r\n                    row.appendChild(cell);\r\n                    // Index\r\n                    index++;\r\n                }\r\n\r\n                // Add cell to the calendar body\r\n                calendarBody.appendChild(row);\r\n            }\r\n\r\n            // Show time controls\r\n            if (obj.options.time) {\r\n                calendarControlsTime.style.display = '';\r\n            } else {\r\n                calendarControlsTime.style.display = 'none';\r\n            }\r\n\r\n            // Update\r\n            updateActions();\r\n        }\r\n\r\n        obj.getMonths = function () {\r\n            // Mode\r\n            obj.options.mode = 'months';\r\n\r\n            // Loading month labels\r\n            var months = obj.options.months;\r\n\r\n            // Value\r\n            var value = obj.options.value;\r\n\r\n            // Current date\r\n            var date = new Date();\r\n            var currentYear = parseInt(date.getFullYear());\r\n            var currentMonth = parseInt(date.getMonth()) + 1;\r\n            var selectedYear = obj.date && helpers.isNumeric(obj.date[0]) ? obj.date[0] : currentYear;\r\n            var selectedMonth = obj.date && helpers.isNumeric(obj.date[1]) ? obj.date[1] : currentMonth;\r\n\r\n            // Update title\r\n            calendarLabelYear.innerHTML = obj.date[0];\r\n            calendarLabelMonth.innerHTML = months[selectedMonth - 1];\r\n\r\n            // Table\r\n            var table = document.createElement('table');\r\n            table.setAttribute('width', '100%');\r\n\r\n            // Row\r\n            var row = null;\r\n\r\n            // Calendar table\r\n            for (var i = 0; i < 12; i++) {\r\n                if (!(i % 4)) {\r\n                    // Reset cells container\r\n                    var row = document.createElement('tr');\r\n                    row.setAttribute('align', 'center');\r\n                    table.appendChild(row);\r\n                }\r\n\r\n                // Create cell\r\n                var cell = document.createElement('td');\r\n                cell.classList.add('jcalendar-set-month');\r\n                cell.setAttribute('data-value', i + 1);\r\n                cell.innerText = months[i];\r\n\r\n                if (obj.options.validRange) {\r\n                    var current = selectedYear + '-' + helpers.two(i + 1);\r\n                    if (!obj.options.validRange[0] || current >= obj.options.validRange[0].substr(0, 7)) {\r\n                        var test1 = true;\r\n                    } else {\r\n                        var test1 = false;\r\n                    }\r\n\r\n                    if (!obj.options.validRange[1] || current <= obj.options.validRange[1].substr(0, 7)) {\r\n                        var test2 = true;\r\n                    } else {\r\n                        var test2 = false;\r\n                    }\r\n\r\n                    if (!(test1 && test2)) {\r\n                        cell.classList.add('jcalendar-disabled');\r\n                    }\r\n                }\r\n\r\n                if (i + 1 == selectedMonth) {\r\n                    cell.classList.add('jcalendar-selected');\r\n                }\r\n\r\n                if (currentYear == selectedYear && i + 1 == currentMonth) {\r\n                    cell.style.fontWeight = 'bold';\r\n                }\r\n\r\n                row.appendChild(cell);\r\n            }\r\n\r\n            calendarBody.innerHTML = '<tr><td colspan=\"7\"></td></tr>';\r\n            calendarBody.children[0].children[0].appendChild(table);\r\n\r\n            // Update\r\n            updateActions();\r\n        }\r\n\r\n        obj.getYears = function () {\r\n            // Mode\r\n            obj.options.mode = 'years';\r\n\r\n            // Current date\r\n            var date = new Date();\r\n            var currentYear = date.getFullYear();\r\n            var selectedYear = obj.date && helpers.isNumeric(obj.date[0]) ? obj.date[0] : parseInt(date.getFullYear());\r\n\r\n            // Array of years\r\n            var y = [];\r\n            for (var i = 0; i < 25; i++) {\r\n                y[i] = parseInt(obj.date[0]) + (i - 12);\r\n            }\r\n\r\n            // Assembling the year tables\r\n            var table = document.createElement('table');\r\n            table.setAttribute('width', '100%');\r\n\r\n            for (var i = 0; i < 25; i++) {\r\n                if (!(i % 5)) {\r\n                    // Reset cells container\r\n                    var row = document.createElement('tr');\r\n                    row.setAttribute('align', 'center');\r\n                    table.appendChild(row);\r\n                }\r\n\r\n                // Create cell\r\n                var cell = document.createElement('td');\r\n                cell.classList.add('jcalendar-set-year');\r\n                cell.innerText = y[i];\r\n\r\n                if (selectedYear == y[i]) {\r\n                    cell.classList.add('jcalendar-selected');\r\n                }\r\n\r\n                if (currentYear == y[i]) {\r\n                    cell.style.fontWeight = 'bold';\r\n                }\r\n\r\n                row.appendChild(cell);\r\n            }\r\n\r\n            calendarBody.innerHTML = '<tr><td colspan=\"7\"></td></tr>';\r\n            calendarBody.firstChild.firstChild.appendChild(table);\r\n\r\n            // Update\r\n            updateActions();\r\n        }\r\n\r\n        obj.setLabel = function (value, mixed) {\r\n            return Component.getDateString(value, mixed);\r\n        }\r\n\r\n        obj.fromFormatted = function (value, format) {\r\n            return Component.extractDateFromString(value, format);\r\n        }\r\n\r\n        var mouseUpControls = function (e) {\r\n            var element = helpers.findElement(e.target, 'jcalendar-container');\r\n            if (element) {\r\n                var action = e.target.className;\r\n\r\n                // Object id\r\n                if (action == 'jcalendar-prev') {\r\n                    obj.prev();\r\n                } else if (action == 'jcalendar-next') {\r\n                    obj.next();\r\n                } else if (action == 'jcalendar-month') {\r\n                    obj.getMonths();\r\n                } else if (action == 'jcalendar-year') {\r\n                    obj.getYears();\r\n                } else if (action == 'jcalendar-set-year') {\r\n                    obj.date[0] = e.target.innerText;\r\n                    if (obj.options.type == 'year-month-picker') {\r\n                        obj.getMonths();\r\n                    } else {\r\n                        obj.getDays();\r\n                    }\r\n                } else if (e.target.classList.contains('jcalendar-set-month')) {\r\n                    var month = parseInt(e.target.getAttribute('data-value'));\r\n                    if (obj.options.type == 'year-month-picker') {\r\n                        obj.update(e.target, month);\r\n                    } else {\r\n                        obj.date[1] = month;\r\n                        obj.getDays();\r\n                    }\r\n                } else if (action == 'jcalendar-confirm' || action == 'jcalendar-update' || action == 'jcalendar-close') {\r\n                    obj.close();\r\n                } else if (action == 'jcalendar-backdrop') {\r\n                    obj.close(false, false);\r\n                } else if (action == 'jcalendar-reset') {\r\n                    obj.reset();\r\n                } else if (e.target.classList.contains('jcalendar-set-day') && e.target.innerText) {\r\n                    obj.update(e.target);\r\n                }\r\n            } else {\r\n                obj.close();\r\n            }\r\n        }\r\n\r\n        var keyUpControls = function (e) {\r\n            if (e.target.value && e.target.value.length > 3) {\r\n                var test = Component.extractDateFromString(e.target.value, obj.options.format);\r\n                if (test) {\r\n                    obj.setValue(test);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Update actions button\r\n        var updateActions = function () {\r\n            var currentDay = calendar.querySelector('.jcalendar-selected');\r\n\r\n            if (currentDay && currentDay.classList.contains('jcalendar-disabled')) {\r\n                calendarControlsUpdateButton.setAttribute('disabled', 'disabled');\r\n                calendarSelectHour.setAttribute('disabled', 'disabled');\r\n                calendarSelectMin.setAttribute('disabled', 'disabled');\r\n            } else {\r\n                calendarControlsUpdateButton.removeAttribute('disabled');\r\n                calendarSelectHour.removeAttribute('disabled');\r\n                calendarSelectMin.removeAttribute('disabled');\r\n            }\r\n\r\n            // Event\r\n            if (typeof (obj.options.onupdate) == 'function') {\r\n                obj.options.onupdate(el, obj.getValue());\r\n            }\r\n        }\r\n\r\n        var calendar = null;\r\n        var calendarReset = null;\r\n        var calendarConfirm = null;\r\n        var calendarContainer = null;\r\n        var calendarContent = null;\r\n        var calendarLabelYear = null;\r\n        var calendarLabelMonth = null;\r\n        var calendarTable = null;\r\n        var calendarBody = null;\r\n\r\n        var calendarControls = null;\r\n        var calendarControlsTime = null;\r\n        var calendarControlsUpdate = null;\r\n        var calendarControlsUpdateButton = null;\r\n        var calendarSelectHour = null;\r\n        var calendarSelectMin = null;\r\n\r\n        var init = function () {\r\n            // Get value from initial element if that is an input\r\n            if (el.tagName == 'INPUT' && el.value) {\r\n                options.value = el.value;\r\n            }\r\n\r\n            // Calendar DOM elements\r\n            calendarReset = document.createElement('div');\r\n            calendarReset.className = 'jcalendar-reset';\r\n\r\n            calendarConfirm = document.createElement('div');\r\n            calendarConfirm.className = 'jcalendar-confirm';\r\n\r\n            calendarControls = document.createElement('div');\r\n            calendarControls.className = 'jcalendar-controls'\r\n            calendarControls.style.borderBottom = '1px solid #ddd';\r\n            calendarControls.appendChild(calendarReset);\r\n            calendarControls.appendChild(calendarConfirm);\r\n\r\n            calendarContainer = document.createElement('div');\r\n            calendarContainer.className = 'jcalendar-container';\r\n            calendarContent = document.createElement('div');\r\n            calendarContent.className = 'jcalendar-content';\r\n            calendarContainer.appendChild(calendarContent);\r\n\r\n            // Main element\r\n            if (el.tagName == 'DIV') {\r\n                calendar = el;\r\n                calendar.classList.add('jcalendar-inline');\r\n            } else {\r\n                // Add controls to the screen\r\n                calendarContent.appendChild(calendarControls);\r\n\r\n                calendar = document.createElement('div');\r\n                calendar.className = 'jcalendar';\r\n            }\r\n            calendar.classList.add('jcalendar-container');\r\n            calendar.appendChild(calendarContainer);\r\n\r\n            // Table container\r\n            var calendarTableContainer = document.createElement('div');\r\n            calendarTableContainer.className = 'jcalendar-table';\r\n            calendarContent.appendChild(calendarTableContainer);\r\n\r\n            // Previous button\r\n            var calendarHeaderPrev = document.createElement('td');\r\n            calendarHeaderPrev.setAttribute('colspan', '2');\r\n            calendarHeaderPrev.className = 'jcalendar-prev';\r\n\r\n            // Header with year and month\r\n            calendarLabelYear = document.createElement('span');\r\n            calendarLabelYear.className = 'jcalendar-year';\r\n            calendarLabelMonth = document.createElement('span');\r\n            calendarLabelMonth.className = 'jcalendar-month';\r\n\r\n            var calendarHeaderTitle = document.createElement('td');\r\n            calendarHeaderTitle.className = 'jcalendar-header';\r\n            calendarHeaderTitle.setAttribute('colspan', '3');\r\n            calendarHeaderTitle.appendChild(calendarLabelMonth);\r\n            calendarHeaderTitle.appendChild(calendarLabelYear);\r\n\r\n            var calendarHeaderNext = document.createElement('td');\r\n            calendarHeaderNext.setAttribute('colspan', '2');\r\n            calendarHeaderNext.className = 'jcalendar-next';\r\n\r\n            var calendarHeader = document.createElement('thead');\r\n            var calendarHeaderRow = document.createElement('tr');\r\n            calendarHeaderRow.appendChild(calendarHeaderPrev);\r\n            calendarHeaderRow.appendChild(calendarHeaderTitle);\r\n            calendarHeaderRow.appendChild(calendarHeaderNext);\r\n            calendarHeader.appendChild(calendarHeaderRow);\r\n\r\n            calendarTable = document.createElement('table');\r\n            calendarBody = document.createElement('tbody');\r\n            calendarTable.setAttribute('cellpadding', '0');\r\n            calendarTable.setAttribute('cellspacing', '0');\r\n            calendarTable.appendChild(calendarHeader);\r\n            calendarTable.appendChild(calendarBody);\r\n            calendarTableContainer.appendChild(calendarTable);\r\n\r\n            calendarSelectHour = document.createElement('select');\r\n            calendarSelectHour.className = 'jcalendar-select';\r\n            calendarSelectHour.onchange = function () {\r\n                obj.date[3] = this.value;\r\n\r\n                // Event\r\n                if (typeof (obj.options.onupdate) == 'function') {\r\n                    obj.options.onupdate(el, obj.getValue());\r\n                }\r\n            }\r\n\r\n            for (var i = 0; i < 24; i++) {\r\n                var element = document.createElement('option');\r\n                element.value = i;\r\n                element.innerHTML = helpers.two(i);\r\n                calendarSelectHour.appendChild(element);\r\n            }\r\n\r\n            calendarSelectMin = document.createElement('select');\r\n            calendarSelectMin.className = 'jcalendar-select';\r\n            calendarSelectMin.onchange = function () {\r\n                obj.date[4] = this.value;\r\n\r\n                // Event\r\n                if (typeof (obj.options.onupdate) == 'function') {\r\n                    obj.options.onupdate(el, obj.getValue());\r\n                }\r\n            }\r\n\r\n            for (var i = 0; i < 60; i++) {\r\n                var element = document.createElement('option');\r\n                element.value = i;\r\n                element.innerHTML = helpers.two(i);\r\n                calendarSelectMin.appendChild(element);\r\n            }\r\n\r\n            // Footer controls\r\n            var calendarControlsFooter = document.createElement('div');\r\n            calendarControlsFooter.className = 'jcalendar-controls';\r\n\r\n            calendarControlsTime = document.createElement('div');\r\n            calendarControlsTime.className = 'jcalendar-time';\r\n            calendarControlsTime.style.maxWidth = '140px';\r\n            calendarControlsTime.appendChild(calendarSelectHour);\r\n            calendarControlsTime.appendChild(calendarSelectMin);\r\n\r\n            calendarControlsUpdateButton = document.createElement('button');\r\n            calendarControlsUpdateButton.setAttribute('type', 'button');\r\n            calendarControlsUpdateButton.className = 'jcalendar-update';\r\n\r\n            calendarControlsUpdate = document.createElement('div');\r\n            calendarControlsUpdate.style.flexGrow = '10';\r\n            calendarControlsUpdate.appendChild(calendarControlsUpdateButton);\r\n            calendarControlsFooter.appendChild(calendarControlsTime);\r\n\r\n            // Only show the update button for input elements\r\n            if (el.tagName == 'INPUT') {\r\n                calendarControlsFooter.appendChild(calendarControlsUpdate);\r\n            }\r\n\r\n            calendarContent.appendChild(calendarControlsFooter);\r\n\r\n            var calendarBackdrop = document.createElement('div');\r\n            calendarBackdrop.className = 'jcalendar-backdrop';\r\n            calendar.appendChild(calendarBackdrop);\r\n\r\n            // Handle events\r\n            el.addEventListener(\"keyup\", keyUpControls);\r\n\r\n            // Add global events\r\n            calendar.addEventListener(\"swipeleft\", function (e) {\r\n                animation.slideLeft(calendarTable, 0, function () {\r\n                    obj.next();\r\n                    animation.slideRight(calendarTable, 1);\r\n                });\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            });\r\n\r\n            calendar.addEventListener(\"swiperight\", function (e) {\r\n                animation.slideRight(calendarTable, 0, function () {\r\n                    obj.prev();\r\n                    animation.slideLeft(calendarTable, 1);\r\n                });\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            });\r\n\r\n            if ('ontouchend' in document.documentElement === true) {\r\n                calendar.addEventListener(\"touchend\", mouseUpControls);\r\n                el.addEventListener(\"touchend\", obj.open);\r\n            } else {\r\n                calendar.addEventListener(\"mouseup\", mouseUpControls);\r\n                el.addEventListener(\"mouseup\", obj.open);\r\n            }\r\n\r\n            // Global controls\r\n            if (!Component.hasEvents) {\r\n                // Execute only one time\r\n                Component.hasEvents = true;\r\n                // Enter and Esc\r\n                document.addEventListener(\"keydown\", Component.keydown);\r\n            }\r\n\r\n            // Set configuration\r\n            obj.setOptions(options);\r\n\r\n            // Append element to the DOM\r\n            if (el.tagName == 'INPUT') {\r\n                el.parentNode.insertBefore(calendar, el.nextSibling);\r\n                // Add properties\r\n                el.setAttribute('autocomplete', 'off');\r\n                // Element\r\n                el.classList.add('jcalendar-input');\r\n                // Value\r\n                el.value = obj.setLabel(obj.getValue(), obj.options);\r\n            } else {\r\n                // Get days\r\n                obj.getDays();\r\n                // Hour\r\n                if (obj.options.time) {\r\n                    calendarSelectHour.value = obj.date[3];\r\n                    calendarSelectMin.value = obj.date[4];\r\n                }\r\n            }\r\n\r\n            // Default opened\r\n            if (obj.options.opened == true) {\r\n                obj.open();\r\n            }\r\n\r\n            // Controls\r\n            if (obj.options.controls == false) {\r\n                calendarContainer.classList.add('jcalendar-hide-controls');\r\n            }\r\n\r\n            // Change method\r\n            el.change = obj.setValue;\r\n\r\n            // Global generic value handler\r\n            el.val = function (val) {\r\n                if (val === undefined) {\r\n                    return obj.getValue();\r\n                } else {\r\n                    obj.setValue(val);\r\n                }\r\n            }\r\n\r\n            // Keep object available from the node\r\n            el.calendar = calendar.calendar = obj;\r\n        }\r\n\r\n        init();\r\n\r\n        return obj;\r\n    });\r\n\r\n    Component.keydown = function (e) {\r\n        var calendar = null;\r\n        if (calendar = Component.current) {\r\n            if (e.which == 13) {\r\n                // ENTER\r\n                calendar.close(false, true);\r\n            } else if (e.which == 27) {\r\n                // ESC\r\n                calendar.close(false, false);\r\n            }\r\n        }\r\n    }\r\n\r\n    Component.prettify = function (d, texts) {\r\n        if (!texts) {\r\n            var texts = {\r\n                justNow: 'Just now',\r\n                xMinutesAgo: '{0}m ago',\r\n                xHoursAgo: '{0}h ago',\r\n                xDaysAgo: '{0}d ago',\r\n                xWeeksAgo: '{0}w ago',\r\n                xMonthsAgo: '{0} mon ago',\r\n                xYearsAgo: '{0}y ago',\r\n            }\r\n        }\r\n\r\n        var d1 = new Date();\r\n        var d2 = new Date(d);\r\n        var total = parseInt((d1 - d2) / 1000 / 60);\r\n\r\n        String.prototype.format = function (o) {\r\n            return this.replace('{0}', o);\r\n        }\r\n\r\n        if (total == 0) {\r\n            var text = texts.justNow;\r\n        } else if (total < 90) {\r\n            var text = texts.xMinutesAgo.format(total);\r\n        } else if (total < 1440) { // One day\r\n            var text = texts.xHoursAgo.format(Math.round(total / 60));\r\n        } else if (total < 20160) { // 14 days\r\n            var text = texts.xDaysAgo.format(Math.round(total / 1440));\r\n        } else if (total < 43200) { // 30 days\r\n            var text = texts.xWeeksAgo.format(Math.round(total / 10080));\r\n        } else if (total < 1036800) { // 24 months\r\n            var text = texts.xMonthsAgo.format(Math.round(total / 43200));\r\n        } else { // 24 months+\r\n            var text = texts.xYearsAgo.format(Math.round(total / 525600));\r\n        }\r\n\r\n        return text;\r\n    }\r\n\r\n    Component.prettifyAll = function () {\r\n        var elements = document.querySelectorAll('.prettydate');\r\n        for (var i = 0; i < elements.length; i++) {\r\n            if (elements[i].getAttribute('data-date')) {\r\n                elements[i].innerHTML = Component.prettify(elements[i].getAttribute('data-date'));\r\n            } else {\r\n                if (elements[i].innerHTML) {\r\n                    elements[i].setAttribute('title', elements[i].innerHTML);\r\n                    elements[i].setAttribute('data-date', elements[i].innerHTML);\r\n                    elements[i].innerHTML = Component.prettify(elements[i].innerHTML);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    Component.now = helpers_date.now;\r\n    Component.toArray = helpers_date.toArray;\r\n    Component.dateToNum = helpers_date.dateToNum\r\n    Component.numToDate = helpers_date.numToDate;\r\n    Component.weekdays = helpers_date.weekdays;\r\n    Component.months = helpers_date.months;\r\n    Component.weekdaysShort = helpers_date.weekdaysShort;\r\n    Component.monthsShort = helpers_date.monthsShort;\r\n\r\n    // Legacy shortcut\r\n    Component.extractDateFromString = mask.extractDateFromString;\r\n    Component.getDateString = mask.getDateString;\r\n\r\n    return Component;\r\n}\r\n\r\n/* harmony default export */ var calendar = (Calendar());\n;// CONCATENATED MODULE: ./src/plugins/palette.js\n// More palettes https://coolors.co/ or https://gka.github.io/palettes/#/10|s|003790,005647,ffffe0|ffffe0,ff005e,93003a|1|1\r\n\r\nfunction Palette() {\r\n\r\n    var palette = {\r\n        material: [\r\n            [\"#ffebee\", \"#fce4ec\", \"#f3e5f5\", \"#e8eaf6\", \"#e3f2fd\", \"#e0f7fa\", \"#e0f2f1\", \"#e8f5e9\", \"#f1f8e9\", \"#f9fbe7\", \"#fffde7\", \"#fff8e1\", \"#fff3e0\", \"#fbe9e7\", \"#efebe9\", \"#fafafa\", \"#eceff1\"],\r\n            [\"#ffcdd2\", \"#f8bbd0\", \"#e1bee7\", \"#c5cae9\", \"#bbdefb\", \"#b2ebf2\", \"#b2dfdb\", \"#c8e6c9\", \"#dcedc8\", \"#f0f4c3\", \"#fff9c4\", \"#ffecb3\", \"#ffe0b2\", \"#ffccbc\", \"#d7ccc8\", \"#f5f5f5\", \"#cfd8dc\"],\r\n            [\"#ef9a9a\", \"#f48fb1\", \"#ce93d8\", \"#9fa8da\", \"#90caf9\", \"#80deea\", \"#80cbc4\", \"#a5d6a7\", \"#c5e1a5\", \"#e6ee9c\", \"#fff59d\", \"#ffe082\", \"#ffcc80\", \"#ffab91\", \"#bcaaa4\", \"#eeeeee\", \"#b0bec5\"],\r\n            [\"#e57373\", \"#f06292\", \"#ba68c8\", \"#7986cb\", \"#64b5f6\", \"#4dd0e1\", \"#4db6ac\", \"#81c784\", \"#aed581\", \"#dce775\", \"#fff176\", \"#ffd54f\", \"#ffb74d\", \"#ff8a65\", \"#a1887f\", \"#e0e0e0\", \"#90a4ae\"],\r\n            [\"#ef5350\", \"#ec407a\", \"#ab47bc\", \"#5c6bc0\", \"#42a5f5\", \"#26c6da\", \"#26a69a\", \"#66bb6a\", \"#9ccc65\", \"#d4e157\", \"#ffee58\", \"#ffca28\", \"#ffa726\", \"#ff7043\", \"#8d6e63\", \"#bdbdbd\", \"#78909c\"],\r\n            [\"#f44336\", \"#e91e63\", \"#9c27b0\", \"#3f51b5\", \"#2196f3\", \"#00bcd4\", \"#009688\", \"#4caf50\", \"#8bc34a\", \"#cddc39\", \"#ffeb3b\", \"#ffc107\", \"#ff9800\", \"#ff5722\", \"#795548\", \"#9e9e9e\", \"#607d8b\"],\r\n            [\"#e53935\", \"#d81b60\", \"#8e24aa\", \"#3949ab\", \"#1e88e5\", \"#00acc1\", \"#00897b\", \"#43a047\", \"#7cb342\", \"#c0ca33\", \"#fdd835\", \"#ffb300\", \"#fb8c00\", \"#f4511e\", \"#6d4c41\", \"#757575\", \"#546e7a\"],\r\n            [\"#d32f2f\", \"#c2185b\", \"#7b1fa2\", \"#303f9f\", \"#1976d2\", \"#0097a7\", \"#00796b\", \"#388e3c\", \"#689f38\", \"#afb42b\", \"#fbc02d\", \"#ffa000\", \"#f57c00\", \"#e64a19\", \"#5d4037\", \"#616161\", \"#455a64\"],\r\n            [\"#c62828\", \"#ad1457\", \"#6a1b9a\", \"#283593\", \"#1565c0\", \"#00838f\", \"#00695c\", \"#2e7d32\", \"#558b2f\", \"#9e9d24\", \"#f9a825\", \"#ff8f00\", \"#ef6c00\", \"#d84315\", \"#4e342e\", \"#424242\", \"#37474f\"],\r\n            [\"#b71c1c\", \"#880e4f\", \"#4a148c\", \"#1a237e\", \"#0d47a1\", \"#006064\", \"#004d40\", \"#1b5e20\", \"#33691e\", \"#827717\", \"#f57f17\", \"#ff6f00\", \"#e65100\", \"#bf360c\", \"#3e2723\", \"#212121\", \"#263238\"],\r\n        ],\r\n        fire: [\r\n            [\"0b1a6d\", \"840f38\", \"b60718\", \"de030b\", \"ff0c0c\", \"fd491c\", \"fc7521\", \"faa331\", \"fbb535\", \"ffc73a\"],\r\n            [\"071147\", \"5f0b28\", \"930513\", \"be0309\", \"ef0000\", \"fa3403\", \"fb670b\", \"f9991b\", \"faad1e\", \"ffc123\"],\r\n            [\"03071e\", \"370617\", \"6a040f\", \"9d0208\", \"d00000\", \"dc2f02\", \"e85d04\", \"f48c06\", \"faa307\", \"ffba08\"],\r\n            [\"020619\", \"320615\", \"61040d\", \"8c0207\", \"bc0000\", \"c82a02\", \"d05203\", \"db7f06\", \"e19405\", \"efab00\"],\r\n            [\"020515\", \"2d0513\", \"58040c\", \"7f0206\", \"aa0000\", \"b62602\", \"b94903\", \"c57205\", \"ca8504\", \"d89b00\"],\r\n        ],\r\n        baby: [\r\n            [\"eddcd2\", \"fff1e6\", \"fde2e4\", \"fad2e1\", \"c5dedd\", \"dbe7e4\", \"f0efeb\", \"d6e2e9\", \"bcd4e6\", \"99c1de\"],\r\n            [\"e1c4b3\", \"ffd5b5\", \"fab6ba\", \"f5a8c4\", \"aacecd\", \"bfd5cf\", \"dbd9d0\", \"baceda\", \"9dc0db\", \"7eb1d5\"],\r\n            [\"daa990\", \"ffb787\", \"f88e95\", \"f282a9\", \"8fc4c3\", \"a3c8be\", \"cec9b3\", \"9dbcce\", \"82acd2\", \"649dcb\"],\r\n            [\"d69070\", \"ff9c5e\", \"f66770\", \"f05f8f\", \"74bbb9\", \"87bfae\", \"c5b993\", \"83aac3\", \"699bca\", \"4d89c2\"],\r\n            [\"c97d5d\", \"f58443\", \"eb4d57\", \"e54a7b\", \"66a9a7\", \"78ae9c\", \"b5a67e\", \"7599b1\", \"5c88b7\", \"4978aa\"],\r\n        ],\r\n        chart: [\r\n            ['#C1D37F', '#4C5454', '#FFD275', '#66586F', '#D05D5B', '#C96480', '#95BF8F', '#6EA240', '#0F0F0E', '#EB8258', '#95A3B3', '#995D81'],\r\n        ],\r\n    }\r\n\r\n    var Component = function (o) {\r\n        // Otherwise get palette value\r\n        if (palette[o]) {\r\n            return palette[o];\r\n        } else {\r\n            return palette.material;\r\n        }\r\n    }\r\n\r\n    Component.get = function (o) {\r\n        // Otherwise get palette value\r\n        if (palette[o]) {\r\n            return palette[o];\r\n        } else {\r\n            return palette;\r\n        }\r\n    }\r\n\r\n    Component.set = function (o, v) {\r\n        palette[o] = v;\r\n    }\r\n\r\n    return Component;\r\n}\r\n\r\n/* harmony default export */ var palette = (Palette());\n;// CONCATENATED MODULE: ./src/plugins/tabs.js\n\r\n\r\n\r\nfunction Tabs(el, options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n\r\n    // Default configuration\r\n    var defaults = {\r\n        data: [],\r\n        position: null,\r\n        allowCreate: false,\r\n        allowChangePosition: false,\r\n        onclick: null,\r\n        onload: null,\r\n        onchange: null,\r\n        oncreate: null,\r\n        ondelete: null,\r\n        onbeforecreate: null,\r\n        onchangeposition: null,\r\n        animation: false,\r\n        hideHeaders: false,\r\n        padding: null,\r\n        palette: null,\r\n        maxWidth: null,\r\n    }\r\n\r\n    // Loop through the initial configuration\r\n    for (var property in defaults) {\r\n        if (options && options.hasOwnProperty(property)) {\r\n            obj.options[property] = options[property];\r\n        } else {\r\n            obj.options[property] = defaults[property];\r\n        }\r\n    }\r\n\r\n    // Class\r\n    el.classList.add('jtabs');\r\n\r\n    var prev = null;\r\n    var next = null;\r\n    var border = null;\r\n\r\n    // Helpers\r\n    var setBorder = function(index) {\r\n        if (obj.options.animation) {\r\n            setTimeout(function() {\r\n                var rect = obj.headers.children[index].getBoundingClientRect();\r\n\r\n                if (obj.options.palette == 'modern') {\r\n                    border.style.width = rect.width - 4 + 'px';\r\n                    border.style.left = obj.headers.children[index].offsetLeft + 2 + 'px';\r\n                } else {\r\n                    border.style.width = rect.width + 'px';\r\n                    border.style.left = obj.headers.children[index].offsetLeft + 'px';\r\n                }\r\n\r\n                if (obj.options.position == 'bottom') {\r\n                    border.style.top = '0px';\r\n                } else {\r\n                    border.style.bottom = '0px';\r\n                }\r\n            }, 150);\r\n        }\r\n    }\r\n\r\n    var updateControls = function(x) {\r\n        if (typeof(obj.headers.scrollTo) == 'function') {\r\n            obj.headers.scrollTo({\r\n                left: x,\r\n                behavior: 'smooth',\r\n            });\r\n        } else {\r\n            obj.headers.scrollLeft = x;\r\n        }\r\n\r\n        if (x <= 1) {\r\n            prev.classList.add('disabled');\r\n        } else {\r\n            prev.classList.remove('disabled');\r\n        }\r\n\r\n        if (x >= obj.headers.scrollWidth - obj.headers.offsetWidth) {\r\n            next.classList.add('disabled');\r\n        } else {\r\n            next.classList.remove('disabled');\r\n        }\r\n\r\n        if (obj.headers.scrollWidth <= obj.headers.offsetWidth) {\r\n            prev.style.display = 'none';\r\n            next.style.display = 'none';\r\n        } else {\r\n            prev.style.display = '';\r\n            next.style.display = '';\r\n        }\r\n    }\r\n\r\n    obj.setBorder = setBorder;\r\n\r\n    // Set value\r\n    obj.open = function(index) {\r\n        var previous = null;\r\n        for (var i = 0; i < obj.headers.children.length; i++) {\r\n            if (obj.headers.children[i].classList.contains('jtabs-selected')) {\r\n                // Current one\r\n                previous = i;\r\n            }\r\n            // Remote selected\r\n            obj.headers.children[i].classList.remove('jtabs-selected');\r\n            if (obj.content.children[i]) {\r\n                obj.content.children[i].classList.remove('jtabs-selected');\r\n            }\r\n        }\r\n\r\n        obj.headers.children[index].classList.add('jtabs-selected');\r\n        if (obj.content.children[index]) {\r\n            obj.content.children[index].classList.add('jtabs-selected');\r\n        }\r\n\r\n        if (previous != index && typeof(obj.options.onchange) == 'function') {\r\n            if (obj.content.children[index]) {\r\n                obj.options.onchange(el, obj, index, obj.headers.children[index], obj.content.children[index]);\r\n            }\r\n        }\r\n\r\n        // Hide\r\n        if (obj.options.hideHeaders == true && (obj.headers.children.length < 3 && obj.options.allowCreate == false)) {\r\n            obj.headers.parentNode.style.display = 'none';\r\n        } else {\r\n            // Set border\r\n            setBorder(index);\r\n\r\n            obj.headers.parentNode.style.display = '';\r\n\r\n            var x1 = obj.headers.children[index].offsetLeft;\r\n            var x2 = x1 + obj.headers.children[index].offsetWidth;\r\n            var r1 = obj.headers.scrollLeft;\r\n            var r2 = r1 + obj.headers.offsetWidth;\r\n\r\n            if (! (r1 <= x1 && r2 >= x2)) {\r\n                // Out of the viewport\r\n                updateControls(x1 - 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    obj.selectIndex = function(a) {\r\n        var index = Array.prototype.indexOf.call(obj.headers.children, a);\r\n        if (index >= 0) {\r\n            obj.open(index);\r\n        }\r\n\r\n        return index;\r\n    }\r\n\r\n    obj.rename = function(i, title) {\r\n        if (! title) {\r\n            title = prompt('New title', obj.headers.children[i].innerText);\r\n        }\r\n        obj.headers.children[i].innerText = title;\r\n        obj.open(i);\r\n    }\r\n\r\n    obj.create = function(title, url) {\r\n        if (typeof(obj.options.onbeforecreate) == 'function') {\r\n            var ret = obj.options.onbeforecreate(el);\r\n            if (ret === false) {\r\n                return false;\r\n            } else {\r\n                title = ret;\r\n            }\r\n        }\r\n\r\n        var div = obj.appendElement(title);\r\n\r\n        if (typeof(obj.options.oncreate) == 'function') {\r\n            obj.options.oncreate(el, div)\r\n        }\r\n\r\n        setBorder();\r\n\r\n        return div;\r\n    }\r\n\r\n    obj.remove = function(index) {\r\n        return obj.deleteElement(index);\r\n    }\r\n\r\n    obj.nextNumber = function() {\r\n        var num = 0;\r\n        for (var i = 0; i < obj.headers.children.length; i++) {\r\n            var tmp = obj.headers.children[i].innerText.match(/[0-9].*/);\r\n            if (tmp > num) {\r\n                num = parseInt(tmp);\r\n            }\r\n        }\r\n        if (! num) {\r\n            num = 1;\r\n        } else {\r\n            num++;\r\n        }\r\n\r\n        return num;\r\n    }\r\n\r\n    obj.deleteElement = function(index) {\r\n        if (! obj.headers.children[index]) {\r\n            return false;\r\n        } else {\r\n            obj.headers.removeChild(obj.headers.children[index]);\r\n            obj.content.removeChild(obj.content.children[index]);\r\n        }\r\n\r\n        obj.open(0);\r\n\r\n        if (typeof(obj.options.ondelete) == 'function') {\r\n            obj.options.ondelete(el, index)\r\n        }\r\n    }\r\n\r\n    obj.appendElement = function(title, cb) {\r\n        if (! title) {\r\n            var title = prompt('Title?', '');\r\n        }\r\n\r\n        if (title) {\r\n            // Add content\r\n            var div = document.createElement('div');\r\n            obj.content.appendChild(div);\r\n\r\n            // Add headers\r\n            var h = document.createElement('div');\r\n            h.innerHTML = title;\r\n            h.content = div;\r\n            obj.headers.insertBefore(h, obj.headers.lastChild);\r\n\r\n            // Sortable\r\n            if (obj.options.allowChangePosition) {\r\n                h.setAttribute('draggable', 'true');\r\n            }\r\n            // Open new tab\r\n            obj.selectIndex(h);\r\n\r\n            // Callback\r\n            if (typeof(cb) == 'function') {\r\n                cb(div, h);\r\n            }\r\n\r\n            // Return element\r\n            return div;\r\n        }\r\n    }\r\n\r\n    obj.getActive = function() {\r\n        for (var i = 0; i < obj.headers.children.length; i++) {\r\n            if (obj.headers.children[i].classList.contains('jtabs-selected')) {\r\n                return i\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    obj.updateContent = function(position, newContent) {\r\n        if (typeof newContent !== 'string') {\r\n            var contentItem = newContent;\r\n        } else {\r\n            var contentItem = document.createElement('div');\r\n            contentItem.innerHTML = newContent;\r\n        }\r\n\r\n        if (obj.content.children[position].classList.contains('jtabs-selected')) {\r\n            newContent.classList.add('jtabs-selected');\r\n        }\r\n\r\n        obj.content.replaceChild(newContent, obj.content.children[position]);\r\n\r\n        setBorder();\r\n    }\r\n\r\n    obj.updatePosition = function(f, t) {\r\n        // Ondrop update position of content\r\n        if (f > t) {\r\n            obj.content.insertBefore(obj.content.children[f], obj.content.children[t]);\r\n        } else {\r\n            obj.content.insertBefore(obj.content.children[f], obj.content.children[t].nextSibling);\r\n        }\r\n\r\n        // Open destination tab\r\n        obj.open(t);\r\n\r\n        // Call event\r\n        if (typeof(obj.options.onchangeposition) == 'function') {\r\n            obj.options.onchangeposition(obj.headers, f, t);\r\n        }\r\n    }\r\n\r\n    obj.move = function(f, t) {\r\n        if (f > t) {\r\n            obj.headers.insertBefore(obj.headers.children[f], obj.headers.children[t]);\r\n        } else {\r\n            obj.headers.insertBefore(obj.headers.children[f], obj.headers.children[t].nextSibling);\r\n        }\r\n\r\n        obj.updatePosition(f, t);\r\n    }\r\n\r\n    obj.setBorder = setBorder;\r\n\r\n    obj.init = function() {\r\n        el.innerHTML = '';\r\n\r\n        // Make sure the component is blank\r\n        obj.headers = document.createElement('div');\r\n        obj.content = document.createElement('div');\r\n        obj.headers.classList.add('jtabs-headers');\r\n        obj.content.classList.add('jtabs-content');\r\n\r\n        if (obj.options.palette) {\r\n            el.classList.add('jtabs-modern');\r\n        } else {\r\n            el.classList.remove('jtabs-modern');\r\n        }\r\n\r\n        // Padding\r\n        if (obj.options.padding) {\r\n            obj.content.style.padding = parseInt(obj.options.padding) + 'px';\r\n        }\r\n\r\n        // Header\r\n        var header = document.createElement('div');\r\n        header.className = 'jtabs-headers-container';\r\n        header.appendChild(obj.headers);\r\n        if (obj.options.maxWidth) {\r\n            header.style.maxWidth = parseInt(obj.options.maxWidth) + 'px';\r\n        }\r\n\r\n        // Controls\r\n        var controls = document.createElement('div');\r\n        controls.className = 'jtabs-controls';\r\n        controls.setAttribute('draggable', 'false');\r\n        header.appendChild(controls);\r\n\r\n        // Append DOM elements\r\n        if (obj.options.position == 'bottom') {\r\n            el.appendChild(obj.content);\r\n            el.appendChild(header);\r\n        } else {\r\n            el.appendChild(header);\r\n            el.appendChild(obj.content);\r\n        }\r\n\r\n        // New button\r\n        if (obj.options.allowCreate == true) {\r\n            var add = document.createElement('div');\r\n            add.className = 'jtabs-add';\r\n            add.onclick = function() {\r\n                obj.create();\r\n            }\r\n            controls.appendChild(add);\r\n        }\r\n\r\n        prev = document.createElement('div');\r\n        prev.className = 'jtabs-prev';\r\n        prev.onclick = function() {\r\n            updateControls(obj.headers.scrollLeft - obj.headers.offsetWidth);\r\n        }\r\n        controls.appendChild(prev);\r\n\r\n        next = document.createElement('div');\r\n        next.className = 'jtabs-next';\r\n        next.onclick = function() {\r\n            updateControls(obj.headers.scrollLeft + obj.headers.offsetWidth);\r\n        }\r\n        controls.appendChild(next);\r\n\r\n        // Data\r\n        for (var i = 0; i < obj.options.data.length; i++) {\r\n            // Title\r\n            if (obj.options.data[i].titleElement) {\r\n                var headerItem = obj.options.data[i].titleElement;\r\n            } else {\r\n                var headerItem = document.createElement('div');\r\n            }\r\n            // Icon\r\n            if (obj.options.data[i].icon) {\r\n                var iconContainer = document.createElement('div');\r\n                var icon = document.createElement('i');\r\n                icon.classList.add('material-icons');\r\n                icon.innerHTML = obj.options.data[i].icon;\r\n                iconContainer.appendChild(icon);\r\n                headerItem.appendChild(iconContainer);\r\n            }\r\n            // Title\r\n            if (obj.options.data[i].title) {\r\n                var title = document.createTextNode(obj.options.data[i].title);\r\n                headerItem.appendChild(title);\r\n            }\r\n            // Width\r\n            if (obj.options.data[i].width) {\r\n                headerItem.style.width = obj.options.data[i].width;\r\n            }\r\n            // Content\r\n            if (obj.options.data[i].contentElement) {\r\n                var contentItem = obj.options.data[i].contentElement;\r\n            } else {\r\n                var contentItem = document.createElement('div');\r\n                contentItem.innerHTML = obj.options.data[i].content;\r\n            }\r\n            obj.headers.appendChild(headerItem);\r\n            obj.content.appendChild(contentItem);\r\n        }\r\n\r\n        // Animation\r\n        border = document.createElement('div');\r\n        border.className = 'jtabs-border';\r\n        obj.headers.appendChild(border);\r\n\r\n        if (obj.options.animation) {\r\n            el.classList.add('jtabs-animation');\r\n        }\r\n\r\n        // Events\r\n        obj.headers.addEventListener(\"click\", function(e) {\r\n            if (e.target.parentNode.classList.contains('jtabs-headers')) {\r\n                var target = e.target;\r\n            } else {\r\n                if (e.target.tagName == 'I') {\r\n                    var target = e.target.parentNode.parentNode;\r\n                } else {\r\n                    var target = e.target.parentNode;\r\n                }\r\n            }\r\n\r\n            var index = obj.selectIndex(target);\r\n\r\n            if (typeof(obj.options.onclick) == 'function') {\r\n                obj.options.onclick(el, obj, index, obj.headers.children[index], obj.content.children[index]);\r\n            }\r\n        });\r\n\r\n        obj.headers.addEventListener(\"contextmenu\", function(e) {\r\n            obj.selectIndex(e.target);\r\n        });\r\n\r\n        if (obj.headers.children.length) {\r\n            // Open first tab\r\n            obj.open(0);\r\n        }\r\n\r\n        // Update controls\r\n        updateControls(0);\r\n\r\n        if (obj.options.allowChangePosition == true) {\r\n            Sorting(obj.headers, {\r\n                direction: 1,\r\n                ondrop: function(a,b,c) {\r\n                    obj.updatePosition(b,c);\r\n                },\r\n            });\r\n        }\r\n\r\n        if (typeof(obj.options.onload) == 'function') {\r\n            obj.options.onload(el, obj);\r\n        }\r\n    }\r\n\r\n    // Loading existing nodes as the data\r\n    if (el.children[0] && el.children[0].children.length) {\r\n        // Create from existing elements\r\n        for (var i = 0; i < el.children[0].children.length; i++) {\r\n            var item = obj.options.data && obj.options.data[i] ? obj.options.data[i] : {};\r\n\r\n            if (el.children[1] && el.children[1].children[i]) {\r\n                item.titleElement = el.children[0].children[i];\r\n                item.contentElement = el.children[1].children[i];\r\n            } else {\r\n                item.contentElement = el.children[0].children[i];\r\n            }\r\n\r\n            obj.options.data[i] = item;\r\n        }\r\n    }\r\n\r\n    // Remote controller flag\r\n    var loadingRemoteData = false;\r\n\r\n    // Create from data\r\n    if (obj.options.data) {\r\n        // Append children\r\n        for (var i = 0; i < obj.options.data.length; i++) {\r\n            if (obj.options.data[i].url) {\r\n                ajax({\r\n                    url: obj.options.data[i].url,\r\n                    type: 'GET',\r\n                    dataType: 'text/html',\r\n                    index: i,\r\n                    success: function(result) {\r\n                        obj.options.data[this.index].content = result;\r\n                    },\r\n                    complete: function() {\r\n                        obj.init();\r\n                    }\r\n                });\r\n\r\n                // Flag loading\r\n                loadingRemoteData = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    if (! loadingRemoteData) {\r\n        obj.init();\r\n    }\r\n\r\n    el.tabs = obj;\r\n\r\n    return obj;\r\n}\n;// CONCATENATED MODULE: ./src/plugins/color.js\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Color(el, options) {\r\n    // Already created, update options\r\n    if (el.color) {\r\n        return el.color.setOptions(options, true);\r\n    }\r\n\r\n    // New instance\r\n    var obj = { type: 'color' };\r\n    obj.options = {};\r\n\r\n    var container = null;\r\n    var backdrop = null;\r\n    var content = null;\r\n    var resetButton = null;\r\n    var closeButton = null;\r\n    var tabs = null;\r\n    var jsuitesTabs = null;\r\n\r\n    /**\r\n     * Update options\r\n     */\r\n    obj.setOptions = function(options, reset) {\r\n        /**\r\n         * @typedef {Object} defaults\r\n         * @property {(string|Array)} value - Initial value of the compontent\r\n         * @property {string} placeholder - The default instruction text on the element\r\n         * @property {requestCallback} onchange - Method to be execute after any changes on the element\r\n         * @property {requestCallback} onclose - Method to be execute when the element is closed\r\n         * @property {string} doneLabel - Label for button done\r\n         * @property {string} resetLabel - Label for button reset\r\n         * @property {string} resetValue - Value for button reset\r\n         * @property {Bool} showResetButton - Active or note for button reset - default false\r\n         */\r\n        var defaults = {\r\n            placeholder: '',\r\n            value: null,\r\n            onopen: null,\r\n            onclose: null,\r\n            onchange: null,\r\n            closeOnChange: true,\r\n            palette: null,\r\n            position: null,\r\n            doneLabel: 'Done',\r\n            resetLabel: 'Reset',\r\n            fullscreen: false,\r\n            opened: false,\r\n        }\r\n\r\n        if (! options) {\r\n            options = {};\r\n        }\r\n\r\n        if (options && ! options.palette) {\r\n            // Default palette\r\n            options.palette = palette();\r\n        }\r\n\r\n        // Loop through our object\r\n        for (var property in defaults) {\r\n            if (options && options.hasOwnProperty(property)) {\r\n                obj.options[property] = options[property];\r\n            } else {\r\n                if (typeof(obj.options[property]) == 'undefined' || reset === true) {\r\n                    obj.options[property] = defaults[property];\r\n                }\r\n            }\r\n        }\r\n\r\n        // Update the text of the controls, if they have already been created\r\n        if (resetButton) {\r\n            resetButton.innerHTML = obj.options.resetLabel;\r\n        }\r\n        if (closeButton) {\r\n            closeButton.innerHTML = obj.options.doneLabel;\r\n        }\r\n\r\n        // Update the pallete\r\n        if (obj.options.palette && jsuitesTabs) {\r\n            jsuitesTabs.updateContent(0, table());\r\n        }\r\n\r\n        // Value\r\n        if (typeof obj.options.value === 'string') {\r\n            el.value = obj.options.value;\r\n            if (el.tagName === 'INPUT') {\r\n                el.style.color = el.value;\r\n                el.style.backgroundColor = el.value;\r\n            }\r\n        }\r\n\r\n        // Placeholder\r\n        if (obj.options.placeholder) {\r\n            el.setAttribute('placeholder', obj.options.placeholder);\r\n        } else {\r\n            if (el.getAttribute('placeholder')) {\r\n                el.removeAttribute('placeholder');\r\n            }\r\n        }\r\n\r\n        return obj;\r\n    }\r\n\r\n    obj.select = function(color) {\r\n        // Remove current selected mark\r\n        var selected = container.querySelector('.jcolor-selected');\r\n        if (selected) {\r\n            selected.classList.remove('jcolor-selected');\r\n        }\r\n\r\n        // Mark cell as selected\r\n        if (obj.values[color]) {\r\n            obj.values[color].classList.add('jcolor-selected');\r\n        }\r\n\r\n        obj.options.value = color;\r\n    }\r\n\r\n    /**\r\n     * Open color pallete\r\n     */\r\n    obj.open = function() {\r\n        if (! container.classList.contains('jcolor-focus')) {\r\n            // Start tracking\r\n            Tracking(obj, true);\r\n\r\n            // Show color picker\r\n            container.classList.add('jcolor-focus');\r\n\r\n            // Select current color\r\n            if (obj.options.value) {\r\n                obj.select(obj.options.value);\r\n            }\r\n\r\n            // Reset margin\r\n            content.style.marginTop = '';\r\n            content.style.marginLeft = '';\r\n\r\n            var rectContent = content.getBoundingClientRect();\r\n            var availableWidth = helpers.getWindowWidth();\r\n            var availableHeight = helpers.getWindowHeight();\r\n\r\n            if (availableWidth < 800 || obj.options.fullscreen == true) {\r\n                content.classList.add('jcolor-fullscreen');\r\n                animation.slideBottom(content, 1);\r\n                backdrop.style.display = 'block';\r\n            } else {\r\n                if (content.classList.contains('jcolor-fullscreen')) {\r\n                    content.classList.remove('jcolor-fullscreen');\r\n                    backdrop.style.display = '';\r\n                }\r\n\r\n                if (obj.options.position) {\r\n                    content.style.position = 'fixed';\r\n                } else {\r\n                    content.style.position = '';\r\n                }\r\n\r\n                if (rectContent.left + rectContent.width > availableWidth) {\r\n                    content.style.marginLeft = -1 * (rectContent.left + rectContent.width - (availableWidth - 20)) + 'px';\r\n                }\r\n                if (rectContent.top + rectContent.height > availableHeight) {\r\n                    content.style.marginTop = -1 * (rectContent.top + rectContent.height - (availableHeight - 20)) + 'px';\r\n                }\r\n            }\r\n\r\n\r\n            if (typeof(obj.options.onopen) == 'function') {\r\n                obj.options.onopen(el, obj);\r\n            }\r\n\r\n            jsuitesTabs.setBorder(jsuitesTabs.getActive());\r\n\r\n            // Update sliders\r\n            if (obj.options.value) {\r\n                var rgb = HexToRgb(obj.options.value);\r\n\r\n                rgbInputs.forEach(function(rgbInput, index) {\r\n                    rgbInput.value = rgb[index];\r\n                    rgbInput.dispatchEvent(new Event('input'));\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Close color pallete\r\n     */\r\n    obj.close = function(ignoreEvents) {\r\n        if (container.classList.contains('jcolor-focus')) {\r\n            // Remove focus\r\n            container.classList.remove('jcolor-focus');\r\n            // Make sure backdrop is hidden\r\n            backdrop.style.display = '';\r\n            // Call related events\r\n            if (! ignoreEvents && typeof(obj.options.onclose) == 'function') {\r\n                obj.options.onclose(el, obj);\r\n            }\r\n            // Stop  the object\r\n            Tracking(obj, false);\r\n        }\r\n\r\n        return obj.options.value;\r\n    }\r\n\r\n    /**\r\n     * Set value\r\n     */\r\n    obj.setValue = function(color) {\r\n        if (! color) {\r\n            color = '';\r\n        }\r\n\r\n        if (color != obj.options.value) {\r\n            obj.options.value = color;\r\n            slidersResult = color;\r\n\r\n            // Remove current selecded mark\r\n            obj.select(color);\r\n\r\n            // Onchange\r\n            if (typeof(obj.options.onchange) == 'function') {\r\n                obj.options.onchange(el, color, obj);\r\n            }\r\n\r\n            // Changes\r\n            if (el.value != obj.options.value) {\r\n                // Set input value\r\n                el.value = obj.options.value;\r\n                if (el.tagName === 'INPUT') {\r\n                    el.style.color = el.value;\r\n                    el.style.backgroundColor = el.value;\r\n                }\r\n\r\n                // Element onchange native\r\n                if (typeof(el.oninput) == 'function') {\r\n                    el.oninput({\r\n                        type: 'input',\r\n                        target: el,\r\n                        value: el.value\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (obj.options.closeOnChange == true) {\r\n                obj.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get value\r\n     */\r\n    obj.getValue = function() {\r\n        return obj.options.value;\r\n    }\r\n\r\n    var backdropClickControl = false;\r\n\r\n    // Converts a number in decimal to hexadecimal\r\n    var decToHex = function(num) {\r\n        var hex = num.toString(16);\r\n        return hex.length === 1 ? \"0\" + hex : hex;\r\n    }\r\n\r\n    // Converts a color in rgb to hexadecimal\r\n    var rgbToHex = function(r, g, b) {\r\n        return \"#\" + decToHex(r) + decToHex(g) + decToHex(b);\r\n    }\r\n\r\n    // Converts a number in hexadecimal to decimal\r\n    var hexToDec = function(hex) {\r\n        return parseInt('0x' + hex);\r\n    }\r\n\r\n    // Converts a color in hexadecimal to rgb\r\n    var HexToRgb = function(hex) {\r\n        return [hexToDec(hex.substr(1, 2)), hexToDec(hex.substr(3, 2)), hexToDec(hex.substr(5, 2))]\r\n    }\r\n\r\n    var table = function() {\r\n        // Content of the first tab\r\n        var tableContainer = document.createElement('div');\r\n        tableContainer.className = 'jcolor-grid';\r\n\r\n        // Cells\r\n        obj.values = [];\r\n\r\n        // Table pallete\r\n        var t = document.createElement('table');\r\n        t.setAttribute('cellpadding', '7');\r\n        t.setAttribute('cellspacing', '0');\r\n\r\n        for (var j = 0; j < obj.options.palette.length; j++) {\r\n            var tr = document.createElement('tr');\r\n            for (var i = 0; i < obj.options.palette[j].length; i++) {\r\n                var td = document.createElement('td');\r\n                var color = obj.options.palette[j][i];\r\n                if (color.length < 7 && color.substr(0,1) !== '#') {\r\n                    color = '#' + color;\r\n                }\r\n                td.style.backgroundColor = color;\r\n                td.setAttribute('data-value', color);\r\n                td.innerHTML = '';\r\n                tr.appendChild(td);\r\n\r\n                // Selected color\r\n                if (obj.options.value == color) {\r\n                    td.classList.add('jcolor-selected');\r\n                }\r\n\r\n                // Possible values\r\n                obj.values[color] = td;\r\n            }\r\n            t.appendChild(tr);\r\n        }\r\n\r\n        // Append to the table\r\n        tableContainer.appendChild(t);\r\n\r\n        return tableContainer;\r\n    }\r\n\r\n    // Canvas where the image will be rendered\r\n    var canvas = document.createElement('canvas');\r\n    canvas.width = 200;\r\n    canvas.height = 160;\r\n    var context = canvas.getContext(\"2d\");\r\n\r\n    var resizeCanvas = function() {\r\n        // Specifications necessary to correctly obtain colors later in certain positions\r\n        var m = tabs.firstChild.getBoundingClientRect();\r\n        canvas.width = m.width - 14;\r\n        gradient()\r\n    }\r\n\r\n    var gradient = function() {\r\n        var g = context.createLinearGradient(0, 0, canvas.width, 0);\r\n        // Create color gradient\r\n        g.addColorStop(0,    \"rgb(255,0,0)\");\r\n        g.addColorStop(0.15, \"rgb(255,0,255)\");\r\n        g.addColorStop(0.33, \"rgb(0,0,255)\");\r\n        g.addColorStop(0.49, \"rgb(0,255,255)\");\r\n        g.addColorStop(0.67, \"rgb(0,255,0)\");\r\n        g.addColorStop(0.84, \"rgb(255,255,0)\");\r\n        g.addColorStop(1,    \"rgb(255,0,0)\");\r\n        context.fillStyle = g;\r\n        context.fillRect(0, 0, canvas.width, canvas.height);\r\n        g = context.createLinearGradient(0, 0, 0, canvas.height);\r\n        g.addColorStop(0,   \"rgba(255,255,255,1)\");\r\n        g.addColorStop(0.5, \"rgba(255,255,255,0)\");\r\n        g.addColorStop(0.5, \"rgba(0,0,0,0)\");\r\n        g.addColorStop(1,   \"rgba(0,0,0,1)\");\r\n        context.fillStyle = g;\r\n        context.fillRect(0, 0, canvas.width, canvas.height);\r\n    }\r\n\r\n    var hsl = function() {\r\n        var element = document.createElement('div');\r\n        element.className = \"jcolor-hsl\";\r\n\r\n        var point = document.createElement('div');\r\n        point.className = 'jcolor-point';\r\n\r\n        var div = document.createElement('div');\r\n        div.appendChild(canvas);\r\n        div.appendChild(point);\r\n        element.appendChild(div);\r\n\r\n        // Moves the marquee point to the specified position\r\n        var update = function(buttons, x, y) {\r\n            if (buttons === 1) {\r\n                var rect = element.getBoundingClientRect();\r\n                var left = x - rect.left;\r\n                var top = y - rect.top;\r\n                if (left < 0) {\r\n                    left = 0;\r\n                }\r\n                if (top < 0) {\r\n                    top = 0;\r\n                }\r\n                if (left > rect.width) {\r\n                    left = rect.width;\r\n                }\r\n                if (top > rect.height) {\r\n                    top = rect.height;\r\n                }\r\n                point.style.left = left + 'px';\r\n                point.style.top = top + 'px';\r\n                var pixel = context.getImageData(left, top, 1, 1).data;\r\n                slidersResult = rgbToHex(pixel[0], pixel[1], pixel[2]);\r\n            }\r\n        }\r\n\r\n        // Applies the point's motion function to the div that contains it\r\n        element.addEventListener('mousedown', function(e) {\r\n            update(e.buttons, e.clientX, e.clientY);\r\n        });\r\n\r\n        element.addEventListener('mousemove', function(e) {\r\n            update(e.buttons, e.clientX, e.clientY);\r\n        });\r\n\r\n        element.addEventListener('touchmove', function(e) {\r\n            update(1, e.changedTouches[0].clientX, e.changedTouches[0].clientY);\r\n        });\r\n\r\n        return element;\r\n    }\r\n\r\n    var slidersResult = '';\r\n\r\n    var rgbInputs = [];\r\n\r\n    var changeInputColors = function() {\r\n        if (slidersResult !== '') {\r\n            for (var j = 0; j < rgbInputs.length; j++) {\r\n                var currentColor = HexToRgb(slidersResult);\r\n\r\n                currentColor[j] = 0;\r\n\r\n                var newGradient = 'linear-gradient(90deg, rgb(';\r\n                newGradient += currentColor.join(', ');\r\n                newGradient += '), rgb(';\r\n\r\n                currentColor[j] = 255;\r\n\r\n                newGradient += currentColor.join(', ');\r\n                newGradient += '))';\r\n\r\n                rgbInputs[j].style.backgroundImage = newGradient;\r\n            }\r\n        }\r\n    }\r\n\r\n    var sliders = function() {\r\n        // Content of the third tab\r\n        var slidersElement = document.createElement('div');\r\n        slidersElement.className = 'jcolor-sliders';\r\n\r\n        var slidersBody = document.createElement('div');\r\n\r\n        // Creates a range-type input with the specified name\r\n        var createSliderInput = function(name) {\r\n            var inputContainer = document.createElement('div');\r\n            inputContainer.className = 'jcolor-sliders-input-container';\r\n\r\n            var label = document.createElement('label');\r\n            label.innerText = name;\r\n\r\n            var subContainer = document.createElement('div');\r\n            subContainer.className = 'jcolor-sliders-input-subcontainer';\r\n\r\n            var input = document.createElement('input');\r\n            input.type = 'range';\r\n            input.min = 0;\r\n            input.max = 255;\r\n            input.value = 0;\r\n\r\n            inputContainer.appendChild(label);\r\n            subContainer.appendChild(input);\r\n\r\n            var value = document.createElement('div');\r\n            value.innerText = input.value;\r\n\r\n            input.addEventListener('input', function() {\r\n                value.innerText = input.value;\r\n            });\r\n\r\n            subContainer.appendChild(value);\r\n            inputContainer.appendChild(subContainer);\r\n\r\n            slidersBody.appendChild(inputContainer);\r\n\r\n            return input;\r\n        }\r\n\r\n        // Creates red, green and blue inputs\r\n        rgbInputs = [\r\n            createSliderInput('Red'),\r\n            createSliderInput('Green'),\r\n            createSliderInput('Blue'),\r\n        ];\r\n\r\n        slidersElement.appendChild(slidersBody);\r\n\r\n        // Element that prints the current color\r\n        var slidersResultColor = document.createElement('div');\r\n        slidersResultColor.className = 'jcolor-sliders-final-color';\r\n\r\n        var resultElement = document.createElement('div');\r\n        resultElement.style.visibility = 'hidden';\r\n        resultElement.innerText = 'a';\r\n        slidersResultColor.appendChild(resultElement)\r\n\r\n        // Update the element that prints the current color\r\n        var updateResult = function() {\r\n            var resultColor = rgbToHex(parseInt(rgbInputs[0].value), parseInt(rgbInputs[1].value), parseInt(rgbInputs[2].value));\r\n\r\n            resultElement.innerText = resultColor;\r\n            resultElement.style.color = resultColor;\r\n            resultElement.style.removeProperty('visibility');\r\n\r\n            slidersResult = resultColor;\r\n        }\r\n\r\n        // Apply the update function to color inputs\r\n        rgbInputs.forEach(function(rgbInput) {\r\n            rgbInput.addEventListener('input', function() {\r\n                updateResult();\r\n                changeInputColors();\r\n            });\r\n        });\r\n\r\n        slidersElement.appendChild(slidersResultColor);\r\n\r\n        return slidersElement;\r\n    }\r\n\r\n    var init = function() {\r\n        // Initial options\r\n        obj.setOptions(options);\r\n\r\n        // Add a proper input tag when the element is an input\r\n        if (el.tagName == 'INPUT') {\r\n            el.classList.add('jcolor-input');\r\n            el.readOnly = true;\r\n        }\r\n\r\n        // Table container\r\n        container = document.createElement('div');\r\n        container.className = 'jcolor';\r\n\r\n        // Table container\r\n        backdrop = document.createElement('div');\r\n        backdrop.className = 'jcolor-backdrop';\r\n        container.appendChild(backdrop);\r\n\r\n        // Content\r\n        content = document.createElement('div');\r\n        content.className = 'jcolor-content';\r\n\r\n        // Controls\r\n        var controls = document.createElement('div');\r\n        controls.className = 'jcolor-controls';\r\n        content.appendChild(controls);\r\n\r\n        // Reset button\r\n        resetButton  = document.createElement('div');\r\n        resetButton.className = 'jcolor-reset';\r\n        resetButton.innerHTML = obj.options.resetLabel;\r\n        controls.appendChild(resetButton);\r\n\r\n        // Close button\r\n        closeButton  = document.createElement('div');\r\n        closeButton.className = 'jcolor-close';\r\n        closeButton.innerHTML = obj.options.doneLabel;\r\n        controls.appendChild(closeButton);\r\n\r\n        // Element that will be used to create the tabs\r\n        tabs = document.createElement('div');\r\n        content.appendChild(tabs);\r\n\r\n        // Starts the jSuites tabs component\r\n        jsuitesTabs = Tabs(tabs, {\r\n            animation: true,\r\n            data: [\r\n                {\r\n                    title: 'Grid',\r\n                    contentElement: table(),\r\n                },\r\n                {\r\n                    title: 'Spectrum',\r\n                    contentElement: hsl(),\r\n                },\r\n                {\r\n                    title: 'Sliders',\r\n                    contentElement: sliders(),\r\n                }\r\n            ],\r\n            onchange: function(element, instance, index) {\r\n                if (index === 1) {\r\n                    resizeCanvas();\r\n                } else {\r\n                    var color = slidersResult !== '' ? slidersResult : obj.getValue();\r\n\r\n                    if (index === 2 && color) {\r\n                        var rgb = HexToRgb(color);\r\n\r\n                        rgbInputs.forEach(function(rgbInput, index) {\r\n                            rgbInput.value = rgb[index];\r\n                            rgbInput.dispatchEvent(new Event('input'));\r\n                        });\r\n                    }\r\n                }\r\n            },\r\n            palette: 'modern',\r\n        });\r\n\r\n        container.appendChild(content);\r\n\r\n        // Insert picker after the element\r\n        if (el.tagName == 'INPUT') {\r\n            el.parentNode.insertBefore(container, el.nextSibling);\r\n        } else {\r\n            el.appendChild(container);\r\n        }\r\n\r\n        container.addEventListener(\"click\", function(e) {\r\n            if (e.target.tagName == 'TD') {\r\n                var value = e.target.getAttribute('data-value');\r\n                if (value) {\r\n                    obj.setValue(value);\r\n                }\r\n            } else if (e.target.classList.contains('jcolor-reset')) {\r\n                obj.setValue('');\r\n                obj.close();\r\n            } else if (e.target.classList.contains('jcolor-close')) {\r\n                if (jsuitesTabs.getActive() > 0) {\r\n                    obj.setValue(slidersResult);\r\n                }\r\n                obj.close();\r\n            } else if (e.target.classList.contains('jcolor-backdrop')) {\r\n                obj.close();\r\n            } else {\r\n                obj.open();\r\n            }\r\n        });\r\n\r\n        /**\r\n         * If element is focus open the picker\r\n         */\r\n        el.addEventListener(\"mouseup\", function(e) {\r\n            obj.open();\r\n        });\r\n\r\n        // If the picker is open on the spectrum tab, it changes the canvas size when the window size is changed\r\n        window.addEventListener('resize', function() {\r\n            if (container.classList.contains('jcolor-focus') && jsuitesTabs.getActive() == 1) {\r\n                resizeCanvas();\r\n            }\r\n        });\r\n\r\n        // Default opened\r\n        if (obj.options.opened == true) {\r\n            obj.open();\r\n        }\r\n\r\n        // Change\r\n        el.change = obj.setValue;\r\n\r\n        // Global generic value handler\r\n        el.val = function(val) {\r\n            if (val === undefined) {\r\n                return obj.getValue();\r\n            } else {\r\n                obj.setValue(val);\r\n            }\r\n        }\r\n\r\n        // Keep object available from the node\r\n        el.color = obj;\r\n\r\n        // Container shortcut\r\n        container.color = obj;\r\n    }\r\n\r\n    obj.toHex = function(rgb) {\r\n        var hex = function(x) {\r\n            return (\"0\" + parseInt(x).toString(16)).slice(-2);\r\n        }\r\n        if (rgb) {\r\n            if (/^#[0-9A-F]{6}$/i.test(rgb)) {\r\n                return rgb;\r\n            } else {\r\n                rgb = rgb.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);\r\n                if (rgb && rgb.length) {\r\n                    return \"#\" + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);\r\n                } else {\r\n                    return \"\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    init();\r\n\r\n    return obj;\r\n}\n;// CONCATENATED MODULE: ./src/plugins/contextmenu.js\n\r\n\r\n\r\nfunction Contextmenu() {\r\n\r\n    var Component = function(el, options) {\r\n        // New instance\r\n        var obj = {type: 'contextmenu'};\r\n        obj.options = {};\r\n\r\n        // Default configuration\r\n        var defaults = {\r\n            items: null,\r\n            onclick: null,\r\n        };\r\n\r\n        // Loop through our object\r\n        for (var property in defaults) {\r\n            if (options && options.hasOwnProperty(property)) {\r\n                obj.options[property] = options[property];\r\n            } else {\r\n                obj.options[property] = defaults[property];\r\n            }\r\n        }\r\n\r\n        // Class definition\r\n        el.classList.add('jcontextmenu');\r\n\r\n        /**\r\n         * Open contextmenu\r\n         */\r\n        obj.open = function (e, items) {\r\n            if (items) {\r\n                // Update content\r\n                obj.options.items = items;\r\n                // Create items\r\n                obj.create(items);\r\n            }\r\n\r\n            // Close current contextmenu\r\n            if (Component.current) {\r\n                Component.current.close();\r\n            }\r\n\r\n            // Add to the opened components monitor\r\n            Tracking(obj, true);\r\n\r\n            // Show context menu\r\n            el.classList.add('jcontextmenu-focus');\r\n\r\n            // Current\r\n            Component.current = obj;\r\n\r\n            // Coordinates\r\n            if ((obj.options.items && obj.options.items.length > 0) || el.children.length) {\r\n                if (e.target) {\r\n                    if (e.changedTouches && e.changedTouches[0]) {\r\n                        x = e.changedTouches[0].clientX;\r\n                        y = e.changedTouches[0].clientY;\r\n                    } else {\r\n                        var x = e.clientX;\r\n                        var y = e.clientY;\r\n                    }\r\n                } else {\r\n                    var x = e.x;\r\n                    var y = e.y;\r\n                }\r\n\r\n                var rect = el.getBoundingClientRect();\r\n\r\n                if (window.innerHeight < y + rect.height) {\r\n                    var h = y - rect.height;\r\n                    if (h < 0) {\r\n                        h = 0;\r\n                    }\r\n                    el.style.top = h + 'px';\r\n                } else {\r\n                    el.style.top = y + 'px';\r\n                }\r\n\r\n                if (window.innerWidth < x + rect.width) {\r\n                    if (x - rect.width > 0) {\r\n                        el.style.left = (x - rect.width) + 'px';\r\n                    } else {\r\n                        el.style.left = '10px';\r\n                    }\r\n                } else {\r\n                    el.style.left = x + 'px';\r\n                }\r\n            }\r\n        }\r\n\r\n        obj.isOpened = function () {\r\n            return el.classList.contains('jcontextmenu-focus') ? true : false;\r\n        }\r\n\r\n        /**\r\n         * Close menu\r\n         */\r\n        obj.close = function () {\r\n            if (el.classList.contains('jcontextmenu-focus')) {\r\n                el.classList.remove('jcontextmenu-focus');\r\n            }\r\n            Tracking(obj, false);\r\n        }\r\n\r\n        /**\r\n         * Create items based on the declared objectd\r\n         * @param {object} items - List of object\r\n         */\r\n        obj.create = function (items) {\r\n            // Update content\r\n            el.innerHTML = '';\r\n\r\n            // Add header contextmenu\r\n            var itemHeader = createHeader();\r\n            el.appendChild(itemHeader);\r\n\r\n            // Append items\r\n            for (var i = 0; i < items.length; i++) {\r\n                var itemContainer = createItemElement(items[i]);\r\n                el.appendChild(itemContainer);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * createHeader for context menu\r\n         * @private\r\n         * @returns {HTMLElement}\r\n         */\r\n        function createHeader() {\r\n            var header = document.createElement('div');\r\n            header.classList.add(\"header\");\r\n            header.addEventListener(\"click\", function (e) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            });\r\n            var title = document.createElement('a');\r\n            title.classList.add(\"title\");\r\n            title.innerHTML = dictionary.translate(\"Menu\");\r\n\r\n            header.appendChild(title);\r\n\r\n            var closeButton = document.createElement('a');\r\n            closeButton.classList.add(\"close\");\r\n            closeButton.innerHTML = dictionary.translate(\"close\");\r\n            closeButton.addEventListener(\"click\", function (e) {\r\n                obj.close();\r\n            });\r\n\r\n            header.appendChild(closeButton);\r\n\r\n            return header;\r\n        }\r\n\r\n        /**\r\n         * Private function for create a new Item element\r\n         * @param {type} item\r\n         * @returns {jsuitesL#15.jSuites.contextmenu.createItemElement.itemContainer}\r\n         */\r\n        function createItemElement(item) {\r\n            if (item.type && (item.type == 'line' || item.type == 'divisor')) {\r\n                var itemContainer = document.createElement('hr');\r\n            } else {\r\n                var itemContainer = document.createElement('div');\r\n                var itemText = document.createElement('a');\r\n                itemText.innerHTML = item.title;\r\n\r\n                if (item.tooltip) {\r\n                    itemContainer.setAttribute('title', item.tooltip);\r\n                }\r\n\r\n                if (item.icon) {\r\n                    itemContainer.setAttribute('data-icon', item.icon);\r\n                }\r\n\r\n                if (item.id) {\r\n                    itemContainer.id = item.id;\r\n                }\r\n\r\n                if (item.disabled) {\r\n                    itemContainer.className = 'jcontextmenu-disabled';\r\n                } else if (item.onclick) {\r\n                    itemContainer.method = item.onclick;\r\n                    itemContainer.addEventListener(\"mousedown\", function (e) {\r\n                        e.preventDefault();\r\n                    });\r\n                    itemContainer.addEventListener(\"mouseup\", function (e) {\r\n                        // Execute method\r\n                        this.method(this, e);\r\n                    });\r\n                }\r\n                itemContainer.appendChild(itemText);\r\n\r\n                if (item.submenu) {\r\n                    var itemIconSubmenu = document.createElement('span');\r\n                    itemIconSubmenu.innerHTML = \"&#9658;\";\r\n                    itemContainer.appendChild(itemIconSubmenu);\r\n                    itemContainer.classList.add('jcontexthassubmenu');\r\n                    var el_submenu = document.createElement('div');\r\n                    // Class definition\r\n                    el_submenu.classList.add('jcontextmenu');\r\n                    // Focusable\r\n                    el_submenu.setAttribute('tabindex', '900');\r\n\r\n                    // Append items\r\n                    var submenu = item.submenu;\r\n                    for (var i = 0; i < submenu.length; i++) {\r\n                        var itemContainerSubMenu = createItemElement(submenu[i]);\r\n                        el_submenu.appendChild(itemContainerSubMenu);\r\n                    }\r\n\r\n                    itemContainer.appendChild(el_submenu);\r\n                } else if (item.shortcut) {\r\n                    var itemShortCut = document.createElement('span');\r\n                    itemShortCut.innerHTML = item.shortcut;\r\n                    itemContainer.appendChild(itemShortCut);\r\n                }\r\n            }\r\n            return itemContainer;\r\n        }\r\n\r\n        if (typeof (obj.options.onclick) == 'function') {\r\n            el.addEventListener('click', function (e) {\r\n                obj.options.onclick(obj, e);\r\n            });\r\n        }\r\n\r\n        // Create items\r\n        if (obj.options.items) {\r\n            obj.create(obj.options.items);\r\n        }\r\n\r\n        window.addEventListener(\"mousewheel\", function () {\r\n            obj.close();\r\n        });\r\n\r\n        el.contextmenu = obj;\r\n\r\n        return obj;\r\n    }\r\n\r\n    return Component;\r\n}\r\n\r\n/* harmony default export */ var contextmenu = (Contextmenu());\n;// CONCATENATED MODULE: ./src/plugins/dropdown.js\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Dropdown() {\r\n\r\n    var Component = (function (el, options) {\r\n        // Already created, update options\r\n        if (el.dropdown) {\r\n            return el.dropdown.setOptions(options, true);\r\n        }\r\n\r\n        // New instance\r\n        var obj = {type: 'dropdown'};\r\n        obj.options = {};\r\n\r\n        // Success\r\n        var success = function (data, val) {\r\n            // Set data\r\n            if (data && data.length) {\r\n                // Sort\r\n                if (obj.options.sortResults !== false) {\r\n                    if (typeof obj.options.sortResults == \"function\") {\r\n                        data.sort(obj.options.sortResults);\r\n                    } else {\r\n                        data.sort(sortData);\r\n                    }\r\n                }\r\n\r\n                obj.setData(data);\r\n            }\r\n\r\n            // Onload method\r\n            if (typeof (obj.options.onload) == 'function') {\r\n                obj.options.onload(el, obj, data, val);\r\n            }\r\n\r\n            // Set value\r\n            if (val) {\r\n                applyValue(val);\r\n            }\r\n\r\n            // Component value\r\n            if (val === undefined || val === null) {\r\n                obj.options.value = '';\r\n            }\r\n            el.value = obj.options.value;\r\n\r\n            // Open dropdown\r\n            if (obj.options.opened == true) {\r\n                obj.open();\r\n            }\r\n        }\r\n\r\n\r\n        // Default sort\r\n        var sortData = function (itemA, itemB) {\r\n            var testA, testB;\r\n            if (typeof itemA == \"string\") {\r\n                testA = itemA;\r\n            } else {\r\n                if (itemA.text) {\r\n                    testA = itemA.text;\r\n                } else if (itemA.name) {\r\n                    testA = itemA.name;\r\n                }\r\n            }\r\n\r\n            if (typeof itemB == \"string\") {\r\n                testB = itemB;\r\n            } else {\r\n                if (itemB.text) {\r\n                    testB = itemB.text;\r\n                } else if (itemB.name) {\r\n                    testB = itemB.name;\r\n                }\r\n            }\r\n\r\n            if (typeof testA == \"string\" || typeof testB == \"string\") {\r\n                if (typeof testA != \"string\") {\r\n                    testA = \"\" + testA;\r\n                }\r\n                if (typeof testB != \"string\") {\r\n                    testB = \"\" + testB;\r\n                }\r\n                return testA.localeCompare(testB);\r\n            } else {\r\n                return testA - testB;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Reset the options for the dropdown\r\n         */\r\n        var resetValue = function () {\r\n            // Reset value container\r\n            obj.value = {};\r\n            // Remove selected\r\n            for (var i = 0; i < obj.items.length; i++) {\r\n                if (obj.items[i].selected == true) {\r\n                    if (obj.items[i].element) {\r\n                        obj.items[i].element.classList.remove('jdropdown-selected')\r\n                    }\r\n                    obj.items[i].selected = null;\r\n                }\r\n            }\r\n            // Reset options\r\n            obj.options.value = '';\r\n            // Reset value\r\n            el.value = '';\r\n        }\r\n\r\n        /**\r\n         * Apply values to the dropdown\r\n         */\r\n        var applyValue = function (values) {\r\n            // Reset the current values\r\n            resetValue();\r\n\r\n            // Read values\r\n            if (values !== null) {\r\n                if (!values) {\r\n                    if (typeof (obj.value['']) !== 'undefined') {\r\n                        obj.value[''] = '';\r\n                    }\r\n                } else {\r\n                    if (!Array.isArray(values)) {\r\n                        values = ('' + values).split(';');\r\n                    }\r\n                    for (var i = 0; i < values.length; i++) {\r\n                        obj.value[values[i]] = '';\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Update the DOM\r\n            for (var i = 0; i < obj.items.length; i++) {\r\n                if (typeof (obj.value[Value(i)]) !== 'undefined') {\r\n                    if (obj.items[i].element) {\r\n                        obj.items[i].element.classList.add('jdropdown-selected')\r\n                    }\r\n                    obj.items[i].selected = true;\r\n\r\n                    // Keep label\r\n                    obj.value[Value(i)] = Text(i);\r\n                }\r\n            }\r\n\r\n            // Global value\r\n            obj.options.value = Object.keys(obj.value).join(';');\r\n\r\n            // Update labels\r\n            obj.header.value = obj.getText();\r\n        }\r\n\r\n        // Get the value of one item\r\n        var Value = function (k, v) {\r\n            // Legacy purposes\r\n            if (!obj.options.format) {\r\n                var property = 'value';\r\n            } else {\r\n                var property = 'id';\r\n            }\r\n\r\n            if (obj.items[k]) {\r\n                if (v !== undefined) {\r\n                    return obj.items[k].data[property] = v;\r\n                } else {\r\n                    return obj.items[k].data[property];\r\n                }\r\n            }\r\n\r\n            return '';\r\n        }\r\n\r\n        // Get the label of one item\r\n        var Text = function (k, v) {\r\n            // Legacy purposes\r\n            if (!obj.options.format) {\r\n                var property = 'text';\r\n            } else {\r\n                var property = 'name';\r\n            }\r\n\r\n            if (obj.items[k]) {\r\n                if (v !== undefined) {\r\n                    return obj.items[k].data[property] = v;\r\n                } else {\r\n                    return obj.items[k].data[property];\r\n                }\r\n            }\r\n\r\n            return '';\r\n        }\r\n\r\n        var getValue = function () {\r\n            return Object.keys(obj.value);\r\n        }\r\n\r\n        var getText = function () {\r\n            var data = [];\r\n            var k = Object.keys(obj.value);\r\n            for (var i = 0; i < k.length; i++) {\r\n                data.push(obj.value[k[i]]);\r\n            }\r\n            return data;\r\n        }\r\n\r\n        obj.setOptions = function (options, reset) {\r\n            if (!options) {\r\n                options = {};\r\n            }\r\n\r\n            // Default configuration\r\n            var defaults = {\r\n                url: null,\r\n                data: [],\r\n                format: 0,\r\n                multiple: false,\r\n                autocomplete: false,\r\n                remoteSearch: false,\r\n                lazyLoading: false,\r\n                type: null,\r\n                width: null,\r\n                maxWidth: null,\r\n                opened: false,\r\n                value: null,\r\n                placeholder: '',\r\n                newOptions: false,\r\n                position: false,\r\n                onchange: null,\r\n                onload: null,\r\n                onopen: null,\r\n                onclose: null,\r\n                onfocus: null,\r\n                onblur: null,\r\n                oninsert: null,\r\n                onbeforeinsert: null,\r\n                sortResults: false,\r\n                autofocus: false,\r\n            }\r\n\r\n            // Loop through our object\r\n            for (var property in defaults) {\r\n                if (options && options.hasOwnProperty(property)) {\r\n                    obj.options[property] = options[property];\r\n                } else {\r\n                    if (typeof (obj.options[property]) == 'undefined' || reset === true) {\r\n                        obj.options[property] = defaults[property];\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Force autocomplete search\r\n            if (obj.options.remoteSearch == true || obj.options.type === 'searchbar') {\r\n                obj.options.autocomplete = true;\r\n            }\r\n\r\n            // New options\r\n            if (obj.options.newOptions == true) {\r\n                obj.header.classList.add('jdropdown-add');\r\n            } else {\r\n                obj.header.classList.remove('jdropdown-add');\r\n            }\r\n\r\n            // Autocomplete\r\n            if (obj.options.autocomplete == true) {\r\n                obj.header.removeAttribute('readonly');\r\n            } else {\r\n                obj.header.setAttribute('readonly', 'readonly');\r\n            }\r\n\r\n            // Place holder\r\n            if (obj.options.placeholder) {\r\n                obj.header.setAttribute('placeholder', obj.options.placeholder);\r\n            } else {\r\n                obj.header.removeAttribute('placeholder');\r\n            }\r\n\r\n            // Remove specific dropdown typing to add again\r\n            el.classList.remove('jdropdown-searchbar');\r\n            el.classList.remove('jdropdown-picker');\r\n            el.classList.remove('jdropdown-list');\r\n\r\n            if (obj.options.type == 'searchbar') {\r\n                el.classList.add('jdropdown-searchbar');\r\n            } else if (obj.options.type == 'list') {\r\n                el.classList.add('jdropdown-list');\r\n            } else if (obj.options.type == 'picker') {\r\n                el.classList.add('jdropdown-picker');\r\n            } else {\r\n                if (helpers.getWindowWidth() < 800) {\r\n                    if (obj.options.autocomplete) {\r\n                        el.classList.add('jdropdown-searchbar');\r\n                        obj.options.type = 'searchbar';\r\n                    } else {\r\n                        el.classList.add('jdropdown-picker');\r\n                        obj.options.type = 'picker';\r\n                    }\r\n                } else {\r\n                    if (obj.options.width) {\r\n                        el.style.width = obj.options.width;\r\n                        el.style.minWidth = obj.options.width;\r\n                    } else {\r\n                        el.style.removeProperty('width');\r\n                        el.style.removeProperty('min-width');\r\n                    }\r\n\r\n                    el.classList.add('jdropdown-default');\r\n                    obj.options.type = 'default';\r\n                }\r\n            }\r\n\r\n            // Close button\r\n            if (obj.options.type == 'searchbar') {\r\n                containerHeader.appendChild(closeButton);\r\n            } else {\r\n                container.insertBefore(closeButton, container.firstChild);\r\n            }\r\n\r\n            // Load the content\r\n            if (obj.options.url && !options.data) {\r\n                ajax({\r\n                    url: obj.options.url,\r\n                    method: 'GET',\r\n                    dataType: 'json',\r\n                    success: function (data) {\r\n                        if (data) {\r\n                            success(data, obj.options.value);\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                success(obj.options.data, obj.options.value);\r\n            }\r\n\r\n            // Return the instance\r\n            return obj;\r\n        }\r\n\r\n        // Helpers\r\n        var containerHeader = null;\r\n        var container = null;\r\n        var content = null;\r\n        var closeButton = null;\r\n        var resetButton = null;\r\n        var backdrop = null;\r\n\r\n        var keyTimer = null;\r\n\r\n        /**\r\n         * Init dropdown\r\n         */\r\n        var init = function () {\r\n            // Do not accept null\r\n            if (!options) {\r\n                options = {};\r\n            }\r\n\r\n            // If the element is a SELECT tag, create a configuration object\r\n            if (el.tagName == 'SELECT') {\r\n                var ret = Component.extractFromDom(el, options);\r\n                el = ret.el;\r\n                options = ret.options;\r\n            }\r\n\r\n            // Place holder\r\n            if (!options.placeholder && el.getAttribute('placeholder')) {\r\n                options.placeholder = el.getAttribute('placeholder');\r\n            }\r\n\r\n            // Value container\r\n            obj.value = {};\r\n            // Containers\r\n            obj.items = [];\r\n            obj.groups = [];\r\n            // Search options\r\n            obj.search = '';\r\n            obj.results = null;\r\n\r\n            // Create dropdown\r\n            el.classList.add('jdropdown');\r\n\r\n            // Header container\r\n            containerHeader = document.createElement('div');\r\n            containerHeader.className = 'jdropdown-container-header';\r\n\r\n            // Header\r\n            obj.header = document.createElement('input');\r\n            obj.header.className = 'jdropdown-header jss_object';\r\n            obj.header.type = 'text';\r\n            obj.header.setAttribute('autocomplete', 'off');\r\n            obj.header.onfocus = function () {\r\n                if (typeof (obj.options.onfocus) == 'function') {\r\n                    obj.options.onfocus(el);\r\n                }\r\n            }\r\n\r\n            obj.header.onblur = function () {\r\n                if (typeof (obj.options.onblur) == 'function') {\r\n                    obj.options.onblur(el);\r\n                }\r\n            }\r\n\r\n            obj.header.onkeyup = function (e) {\r\n                if (obj.options.autocomplete == true && !keyTimer) {\r\n                    if (obj.search != obj.header.value.trim()) {\r\n                        keyTimer = setTimeout(function () {\r\n                            obj.find(obj.header.value.trim());\r\n                            keyTimer = null;\r\n                        }, 400);\r\n                    }\r\n\r\n                    if (!el.classList.contains('jdropdown-focus')) {\r\n                        obj.open();\r\n                    }\r\n                } else {\r\n                    if (!obj.options.autocomplete) {\r\n                        obj.next(e.key);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Global controls\r\n            if (!Component.hasEvents) {\r\n                // Execute only one time\r\n                Component.hasEvents = true;\r\n                // Enter and Esc\r\n                document.addEventListener(\"keydown\", Component.keydown);\r\n            }\r\n\r\n            // Container\r\n            container = document.createElement('div');\r\n            container.className = 'jdropdown-container';\r\n\r\n            // Dropdown content\r\n            content = document.createElement('div');\r\n            content.className = 'jdropdown-content';\r\n\r\n            // Close button\r\n            closeButton = document.createElement('div');\r\n            closeButton.className = 'jdropdown-close';\r\n            closeButton.textContent = 'Done';\r\n\r\n            // Reset button\r\n            resetButton = document.createElement('div');\r\n            resetButton.className = 'jdropdown-reset';\r\n            resetButton.textContent = 'x';\r\n            resetButton.onclick = function () {\r\n                obj.reset();\r\n                obj.close();\r\n            }\r\n\r\n            // Create backdrop\r\n            backdrop = document.createElement('div');\r\n            backdrop.className = 'jdropdown-backdrop';\r\n\r\n            // Append elements\r\n            containerHeader.appendChild(obj.header);\r\n\r\n            container.appendChild(content);\r\n            el.appendChild(containerHeader);\r\n            el.appendChild(container);\r\n            el.appendChild(backdrop);\r\n\r\n            // Set the otiptions\r\n            obj.setOptions(options);\r\n\r\n            if ('ontouchsend' in document.documentElement === true) {\r\n                el.addEventListener('touchsend', Component.mouseup);\r\n            } else {\r\n                el.addEventListener('mouseup', Component.mouseup);\r\n            }\r\n\r\n            // Lazyloading\r\n            if (obj.options.lazyLoading == true) {\r\n                LazyLoading(content, {\r\n                    loadUp: obj.loadUp,\r\n                    loadDown: obj.loadDown,\r\n                });\r\n            }\r\n\r\n            content.onwheel = function (e) {\r\n                e.stopPropagation();\r\n            }\r\n\r\n            // Change method\r\n            el.change = obj.setValue;\r\n\r\n            // Global generic value handler\r\n            el.val = function (val) {\r\n                if (val === undefined) {\r\n                    return obj.getValue(obj.options.multiple ? true : false);\r\n                } else {\r\n                    obj.setValue(val);\r\n                }\r\n            }\r\n\r\n            // Keep object available from the node\r\n            el.dropdown = obj;\r\n        }\r\n\r\n        /**\r\n         * Get the current remote source of data URL\r\n         */\r\n        obj.getUrl = function () {\r\n            return obj.options.url;\r\n        }\r\n\r\n        /**\r\n         * Set the new data from a remote source\r\n         * @param {string} url - url from the remote source\r\n         * @param {function} callback - callback when the data is loaded\r\n         */\r\n        obj.setUrl = function (url, callback) {\r\n            obj.options.url = url;\r\n\r\n            ajax({\r\n                url: obj.options.url,\r\n                method: 'GET',\r\n                dataType: 'json',\r\n                success: function (data) {\r\n                    obj.setData(data);\r\n                    // Callback\r\n                    if (typeof (callback) == 'function') {\r\n                        callback(obj);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Set ID for one item\r\n         */\r\n        obj.setId = function (item, v) {\r\n            // Legacy purposes\r\n            if (!obj.options.format) {\r\n                var property = 'value';\r\n            } else {\r\n                var property = 'id';\r\n            }\r\n\r\n            if (typeof (item) == 'object') {\r\n                item[property] = v;\r\n            } else {\r\n                obj.items[item].data[property] = v;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Add a new item\r\n         * @param {string} title - title of the new item\r\n         * @param {string} id - value/id of the new item\r\n         */\r\n        obj.add = function (title, id) {\r\n            if (!title) {\r\n                var current = obj.options.autocomplete == true ? obj.header.value : '';\r\n                var title = prompt(dictionary.translate('Add A New Option'), current);\r\n                if (!title) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            // Id\r\n            if (!id) {\r\n                id = helpers.guid();\r\n            }\r\n\r\n            // Create new item\r\n            if (!obj.options.format) {\r\n                var item = {\r\n                    value: id,\r\n                    text: title,\r\n                }\r\n            } else {\r\n                var item = {\r\n                    id: id,\r\n                    name: title,\r\n                }\r\n            }\r\n\r\n            // Callback\r\n            if (typeof (obj.options.onbeforeinsert) == 'function') {\r\n                var ret = obj.options.onbeforeinsert(obj, item);\r\n                if (ret === false) {\r\n                    return false;\r\n                } else if (ret) {\r\n                    item = ret;\r\n                }\r\n            }\r\n\r\n            // Add item to the main list\r\n            obj.options.data.push(item);\r\n\r\n            // Create DOM\r\n            var newItem = obj.createItem(item);\r\n\r\n            // Append DOM to the list\r\n            content.appendChild(newItem.element);\r\n\r\n            // Callback\r\n            if (typeof (obj.options.oninsert) == 'function') {\r\n                obj.options.oninsert(obj, item, newItem);\r\n            }\r\n\r\n            // Show content\r\n            if (content.style.display == 'none') {\r\n                content.style.display = '';\r\n            }\r\n\r\n            // Search?\r\n            if (obj.results) {\r\n                obj.results.push(newItem);\r\n            }\r\n\r\n            return item;\r\n        }\r\n\r\n        /**\r\n         * Create a new item\r\n         */\r\n        obj.createItem = function (data, group, groupName) {\r\n            // Keep the correct source of data\r\n            if (!obj.options.format) {\r\n                if (!data.value && data.id !== undefined) {\r\n                    data.value = data.id;\r\n                    //delete data.id;\r\n                }\r\n                if (!data.text && data.name !== undefined) {\r\n                    data.text = data.name;\r\n                    //delete data.name;\r\n                }\r\n            } else {\r\n                if (!data.id && data.value !== undefined) {\r\n                    data.id = data.value;\r\n                    //delete data.value;\r\n                }\r\n                if (!data.name && data.text !== undefined) {\r\n                    data.name = data.text\r\n                    //delete data.text;\r\n                }\r\n            }\r\n\r\n            // Create item\r\n            var item = {};\r\n            item.element = document.createElement('div');\r\n            item.element.className = 'jdropdown-item';\r\n            item.element.indexValue = obj.items.length;\r\n            item.data = data;\r\n\r\n            // Groupd DOM\r\n            if (group) {\r\n                item.group = group;\r\n            }\r\n\r\n            // Id\r\n            if (data.id) {\r\n                item.element.setAttribute('id', data.id);\r\n            }\r\n\r\n            // Disabled\r\n            if (data.disabled == true) {\r\n                item.element.setAttribute('data-disabled', true);\r\n            }\r\n\r\n            // Tooltip\r\n            if (data.tooltip) {\r\n                item.element.setAttribute('title', data.tooltip);\r\n            }\r\n\r\n            // Image\r\n            if (data.image) {\r\n                var image = document.createElement('img');\r\n                image.className = 'jdropdown-image';\r\n                image.src = data.image;\r\n                if (!data.title) {\r\n                    image.classList.add('jdropdown-image-small');\r\n                }\r\n                item.element.appendChild(image);\r\n            } else if (data.icon) {\r\n                var icon = document.createElement('span');\r\n                icon.className = \"jdropdown-icon material-icons\";\r\n                icon.innerText = data.icon;\r\n                if (!data.title) {\r\n                    icon.classList.add('jdropdown-icon-small');\r\n                }\r\n                if (data.color) {\r\n                    icon.style.color = data.color;\r\n                }\r\n                item.element.appendChild(icon);\r\n            } else if (data.color) {\r\n                var color = document.createElement('div');\r\n                color.className = 'jdropdown-color';\r\n                color.style.backgroundColor = data.color;\r\n                item.element.appendChild(color);\r\n            }\r\n\r\n            // Set content\r\n            if (!obj.options.format) {\r\n                var text = data.text;\r\n            } else {\r\n                var text = data.name;\r\n            }\r\n\r\n            var node = document.createElement('div');\r\n            node.className = 'jdropdown-description';\r\n            node.textContent = text || '&nbsp;';\r\n\r\n            // Title\r\n            if (data.title) {\r\n                var title = document.createElement('div');\r\n                title.className = 'jdropdown-title';\r\n                title.innerText = data.title;\r\n                node.appendChild(title);\r\n            }\r\n\r\n            // Set content\r\n            if (!obj.options.format) {\r\n                var val = data.value;\r\n            } else {\r\n                var val = data.id;\r\n            }\r\n\r\n            // Value\r\n            if (obj.value[val]) {\r\n                item.element.classList.add('jdropdown-selected');\r\n                item.selected = true;\r\n            }\r\n\r\n            // Keep DOM accessible\r\n            obj.items.push(item);\r\n\r\n            // Add node to item\r\n            item.element.appendChild(node);\r\n\r\n            return item;\r\n        }\r\n\r\n        obj.appendData = function (data) {\r\n            // Create elements\r\n            if (data.length) {\r\n                // Helpers\r\n                var items = [];\r\n                var groups = [];\r\n\r\n                // Prepare data\r\n                for (var i = 0; i < data.length; i++) {\r\n                    // Process groups\r\n                    if (data[i].group) {\r\n                        if (!groups[data[i].group]) {\r\n                            groups[data[i].group] = [];\r\n                        }\r\n                        groups[data[i].group].push(i);\r\n                    } else {\r\n                        items.push(i);\r\n                    }\r\n                }\r\n\r\n                // Number of items counter\r\n                var counter = 0;\r\n\r\n                // Groups\r\n                var groupNames = Object.keys(groups);\r\n\r\n                // Append groups in case exists\r\n                if (groupNames.length > 0) {\r\n                    for (var i = 0; i < groupNames.length; i++) {\r\n                        // Group container\r\n                        var group = document.createElement('div');\r\n                        group.className = 'jdropdown-group';\r\n                        // Group name\r\n                        var groupName = document.createElement('div');\r\n                        groupName.className = 'jdropdown-group-name';\r\n                        groupName.textContent = groupNames[i];\r\n                        // Group arrow\r\n                        var groupArrow = document.createElement('i');\r\n                        groupArrow.className = 'jdropdown-group-arrow jdropdown-group-arrow-down';\r\n                        groupName.appendChild(groupArrow);\r\n                        // Group items\r\n                        var groupContent = document.createElement('div');\r\n                        groupContent.className = 'jdropdown-group-items';\r\n                        for (var j = 0; j < groups[groupNames[i]].length; j++) {\r\n                            var item = obj.createItem(data[groups[groupNames[i]][j]], group, groupNames[i]);\r\n\r\n                            if (obj.options.lazyLoading == false || counter < 200) {\r\n                                groupContent.appendChild(item.element);\r\n                                counter++;\r\n                            }\r\n                        }\r\n                        // Group itens\r\n                        group.appendChild(groupName);\r\n                        group.appendChild(groupContent);\r\n                        // Keep group DOM\r\n                        obj.groups.push(group);\r\n                        // Only add to the screen if children on the group\r\n                        if (groupContent.children.length > 0) {\r\n                            // Add DOM to the content\r\n                            content.appendChild(group);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (items.length) {\r\n                    for (var i = 0; i < items.length; i++) {\r\n                        var item = obj.createItem(data[items[i]]);\r\n                        if (obj.options.lazyLoading == false || counter < 200) {\r\n                            content.appendChild(item.element);\r\n                            counter++;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        obj.setData = function (data) {\r\n            // Reset current value\r\n            resetValue();\r\n\r\n            // Make sure the content container is blank\r\n            content.textContent = '';\r\n\r\n            // Reset\r\n            obj.header.value = '';\r\n\r\n            // Reset items and values\r\n            obj.items = [];\r\n\r\n            // Prepare data\r\n            if (data && data.length) {\r\n                for (var i = 0; i < data.length; i++) {\r\n                    // Compatibility\r\n                    if (typeof (data[i]) != 'object') {\r\n                        // Correct format\r\n                        if (!obj.options.format) {\r\n                            data[i] = {\r\n                                value: data[i],\r\n                                text: data[i]\r\n                            }\r\n                        } else {\r\n                            data[i] = {\r\n                                id: data[i],\r\n                                name: data[i]\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Append data\r\n                obj.appendData(data);\r\n\r\n                // Update data\r\n                obj.options.data = data;\r\n            } else {\r\n                // Update data\r\n                obj.options.data = [];\r\n            }\r\n\r\n            obj.close();\r\n        }\r\n\r\n        obj.getData = function () {\r\n            return obj.options.data;\r\n        }\r\n\r\n        /**\r\n         * Get position of the item\r\n         */\r\n        obj.getPosition = function (val) {\r\n            for (var i = 0; i < obj.items.length; i++) {\r\n                if (Value(i) == val) {\r\n                    return i;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * Get dropdown current text\r\n         */\r\n        obj.getText = function (asArray) {\r\n            // Get value\r\n            var v = getText();\r\n            // Return value\r\n            if (asArray) {\r\n                return v;\r\n            } else {\r\n                return v.join('; ');\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Get dropdown current value\r\n         */\r\n        obj.getValue = function (asArray) {\r\n            // Get value\r\n            var v = getValue();\r\n            // Return value\r\n            if (asArray) {\r\n                return v;\r\n            } else {\r\n                return v.join(';');\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Change event\r\n         */\r\n        var change = function (oldValue) {\r\n            // Lemonade JS\r\n            if (el.value != obj.options.value) {\r\n                el.value = obj.options.value;\r\n                if (typeof (el.oninput) == 'function') {\r\n                    el.oninput({\r\n                        type: 'input',\r\n                        target: el,\r\n                        value: el.value\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Events\r\n            if (typeof (obj.options.onchange) == 'function') {\r\n                obj.options.onchange(el, obj, oldValue, obj.options.value);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Set value\r\n         */\r\n        obj.setValue = function (newValue) {\r\n            // Current value\r\n            var oldValue = obj.getValue();\r\n            // New value\r\n            if (Array.isArray(newValue)) {\r\n                newValue = newValue.join(';')\r\n            }\r\n\r\n            if (oldValue !== newValue) {\r\n                // Set value\r\n                applyValue(newValue);\r\n\r\n                // Change\r\n                change(oldValue);\r\n            }\r\n        }\r\n\r\n        obj.resetSelected = function () {\r\n            obj.setValue(null);\r\n        }\r\n\r\n        obj.selectIndex = function (index, force) {\r\n            // Make sure is a number\r\n            var index = parseInt(index);\r\n\r\n            // Only select those existing elements\r\n            if (obj.items && obj.items[index] && (force === true || obj.items[index].data.disabled !== true)) {\r\n                // Reset cursor to a new position\r\n                obj.setCursor(index, false);\r\n\r\n                // Behaviour\r\n                if (!obj.options.multiple) {\r\n                    // Update value\r\n                    if (obj.items[index].selected) {\r\n                        obj.setValue(null);\r\n                    } else {\r\n                        obj.setValue(Value(index));\r\n                    }\r\n\r\n                    // Close component\r\n                    obj.close();\r\n                } else {\r\n                    // Old value\r\n                    var oldValue = obj.options.value;\r\n\r\n                    // Toggle option\r\n                    if (obj.items[index].selected) {\r\n                        obj.items[index].element.classList.remove('jdropdown-selected');\r\n                        obj.items[index].selected = false;\r\n\r\n                        delete obj.value[Value(index)];\r\n                    } else {\r\n                        // Select element\r\n                        obj.items[index].element.classList.add('jdropdown-selected');\r\n                        obj.items[index].selected = true;\r\n\r\n                        // Set value\r\n                        obj.value[Value(index)] = Text(index);\r\n                    }\r\n\r\n                    // Global value\r\n                    obj.options.value = Object.keys(obj.value).join(';');\r\n\r\n                    // Update labels for multiple dropdown\r\n                    if (obj.options.autocomplete == false) {\r\n                        obj.header.value = getText().join('; ');\r\n                    }\r\n\r\n                    // Events\r\n                    change(oldValue);\r\n                }\r\n            }\r\n        }\r\n\r\n        obj.selectItem = function (item) {\r\n            obj.selectIndex(item.indexValue);\r\n        }\r\n\r\n        var exists = function (k, result) {\r\n            for (var j = 0; j < result.length; j++) {\r\n                if (!obj.options.format) {\r\n                    if (result[j].value == k) {\r\n                        return true;\r\n                    }\r\n                } else {\r\n                    if (result[j].id == k) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        obj.find = function (str) {\r\n            if (obj.search == str.trim()) {\r\n                return false;\r\n            }\r\n\r\n            // Search term\r\n            obj.search = str;\r\n\r\n            // Reset index\r\n            obj.setCursor();\r\n\r\n            // Remove nodes from all groups\r\n            if (obj.groups.length) {\r\n                for (var i = 0; i < obj.groups.length; i++) {\r\n                    obj.groups[i].lastChild.textContent = '';\r\n                }\r\n            }\r\n\r\n            // Remove all nodes\r\n            content.textContent = '';\r\n\r\n            // Remove current items in the remote search\r\n            if (obj.options.remoteSearch == true) {\r\n                // Reset results\r\n                obj.results = null;\r\n                // URL\r\n                var url = obj.options.url + (obj.options.url.indexOf('?') > 0 ? '&' : '?') + 'q=' + str;\r\n                // Remote search\r\n                ajax({\r\n                    url: url,\r\n                    method: 'GET',\r\n                    dataType: 'json',\r\n                    success: function (result) {\r\n                        // Reset items\r\n                        obj.items = [];\r\n\r\n                        // Add the current selected items to the results in case they are not there\r\n                        var current = Object.keys(obj.value);\r\n                        if (current.length) {\r\n                            for (var i = 0; i < current.length; i++) {\r\n                                if (!exists(current[i], result)) {\r\n                                    if (!obj.options.format) {\r\n                                        result.unshift({value: current[i], text: obj.value[current[i]]});\r\n                                    } else {\r\n                                        result.unshift({id: current[i], name: obj.value[current[i]]});\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        // Append data\r\n                        obj.appendData(result);\r\n                        // Show or hide results\r\n                        if (!result.length) {\r\n                            content.style.display = 'none';\r\n                        } else {\r\n                            content.style.display = '';\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                // Search terms\r\n                str = new RegExp(str, 'gi');\r\n\r\n                // Reset search\r\n                var results = [];\r\n\r\n                // Append options\r\n                for (var i = 0; i < obj.items.length; i++) {\r\n                    // Item label\r\n                    var label = Text(i);\r\n                    // Item title\r\n                    var title = obj.items[i].data.title || '';\r\n                    // Group name\r\n                    var groupName = obj.items[i].data.group || '';\r\n                    // Synonym\r\n                    var synonym = obj.items[i].data.synonym || '';\r\n                    if (synonym) {\r\n                        synonym = synonym.join(' ');\r\n                    }\r\n\r\n                    if (str == null || obj.items[i].selected == true || label.match(str) || title.match(str) || groupName.match(str) || synonym.match(str)) {\r\n                        results.push(obj.items[i]);\r\n                    }\r\n                }\r\n\r\n                if (!results.length) {\r\n                    content.style.display = 'none';\r\n\r\n                    // Results\r\n                    obj.results = null;\r\n                } else {\r\n                    content.style.display = '';\r\n\r\n                    // Results\r\n                    obj.results = results;\r\n\r\n                    // Show 200 items at once\r\n                    var number = results.length || 0;\r\n\r\n                    // Lazyloading\r\n                    if (obj.options.lazyLoading == true && number > 200) {\r\n                        number = 200;\r\n                    }\r\n\r\n                    for (var i = 0; i < number; i++) {\r\n                        if (obj.results[i].group) {\r\n                            if (!obj.results[i].group.parentNode) {\r\n                                content.appendChild(obj.results[i].group);\r\n                            }\r\n                            obj.results[i].group.lastChild.appendChild(obj.results[i].element);\r\n                        } else {\r\n                            content.appendChild(obj.results[i].element);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Auto focus\r\n            if (obj.options.autofocus == true) {\r\n                obj.first();\r\n            }\r\n        }\r\n\r\n        obj.open = function () {\r\n            // Focus\r\n            if (!el.classList.contains('jdropdown-focus')) {\r\n                // Current dropdown\r\n                Component.current = obj;\r\n\r\n                // Start tracking\r\n                Tracking(obj, true);\r\n\r\n                // Add focus\r\n                el.classList.add('jdropdown-focus');\r\n\r\n                // Animation\r\n                if (helpers.getWindowWidth() < 800) {\r\n                    if (obj.options.type == null || obj.options.type == 'picker') {\r\n                        animation.slideBottom(container, 1);\r\n                    }\r\n                }\r\n\r\n                // Filter\r\n                if (obj.options.autocomplete == true) {\r\n                    obj.header.value = obj.search;\r\n                    obj.header.focus();\r\n                }\r\n\r\n                // Set cursor for the first or first selected element\r\n                var k = getValue();\r\n                if (k[0]) {\r\n                    var cursor = obj.getPosition(k[0]);\r\n                    if (cursor !== false) {\r\n                        obj.setCursor(cursor);\r\n                    }\r\n                }\r\n\r\n                // Container Size\r\n                if (!obj.options.type || obj.options.type == 'default') {\r\n                    var rect = el.getBoundingClientRect();\r\n                    var rectContainer = container.getBoundingClientRect();\r\n\r\n                    if (obj.options.position) {\r\n                        container.style.position = 'fixed';\r\n                        if (window.innerHeight < rect.bottom + rectContainer.height) {\r\n                            container.style.top = '';\r\n                            container.style.bottom = (window.innerHeight - rect.top) + 1 + 'px';\r\n                        } else {\r\n                            container.style.top = rect.bottom + 'px';\r\n                            container.style.bottom = '';\r\n                        }\r\n                        container.style.left = rect.left + 'px';\r\n                    } else {\r\n                        if (window.innerHeight < rect.bottom + rectContainer.height) {\r\n                            container.style.top = '';\r\n                            container.style.bottom = rect.height + 1 + 'px';\r\n                        } else {\r\n                            container.style.top = '';\r\n                            container.style.bottom = '';\r\n                        }\r\n                    }\r\n\r\n                    container.style.minWidth = rect.width + 'px';\r\n\r\n                    if (obj.options.maxWidth) {\r\n                        container.style.maxWidth = obj.options.maxWidth;\r\n                    }\r\n\r\n                    if (!obj.items.length && obj.options.autocomplete == true) {\r\n                        content.style.display = 'none';\r\n                    } else {\r\n                        content.style.display = '';\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Events\r\n            if (typeof (obj.options.onopen) == 'function') {\r\n                obj.options.onopen(el);\r\n            }\r\n        }\r\n\r\n        obj.close = function (ignoreEvents) {\r\n            if (el.classList.contains('jdropdown-focus')) {\r\n                // Update labels\r\n                obj.header.value = obj.getText();\r\n                // Remove cursor\r\n                obj.setCursor();\r\n                // Events\r\n                if (!ignoreEvents && typeof (obj.options.onclose) == 'function') {\r\n                    obj.options.onclose(el);\r\n                }\r\n                // Blur\r\n                if (obj.header.blur) {\r\n                    obj.header.blur();\r\n                }\r\n                // Remove focus\r\n                el.classList.remove('jdropdown-focus');\r\n                // Start tracking\r\n                Tracking(obj, false);\r\n                // Current dropdown\r\n                Component.current = null;\r\n            }\r\n\r\n            return obj.getValue();\r\n        }\r\n\r\n        /**\r\n         * Set cursor\r\n         */\r\n        obj.setCursor = function (index, setPosition) {\r\n            // Remove current cursor\r\n            if (obj.currentIndex != null) {\r\n                // Remove visual cursor\r\n                if (obj.items && obj.items[obj.currentIndex]) {\r\n                    obj.items[obj.currentIndex].element.classList.remove('jdropdown-cursor');\r\n                }\r\n            }\r\n\r\n            if (index == undefined) {\r\n                obj.currentIndex = null;\r\n            } else {\r\n                index = parseInt(index);\r\n\r\n                // Cursor only for visible items\r\n                if (obj.items[index].element.parentNode) {\r\n                    obj.items[index].element.classList.add('jdropdown-cursor');\r\n                    obj.currentIndex = index;\r\n\r\n                    // Update scroll to the cursor element\r\n                    if (setPosition !== false && obj.items[obj.currentIndex].element) {\r\n                        var container = content.scrollTop;\r\n                        var element = obj.items[obj.currentIndex].element;\r\n                        content.scrollTop = element.offsetTop - element.scrollTop + element.clientTop - 95;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Compatibility\r\n        obj.resetCursor = obj.setCursor;\r\n        obj.updateCursor = obj.setCursor;\r\n\r\n        /**\r\n         * Reset cursor and selected items\r\n         */\r\n        obj.reset = function () {\r\n            // Reset cursor\r\n            obj.setCursor();\r\n\r\n            // Reset selected\r\n            obj.setValue(null);\r\n        }\r\n\r\n        /**\r\n         * First available item\r\n         */\r\n        obj.first = function () {\r\n            if (obj.options.lazyLoading === true) {\r\n                obj.loadFirst();\r\n            }\r\n\r\n            var items = content.querySelectorAll('.jdropdown-item');\r\n            if (items.length) {\r\n                var newIndex = items[0].indexValue;\r\n                obj.setCursor(newIndex);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Last available item\r\n         */\r\n        obj.last = function () {\r\n            if (obj.options.lazyLoading === true) {\r\n                obj.loadLast();\r\n            }\r\n\r\n            var items = content.querySelectorAll('.jdropdown-item');\r\n            if (items.length) {\r\n                var newIndex = items[items.length - 1].indexValue;\r\n                obj.setCursor(newIndex);\r\n            }\r\n        }\r\n\r\n        obj.next = function (letter) {\r\n            var newIndex = null;\r\n\r\n            if (letter) {\r\n                if (letter.length == 1) {\r\n                    // Current index\r\n                    var current = obj.currentIndex || -1;\r\n                    // Letter\r\n                    letter = letter.toLowerCase();\r\n\r\n                    var e = null;\r\n                    var l = null;\r\n                    var items = content.querySelectorAll('.jdropdown-item');\r\n                    if (items.length) {\r\n                        for (var i = 0; i < items.length; i++) {\r\n                            if (items[i].indexValue > current) {\r\n                                if (e = obj.items[items[i].indexValue]) {\r\n                                    if (l = e.element.innerText[0]) {\r\n                                        l = l.toLowerCase();\r\n                                        if (letter == l) {\r\n                                            newIndex = items[i].indexValue;\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        obj.setCursor(newIndex);\r\n                    }\r\n                }\r\n            } else {\r\n                if (obj.currentIndex == undefined || obj.currentIndex == null) {\r\n                    obj.first();\r\n                } else {\r\n                    var element = obj.items[obj.currentIndex].element;\r\n\r\n                    var next = element.nextElementSibling;\r\n                    if (next) {\r\n                        if (next.classList.contains('jdropdown-group')) {\r\n                            next = next.lastChild.firstChild;\r\n                        }\r\n                        newIndex = next.indexValue;\r\n                    } else {\r\n                        if (element.parentNode.classList.contains('jdropdown-group-items')) {\r\n                            if (next = element.parentNode.parentNode.nextElementSibling) {\r\n                                if (next.classList.contains('jdropdown-group')) {\r\n                                    next = next.lastChild.firstChild;\r\n                                } else if (next.classList.contains('jdropdown-item')) {\r\n                                    newIndex = next.indexValue;\r\n                                } else {\r\n                                    next = null;\r\n                                }\r\n                            }\r\n\r\n                            if (next) {\r\n                                newIndex = next.indexValue;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (newIndex !== null) {\r\n                        obj.setCursor(newIndex);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        obj.prev = function () {\r\n            var newIndex = null;\r\n\r\n            if (obj.currentIndex === null) {\r\n                obj.first();\r\n            } else {\r\n                var element = obj.items[obj.currentIndex].element;\r\n\r\n                var prev = element.previousElementSibling;\r\n                if (prev) {\r\n                    if (prev.classList.contains('jdropdown-group')) {\r\n                        prev = prev.lastChild.lastChild;\r\n                    }\r\n                    newIndex = prev.indexValue;\r\n                } else {\r\n                    if (element.parentNode.classList.contains('jdropdown-group-items')) {\r\n                        if (prev = element.parentNode.parentNode.previousElementSibling) {\r\n                            if (prev.classList.contains('jdropdown-group')) {\r\n                                prev = prev.lastChild.lastChild;\r\n                            } else if (prev.classList.contains('jdropdown-item')) {\r\n                                newIndex = prev.indexValue;\r\n                            } else {\r\n                                prev = null\r\n                            }\r\n                        }\r\n\r\n                        if (prev) {\r\n                            newIndex = prev.indexValue;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (newIndex !== null) {\r\n                obj.setCursor(newIndex);\r\n            }\r\n        }\r\n\r\n        obj.loadFirst = function () {\r\n            // Search\r\n            if (obj.results) {\r\n                var results = obj.results;\r\n            } else {\r\n                var results = obj.items;\r\n            }\r\n\r\n            // Show 200 items at once\r\n            var number = results.length || 0;\r\n\r\n            // Lazyloading\r\n            if (obj.options.lazyLoading == true && number > 200) {\r\n                number = 200;\r\n            }\r\n\r\n            // Reset container\r\n            content.textContent = '';\r\n\r\n            // First 200 items\r\n            for (var i = 0; i < number; i++) {\r\n                if (results[i].group) {\r\n                    if (!results[i].group.parentNode) {\r\n                        content.appendChild(results[i].group);\r\n                    }\r\n                    results[i].group.lastChild.appendChild(results[i].element);\r\n                } else {\r\n                    content.appendChild(results[i].element);\r\n                }\r\n            }\r\n\r\n            // Scroll go to the begin\r\n            content.scrollTop = 0;\r\n        }\r\n\r\n        obj.loadLast = function () {\r\n            // Search\r\n            if (obj.results) {\r\n                var results = obj.results;\r\n            } else {\r\n                var results = obj.items;\r\n            }\r\n\r\n            // Show first page\r\n            var number = results.length;\r\n\r\n            // Max 200 items\r\n            if (number > 200) {\r\n                number = number - 200;\r\n\r\n                // Reset container\r\n                content.textContent = '';\r\n\r\n                // First 200 items\r\n                for (var i = number; i < results.length; i++) {\r\n                    if (results[i].group) {\r\n                        if (!results[i].group.parentNode) {\r\n                            content.appendChild(results[i].group);\r\n                        }\r\n                        results[i].group.lastChild.appendChild(results[i].element);\r\n                    } else {\r\n                        content.appendChild(results[i].element);\r\n                    }\r\n                }\r\n\r\n                // Scroll go to the begin\r\n                content.scrollTop = content.scrollHeight;\r\n            }\r\n        }\r\n\r\n        obj.loadUp = function () {\r\n            var test = false;\r\n\r\n            // Search\r\n            if (obj.results) {\r\n                var results = obj.results;\r\n            } else {\r\n                var results = obj.items;\r\n            }\r\n\r\n            var items = content.querySelectorAll('.jdropdown-item');\r\n            var fistItem = items[0].indexValue;\r\n            fistItem = obj.items[fistItem];\r\n            var index = results.indexOf(fistItem) - 1;\r\n\r\n            if (index > 0) {\r\n                var number = 0;\r\n\r\n                while (index > 0 && results[index] && number < 200) {\r\n                    if (results[index].group) {\r\n                        if (!results[index].group.parentNode) {\r\n                            content.insertBefore(results[index].group, content.firstChild);\r\n                        }\r\n                        results[index].group.lastChild.insertBefore(results[index].element, results[index].group.lastChild.firstChild);\r\n                    } else {\r\n                        content.insertBefore(results[index].element, content.firstChild);\r\n                    }\r\n\r\n                    index--;\r\n                    number++;\r\n                }\r\n\r\n                // New item added\r\n                test = true;\r\n            }\r\n\r\n            return test;\r\n        }\r\n\r\n        obj.loadDown = function () {\r\n            var test = false;\r\n\r\n            // Search\r\n            if (obj.results) {\r\n                var results = obj.results;\r\n            } else {\r\n                var results = obj.items;\r\n            }\r\n\r\n            var items = content.querySelectorAll('.jdropdown-item');\r\n            var lastItem = items[items.length - 1].indexValue;\r\n            lastItem = obj.items[lastItem];\r\n            var index = results.indexOf(lastItem) + 1;\r\n\r\n            if (index < results.length) {\r\n                var number = 0;\r\n                while (index < results.length && results[index] && number < 200) {\r\n                    if (results[index].group) {\r\n                        if (!results[index].group.parentNode) {\r\n                            content.appendChild(results[index].group);\r\n                        }\r\n                        results[index].group.lastChild.appendChild(results[index].element);\r\n                    } else {\r\n                        content.appendChild(results[index].element);\r\n                    }\r\n\r\n                    index++;\r\n                    number++;\r\n                }\r\n\r\n                // New item added\r\n                test = true;\r\n            }\r\n\r\n            return test;\r\n        }\r\n\r\n        init();\r\n\r\n        return obj;\r\n    });\r\n\r\n    Component.keydown = function (e) {\r\n        var dropdown = null;\r\n        if (dropdown = Component.current) {\r\n            if (e.which == 13 || e.which == 9) {  // enter or tab\r\n                if (dropdown.header.value && dropdown.currentIndex == null && dropdown.options.newOptions) {\r\n                    // if they typed something in, but it matched nothing, and newOptions are allowed, start that flow\r\n                    dropdown.add();\r\n                } else {\r\n                    // Quick Select/Filter\r\n                    if (dropdown.currentIndex == null && dropdown.options.autocomplete == true && dropdown.header.value != \"\") {\r\n                        dropdown.find(dropdown.header.value);\r\n                    }\r\n                    dropdown.selectIndex(dropdown.currentIndex);\r\n                }\r\n            } else if (e.which == 38) {  // up arrow\r\n                if (dropdown.currentIndex == null) {\r\n                    dropdown.first();\r\n                } else if (dropdown.currentIndex > 0) {\r\n                    dropdown.prev();\r\n                }\r\n                e.preventDefault();\r\n            } else if (e.which == 40) {  // down arrow\r\n                if (dropdown.currentIndex == null) {\r\n                    dropdown.first();\r\n                } else if (dropdown.currentIndex + 1 < dropdown.items.length) {\r\n                    dropdown.next();\r\n                }\r\n                e.preventDefault();\r\n            } else if (e.which == 36) {\r\n                dropdown.first();\r\n                if (!e.target.classList.contains('jdropdown-header')) {\r\n                    e.preventDefault();\r\n                }\r\n            } else if (e.which == 35) {\r\n                dropdown.last();\r\n                if (!e.target.classList.contains('jdropdown-header')) {\r\n                    e.preventDefault();\r\n                }\r\n            } else if (e.which == 27) {\r\n                dropdown.close();\r\n            } else if (e.which == 33) {  // page up\r\n                if (dropdown.currentIndex == null) {\r\n                    dropdown.first();\r\n                } else if (dropdown.currentIndex > 0) {\r\n                    for (var i = 0; i < 7; i++) {\r\n                        dropdown.prev()\r\n                    }\r\n                }\r\n                e.preventDefault();\r\n            } else if (e.which == 34) {  // page down\r\n                if (dropdown.currentIndex == null) {\r\n                    dropdown.first();\r\n                } else if (dropdown.currentIndex + 1 < dropdown.items.length) {\r\n                    for (var i = 0; i < 7; i++) {\r\n                        dropdown.next()\r\n                    }\r\n                }\r\n                e.preventDefault();\r\n            }\r\n        }\r\n    }\r\n\r\n    Component.mouseup = function (e) {\r\n        var element = helpers.findElement(e.target, 'jdropdown');\r\n        if (element) {\r\n            var dropdown = element.dropdown;\r\n            if (e.target.classList.contains('jdropdown-header')) {\r\n                if (element.classList.contains('jdropdown-focus') && element.classList.contains('jdropdown-default')) {\r\n                    var rect = element.getBoundingClientRect();\r\n\r\n                    if (e.changedTouches && e.changedTouches[0]) {\r\n                        var x = e.changedTouches[0].clientX;\r\n                        var y = e.changedTouches[0].clientY;\r\n                    } else {\r\n                        var x = e.clientX;\r\n                        var y = e.clientY;\r\n                    }\r\n\r\n                    if (rect.width - (x - rect.left) < 30) {\r\n                        if (e.target.classList.contains('jdropdown-add')) {\r\n                            dropdown.add();\r\n                        } else {\r\n                            dropdown.close();\r\n                        }\r\n                    } else {\r\n                        if (dropdown.options.autocomplete == false) {\r\n                            dropdown.close();\r\n                        }\r\n                    }\r\n                } else {\r\n                    dropdown.open();\r\n                }\r\n            } else if (e.target.classList.contains('jdropdown-group-name')) {\r\n                var items = e.target.nextSibling.children;\r\n                if (e.target.nextSibling.style.display != 'none') {\r\n                    for (var i = 0; i < items.length; i++) {\r\n                        if (items[i].style.display != 'none') {\r\n                            dropdown.selectItem(items[i]);\r\n                        }\r\n                    }\r\n                }\r\n            } else if (e.target.classList.contains('jdropdown-group-arrow')) {\r\n                if (e.target.classList.contains('jdropdown-group-arrow-down')) {\r\n                    e.target.classList.remove('jdropdown-group-arrow-down');\r\n                    e.target.classList.add('jdropdown-group-arrow-up');\r\n                    e.target.parentNode.nextSibling.style.display = 'none';\r\n                } else {\r\n                    e.target.classList.remove('jdropdown-group-arrow-up');\r\n                    e.target.classList.add('jdropdown-group-arrow-down');\r\n                    e.target.parentNode.nextSibling.style.display = '';\r\n                }\r\n            } else if (e.target.classList.contains('jdropdown-item')) {\r\n                dropdown.selectItem(e.target);\r\n            } else if (e.target.classList.contains('jdropdown-image')) {\r\n                dropdown.selectItem(e.target.parentNode);\r\n            } else if (e.target.classList.contains('jdropdown-description')) {\r\n                dropdown.selectItem(e.target.parentNode);\r\n            } else if (e.target.classList.contains('jdropdown-title')) {\r\n                dropdown.selectItem(e.target.parentNode.parentNode);\r\n            } else if (e.target.classList.contains('jdropdown-close') || e.target.classList.contains('jdropdown-backdrop')) {\r\n                dropdown.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    Component.extractFromDom = function (el, options) {\r\n        // Keep reference\r\n        var select = el;\r\n        if (!options) {\r\n            options = {};\r\n        }\r\n        // Prepare configuration\r\n        if (el.getAttribute('multiple') && (!options || options.multiple == undefined)) {\r\n            options.multiple = true;\r\n        }\r\n        if (el.getAttribute('placeholder') && (!options || options.placeholder == undefined)) {\r\n            options.placeholder = el.getAttribute('placeholder');\r\n        }\r\n        if (el.getAttribute('data-autocomplete') && (!options || options.autocomplete == undefined)) {\r\n            options.autocomplete = true;\r\n        }\r\n        if (!options || options.width == undefined) {\r\n            options.width = el.offsetWidth;\r\n        }\r\n        if (el.value && (!options || options.value == undefined)) {\r\n            options.value = el.value;\r\n        }\r\n        if (!options || options.data == undefined) {\r\n            options.data = [];\r\n            for (var j = 0; j < el.children.length; j++) {\r\n                if (el.children[j].tagName == 'OPTGROUP') {\r\n                    for (var i = 0; i < el.children[j].children.length; i++) {\r\n                        options.data.push({\r\n                            value: el.children[j].children[i].value,\r\n                            text: el.children[j].children[i].textContent,\r\n                            group: el.children[j].getAttribute('label'),\r\n                        });\r\n                    }\r\n                } else {\r\n                    options.data.push({\r\n                        value: el.children[j].value,\r\n                        text: el.children[j].textContent,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        if (!options || options.onchange == undefined) {\r\n            options.onchange = function (a, b, c, d) {\r\n                if (options.multiple == true) {\r\n                    if (obj.items[b].classList.contains('jdropdown-selected')) {\r\n                        select.options[b].setAttribute('selected', 'selected');\r\n                    } else {\r\n                        select.options[b].removeAttribute('selected');\r\n                    }\r\n                } else {\r\n                    select.value = d;\r\n                }\r\n            }\r\n        }\r\n        // Create DIV\r\n        var div = document.createElement('div');\r\n        el.parentNode.insertBefore(div, el);\r\n        el.style.display = 'none';\r\n        el = div;\r\n\r\n        return {el: el, options: options};\r\n    }\r\n\r\n    return Component;\r\n}\r\n\r\n/* harmony default export */ var dropdown = (Dropdown());\n;// CONCATENATED MODULE: ./src/plugins/picker.js\n\n\n\nfunction Picker(el, options) {\n    // Already created, update options\n    if (el.picker) {\n        return el.picker.setOptions(options, true);\n    }\n\n    // New instance\n    var obj = { type: 'picker' };\n    obj.options = {};\n\n    var dropdownHeader = null;\n    var dropdownContent = null;\n\n    /**\n     * The element passed is a DOM element\n     */\n    var isDOM = function(o) {\n        return (o instanceof Element || o instanceof HTMLDocument);\n    }\n\n    /**\n     * Create the content options\n     */\n    var createContent = function() {\n        dropdownContent.innerHTML = '';\n\n        // Create items\n        var keys = Object.keys(obj.options.data);\n\n        // Go though all options\n        for (var i = 0; i < keys.length; i++) {\n            // Item\n            var dropdownItem = document.createElement('div');\n            dropdownItem.classList.add('jpicker-item');\n            dropdownItem.k = keys[i];\n            dropdownItem.v = obj.options.data[keys[i]];\n            // Label\n            var item = obj.getLabel(keys[i], dropdownItem);\n            if (isDOM(item)) {\n                dropdownItem.appendChild(item);\n            } else {\n                dropdownItem.innerHTML = item;\n            }\n            // Append\n            dropdownContent.appendChild(dropdownItem);\n        }\n    }\n\n    /**\n     * Set or reset the options for the picker\n     */\n    obj.setOptions = function(options, reset) {\n        // Default configuration\n        var defaults = {\n            value: 0,\n            data: null,\n            render: null,\n            onchange: null,\n            onmouseover: null,\n            onselect: null,\n            onopen: null,\n            onclose: null,\n            onload: null,\n            width: null,\n            header: true,\n            right: false,\n            bottom: false,\n            content: false,\n            columns: null,\n            grid: null,\n            height: null,\n        }\n\n        // Legacy purpose only\n        if (options && options.options) {\n            options.data = options.options;\n        }\n\n        // Loop through the initial configuration\n        for (var property in defaults) {\n            if (options && options.hasOwnProperty(property)) {\n                obj.options[property] = options[property];\n            } else {\n                if (typeof(obj.options[property]) == 'undefined' || reset === true) {\n                    obj.options[property] = defaults[property];\n                }\n            }\n        }\n\n        // Start using the options\n        if (obj.options.header === false) {\n            dropdownHeader.style.display = 'none';\n        } else {\n            dropdownHeader.style.display = '';\n        }\n\n        // Width\n        if (obj.options.width) {\n            dropdownHeader.style.width = parseInt(obj.options.width) + 'px';\n        } else {\n            dropdownHeader.style.width = '';\n        }\n\n        // Height\n        if (obj.options.height) {\n            dropdownContent.style.maxHeight = obj.options.height + 'px';\n            dropdownContent.style.overflow = 'scroll';\n        } else {\n            dropdownContent.style.overflow = '';\n        }\n\n        if (obj.options.columns > 0) {\n            if (! obj.options.grid) {\n                dropdownContent.classList.add('jpicker-columns');\n                dropdownContent.style.width = obj.options.width ? obj.options.width : 36 * obj.options.columns + 'px';\n            } else {\n                dropdownContent.classList.add('jpicker-grid');\n                dropdownContent.style.gridTemplateColumns = 'repeat(' + obj.options.grid + ', 1fr)';\n            }\n        }\n\n        if (isNaN(parseInt(obj.options.value))) {\n            obj.options.value = 0;\n        }\n\n        // Create list from data\n        createContent();\n\n        // Set value\n        obj.setValue(obj.options.value);\n\n        // Set options all returns the own instance\n        return obj;\n    }\n\n    obj.getValue = function() {\n        return obj.options.value;\n    }\n\n    obj.setValue = function(k, e) {\n        // Set label\n        obj.setLabel(k);\n\n        // Update value\n        obj.options.value = String(k);\n\n        // Lemonade JS\n        if (el.value != obj.options.value) {\n            el.value = obj.options.value;\n            if (typeof(el.oninput) == 'function') {\n                el.oninput({\n                    type: 'input',\n                    target: el,\n                    value: el.value\n                });\n            }\n        }\n\n        if (dropdownContent.children[k] && dropdownContent.children[k].getAttribute('type') !== 'generic') {\n            obj.close();\n        }\n\n        // Call method\n        if (e) {\n            if (typeof (obj.options.onchange) == 'function') {\n                var v = obj.options.data[k];\n\n                obj.options.onchange(el, obj, v, v, k, e);\n            }\n        }\n    }\n\n    obj.getLabel = function(v, item) {\n        var label = obj.options.data[v] || null;\n        if (typeof(obj.options.render) == 'function') {\n            label = obj.options.render(label, item);\n        }\n        return label;\n    }\n\n    obj.setLabel = function(v) {\n        var item;\n\n        if (obj.options.content) {\n            item = '<i class=\"material-icons\">' + obj.options.content + '</i>';\n        } else {\n            item = obj.getLabel(v, null);\n        }\n        // Label\n        if (isDOM(item)) {\n            dropdownHeader.innerHTML = '';\n            dropdownHeader.appendChild(item);\n        } else {\n            dropdownHeader.innerHTML = item;\n        }\n    }\n\n    obj.open = function() {\n        if (! el.classList.contains('jpicker-focus')) {\n            // Start tracking the element\n            Tracking(obj, true);\n\n            // Open picker\n            el.classList.add('jpicker-focus');\n            el.focus();\n\n            var top = 0;\n            var left = 0;\n\n            dropdownContent.style.marginLeft = '';\n\n            var rectHeader = dropdownHeader.getBoundingClientRect();\n            var rectContent = dropdownContent.getBoundingClientRect();\n\n            if (window.innerHeight < rectHeader.bottom + rectContent.height || obj.options.bottom) {\n                top = -1 * (rectContent.height + 4);\n            } else {\n                top = rectHeader.height + 4;\n            }\n\n            if (obj.options.right === true) {\n                left = -1 * rectContent.width + rectHeader.width;\n            }\n\n            if (rectContent.left + left < 0) {\n                left = left + rectContent.left + 10;\n            }\n            if (rectContent.left + rectContent.width > window.innerWidth) {\n                left = -1 * (10 + rectContent.left + rectContent.width - window.innerWidth);\n            }\n\n            dropdownContent.style.marginTop = parseInt(top) + 'px';\n            dropdownContent.style.marginLeft = parseInt(left) + 'px';\n\n            //dropdownContent.style.marginTop\n            if (typeof obj.options.onopen == 'function') {\n                obj.options.onopen(el, obj);\n            }\n        }\n    }\n\n    obj.close = function() {\n        if (el.classList.contains('jpicker-focus')) {\n            el.classList.remove('jpicker-focus');\n\n            // Start tracking the element\n            Tracking(obj, false);\n\n            if (typeof obj.options.onclose == 'function') {\n                obj.options.onclose(el, obj);\n            }\n        }\n    }\n\n    /**\n     * Create floating picker\n     */\n    var init = function() {\n        // Class\n        el.classList.add('jpicker');\n        el.setAttribute('tabindex', '900');\n        el.onmousedown = function(e) {\n            if (! el.classList.contains('jpicker-focus')) {\n                obj.open();\n            }\n        }\n\n        // Dropdown Header\n        dropdownHeader = document.createElement('div');\n        dropdownHeader.classList.add('jpicker-header');\n\n        // Dropdown content\n        dropdownContent = document.createElement('div');\n        dropdownContent.classList.add('jpicker-content');\n        dropdownContent.onclick = function(e) {\n            var item = helpers.findElement(e.target, 'jpicker-item');\n            if (item) {\n                if (item.parentNode === dropdownContent) {\n                    // Update label\n                    obj.setValue(item.k, e);\n                }\n            }\n        }\n        // Append content and header\n        el.appendChild(dropdownHeader);\n        el.appendChild(dropdownContent);\n\n        // Default value\n        el.value = options.value || 0;\n\n        // Set options\n        obj.setOptions(options);\n\n        if (typeof(obj.options.onload) == 'function') {\n            obj.options.onload(el, obj);\n        }\n\n        // Change\n        el.change = obj.setValue;\n\n        // Global generic value handler\n        el.val = function(val) {\n            if (val === undefined) {\n                return obj.getValue();\n            } else {\n                obj.setValue(val);\n            }\n        }\n\n        // Reference\n        el.picker = obj;\n    }\n\n    init();\n\n    return obj;\n}\n;// CONCATENATED MODULE: ./src/plugins/toolbar.js\n\r\n\r\n\r\n\r\n\r\nfunction Toolbar(el, options) {\r\n    // New instance\r\n    var obj = { type:'toolbar' };\r\n    obj.options = {};\r\n\r\n    // Default configuration\r\n    var defaults = {\r\n        app: null,\r\n        container: false,\r\n        badge: false,\r\n        title: false,\r\n        responsive: false,\r\n        maxWidth: null,\r\n        bottom: true,\r\n        items: [],\r\n    }\r\n\r\n    // Loop through our object\r\n    for (var property in defaults) {\r\n        if (options && options.hasOwnProperty(property)) {\r\n            obj.options[property] = options[property];\r\n        } else {\r\n            obj.options[property] = defaults[property];\r\n        }\r\n    }\r\n\r\n    if (! el && options.app && options.app.el) {\r\n        el = document.createElement('div');\r\n        options.app.el.appendChild(el);\r\n    }\r\n\r\n    // Arrow\r\n    var toolbarArrow = document.createElement('div');\r\n    toolbarArrow.classList.add('jtoolbar-item');\r\n    toolbarArrow.classList.add('jtoolbar-arrow');\r\n\r\n    var toolbarFloating = document.createElement('div');\r\n    toolbarFloating.classList.add('jtoolbar-floating');\r\n    toolbarArrow.appendChild(toolbarFloating);\r\n\r\n    obj.selectItem = function(element) {\r\n        var elements = toolbarContent.children;\r\n        for (var i = 0; i < elements.length; i++) {\r\n            if (element != elements[i]) {\r\n                elements[i].classList.remove('jtoolbar-selected');\r\n            }\r\n        }\r\n        element.classList.add('jtoolbar-selected');\r\n    }\r\n\r\n    obj.hide = function() {\r\n        animation.slideBottom(el, 0, function() {\r\n            el.style.display = 'none';\r\n        });\r\n    }\r\n\r\n    obj.show = function() {\r\n        el.style.display = '';\r\n        animation.slideBottom(el, 1);\r\n    }\r\n\r\n    obj.get = function() {\r\n        return el;\r\n    }\r\n\r\n    obj.setBadge = function(index, value) {\r\n        toolbarContent.children[index].children[1].firstChild.innerHTML = value;\r\n    }\r\n\r\n    obj.destroy = function() {\r\n        toolbar.remove();\r\n        el.innerHTML = '';\r\n    }\r\n\r\n    obj.update = function(a, b) {\r\n        for (var i = 0; i < toolbarContent.children.length; i++) {\r\n            // Toolbar element\r\n            var toolbarItem = toolbarContent.children[i];\r\n            // State management\r\n            if (typeof(toolbarItem.updateState) == 'function') {\r\n                toolbarItem.updateState(el, obj, toolbarItem, a, b);\r\n            }\r\n        }\r\n        for (var i = 0; i < toolbarFloating.children.length; i++) {\r\n            // Toolbar element\r\n            var toolbarItem = toolbarFloating.children[i];\r\n            // State management\r\n            if (typeof(toolbarItem.updateState) == 'function') {\r\n                toolbarItem.updateState(el, obj, toolbarItem, a, b);\r\n            }\r\n        }\r\n    }\r\n\r\n    obj.create = function(items) {\r\n        // Reset anything in the toolbar\r\n        toolbarContent.innerHTML = '';\r\n        // Create elements in the toolbar\r\n        for (var i = 0; i < items.length; i++) {\r\n            var toolbarItem = document.createElement('div');\r\n            toolbarItem.classList.add('jtoolbar-item');\r\n\r\n            if (items[i].width) {\r\n                toolbarItem.style.width = parseInt(items[i].width) + 'px'; \r\n            }\r\n\r\n            if (items[i].k) {\r\n                toolbarItem.k = items[i].k;\r\n            }\r\n\r\n            if (items[i].tooltip) {\r\n                toolbarItem.setAttribute('title', items[i].tooltip);\r\n            }\r\n\r\n            // Id\r\n            if (items[i].id) {\r\n                toolbarItem.setAttribute('id', items[i].id);\r\n            }\r\n\r\n            // Selected\r\n            if (items[i].updateState) {\r\n                toolbarItem.updateState = items[i].updateState;\r\n            }\r\n\r\n            if (items[i].active) {\r\n                toolbarItem.classList.add('jtoolbar-active');\r\n            }\r\n\r\n            if (items[i].disabled) {\r\n                toolbarItem.classList.add('jtoolbar-disabled');\r\n            }\r\n\r\n            if (items[i].type == 'select' || items[i].type == 'dropdown') {\r\n                Picker(toolbarItem, items[i]);\r\n            } else if (items[i].type == 'divisor') {\r\n                toolbarItem.classList.add('jtoolbar-divisor');\r\n            } else if (items[i].type == 'label') {\r\n                toolbarItem.classList.add('jtoolbar-label');\r\n                toolbarItem.innerHTML = items[i].content;\r\n            } else {\r\n                // Material icons\r\n                var toolbarIcon = document.createElement('i');\r\n                if (typeof(items[i].class) === 'undefined') {\r\n                    toolbarIcon.classList.add('material-icons');\r\n                } else {\r\n                    var c = items[i].class.split(' ');\r\n                    for (var j = 0; j < c.length; j++) {\r\n                        toolbarIcon.classList.add(c[j]);\r\n                    }\r\n                }\r\n                toolbarIcon.innerHTML = items[i].content ? items[i].content : '';\r\n                toolbarItem.appendChild(toolbarIcon);\r\n\r\n                // Badge options\r\n                if (obj.options.badge == true) {\r\n                    var toolbarBadge = document.createElement('div');\r\n                    toolbarBadge.classList.add('jbadge');\r\n                    var toolbarBadgeContent = document.createElement('div');\r\n                    toolbarBadgeContent.innerHTML = items[i].badge ? items[i].badge : '';\r\n                    toolbarBadge.appendChild(toolbarBadgeContent);\r\n                    toolbarItem.appendChild(toolbarBadge);\r\n                }\r\n\r\n                // Title\r\n                if (items[i].title) {\r\n                    if (obj.options.title == true) {\r\n                        var toolbarTitle = document.createElement('span');\r\n                        toolbarTitle.innerHTML = items[i].title;\r\n                        toolbarItem.appendChild(toolbarTitle);\r\n                    } else {\r\n                        toolbarItem.setAttribute('title', items[i].title);\r\n                    }\r\n                }\r\n\r\n                if (obj.options.app && items[i].route) {\r\n                    // Route\r\n                    toolbarItem.route = items[i].route;\r\n                    // Onclick for route\r\n                    toolbarItem.onclick = function() {\r\n                        obj.options.app.pages(this.route);\r\n                    }\r\n                    // Create pages\r\n                    obj.options.app.pages(items[i].route, {\r\n                        toolbarItem: toolbarItem,\r\n                        closed: true\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (items[i].onclick) {\r\n                toolbarItem.onclick = items[i].onclick.bind(items[i], el, obj, toolbarItem);\r\n            }\r\n\r\n            toolbarContent.appendChild(toolbarItem);\r\n        }\r\n\r\n        // Fits to the page\r\n        setTimeout(function() {\r\n            obj.refresh();\r\n        }, 0);\r\n    }\r\n\r\n    obj.open = function() {\r\n        toolbarArrow.classList.add('jtoolbar-arrow-selected');\r\n\r\n        var rectElement = el.getBoundingClientRect();\r\n        var rect = toolbarFloating.getBoundingClientRect();\r\n        if (rect.bottom > window.innerHeight || obj.options.bottom) {\r\n            toolbarFloating.style.bottom = '0';\r\n        } else {\r\n            toolbarFloating.style.removeProperty('bottom');\r\n        }\r\n\r\n        toolbarFloating.style.right = '0';\r\n\r\n        toolbarArrow.children[0].focus();\r\n        // Start tracking\r\n        Tracking(obj, true);\r\n    }\r\n\r\n    obj.close = function() {\r\n        toolbarArrow.classList.remove('jtoolbar-arrow-selected')\r\n        // End tracking\r\n        Tracking(obj, false);\r\n    }\r\n\r\n    obj.refresh = function() {\r\n        if (obj.options.responsive == true) {\r\n            // Width of the c\r\n            var rect = el.parentNode.getBoundingClientRect();\r\n            if (! obj.options.maxWidth) {\r\n                obj.options.maxWidth = rect.width;\r\n            }\r\n            // Available parent space\r\n            var available = parseInt(obj.options.maxWidth);\r\n            // Remove arrow\r\n            if (toolbarArrow.parentNode) {\r\n                toolbarArrow.parentNode.removeChild(toolbarArrow);\r\n            }\r\n            // Move all items to the toolbar\r\n            while (toolbarFloating.firstChild) {\r\n                toolbarContent.appendChild(toolbarFloating.firstChild);\r\n            }\r\n            // Toolbar is larger than the parent, move elements to the floating element\r\n            if (available < toolbarContent.offsetWidth) {\r\n                // Give space to the floating element\r\n                available -= 50;\r\n                // Move to the floating option\r\n                while (toolbarContent.lastChild && available < toolbarContent.offsetWidth) {\r\n                    toolbarFloating.insertBefore(toolbarContent.lastChild, toolbarFloating.firstChild);\r\n                }\r\n            }\r\n            // Show arrow\r\n            if (toolbarFloating.children.length > 0) {\r\n                toolbarContent.appendChild(toolbarArrow);\r\n            }\r\n        }\r\n    }\r\n\r\n    obj.setReadonly = function(state) {\r\n        state = state ? 'add' : 'remove';\r\n        el.classList[state]('jtoolbar-disabled');\r\n    }\r\n\r\n    el.onclick = function(e) {\r\n        var element = helpers.findElement(e.target, 'jtoolbar-item');\r\n        if (element) {\r\n            obj.selectItem(element);\r\n        }\r\n\r\n        if (e.target.classList.contains('jtoolbar-arrow')) {\r\n            obj.open();\r\n        }\r\n    }\r\n\r\n    window.addEventListener('resize', function() {\r\n        obj.refresh();\r\n    });\r\n\r\n    // Toolbar\r\n    el.classList.add('jtoolbar');\r\n    // Reset content\r\n    el.innerHTML = '';\r\n    // Container\r\n    if (obj.options.container == true) {\r\n        el.classList.add('jtoolbar-container');\r\n    }\r\n    // Content\r\n    var toolbarContent = document.createElement('div');\r\n    el.appendChild(toolbarContent);\r\n    // Special toolbar for mobile applications\r\n    if (obj.options.app) {\r\n        el.classList.add('jtoolbar-mobile');\r\n    }\r\n    // Create toolbar\r\n    obj.create(obj.options.items);\r\n    // Shortcut\r\n    el.toolbar = obj;\r\n\r\n    return obj;\r\n}\n;// CONCATENATED MODULE: ./src/plugins/editor.js\n\r\n\r\n\r\n\r\n\r\nfunction Editor() {\r\n    var Component = (function(el, options) {\r\n        // New instance\r\n        var obj = { type:'editor' };\r\n        obj.options = {};\r\n\r\n        // Default configuration\r\n        var defaults = {\r\n            // Load data from a remove location\r\n            url: null,\r\n            // Initial HTML content\r\n            value: '',\r\n            // Initial snippet\r\n            snippet: null,\r\n            // Add toolbar\r\n            toolbar: true,\r\n            toolbarOnTop: false,\r\n            // Website parser is to read websites and images from cross domain\r\n            remoteParser: null,\r\n            // Placeholder\r\n            placeholder: null,\r\n            // Parse URL\r\n            filterPaste: true,\r\n            // Accept drop files\r\n            dropZone: true,\r\n            dropAsSnippet: false,\r\n            acceptImages: true,\r\n            acceptFiles: false,\r\n            maxFileSize: 5000000,\r\n            allowImageResize: true,\r\n            // Style\r\n            maxHeight: null,\r\n            height: null,\r\n            focus: false,\r\n            // Events\r\n            onclick: null,\r\n            onfocus: null,\r\n            onblur: null,\r\n            onload: null,\r\n            onkeyup: null,\r\n            onkeydown: null,\r\n            onchange: null,\r\n            extensions: null,\r\n            type: null,\r\n        };\r\n\r\n        // Loop through our object\r\n        for (var property in defaults) {\r\n            if (options && options.hasOwnProperty(property)) {\r\n                obj.options[property] = options[property];\r\n            } else {\r\n                obj.options[property] = defaults[property];\r\n            }\r\n        }\r\n\r\n        // Private controllers\r\n        var editorTimer = null;\r\n        var editorAction = null;\r\n        var files = [];\r\n\r\n        // Keep the reference for the container\r\n        obj.el = el;\r\n\r\n        if (typeof(obj.options.onclick) == 'function') {\r\n            el.onclick = function(e) {\r\n                obj.options.onclick(el, obj, e);\r\n            }\r\n        }\r\n\r\n        // Prepare container\r\n        el.classList.add('jeditor-container');\r\n\r\n        // Snippet\r\n        var snippet = document.createElement('div');\r\n        snippet.className = 'jsnippet';\r\n        snippet.setAttribute('contenteditable', false);\r\n\r\n        // Toolbar\r\n        var toolbar = document.createElement('div');\r\n        toolbar.className = 'jeditor-toolbar';\r\n\r\n        obj.editor = document.createElement('div');\r\n        obj.editor.setAttribute('contenteditable', true);\r\n        obj.editor.setAttribute('spellcheck', false);\r\n        obj.editor.classList.add('jeditor');\r\n\r\n        // Placeholder\r\n        if (obj.options.placeholder) {\r\n            obj.editor.setAttribute('data-placeholder', obj.options.placeholder);\r\n        }\r\n\r\n        // Max height\r\n        if (obj.options.maxHeight || obj.options.height) {\r\n            obj.editor.style.overflowY = 'auto';\r\n\r\n            if (obj.options.maxHeight) {\r\n                obj.editor.style.maxHeight = obj.options.maxHeight;\r\n            }\r\n            if (obj.options.height) {\r\n                obj.editor.style.height = obj.options.height;\r\n            }\r\n        }\r\n\r\n        // Set editor initial value\r\n        if (obj.options.url) {\r\n            ajax({\r\n                url: obj.options.url,\r\n                dataType: 'html',\r\n                success: function(result) {\r\n                    obj.editor.innerHTML = result;\r\n\r\n                    Component.setCursor(obj.editor, obj.options.focus == 'initial' ? true : false);\r\n                }\r\n            })\r\n        } else {\r\n            if (obj.options.value) {\r\n                obj.editor.innerHTML = obj.options.value;\r\n            } else {\r\n                // Create from existing elements\r\n                for (var i = 0; i < el.children.length; i++) {\r\n                    obj.editor.appendChild(el.children[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Make sure element is empty\r\n        el.innerHTML = '';\r\n\r\n        /**\r\n         * Onchange event controllers\r\n         */\r\n        var change = function(e) {\r\n            if (typeof(obj.options.onchange) == 'function') {\r\n                obj.options.onchange(el, obj, e);\r\n            }\r\n\r\n            // Update value\r\n            obj.options.value = obj.getData();\r\n\r\n            // Lemonade JS\r\n            if (el.value != obj.options.value) {\r\n                el.value = obj.options.value;\r\n                if (typeof(el.oninput) == 'function') {\r\n                    el.oninput({\r\n                        type: 'input',\r\n                        target: el,\r\n                        value: el.value\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Extract images from a HTML string\r\n         */\r\n        var extractImageFromHtml = function(html) {\r\n            // Create temp element\r\n            var div = document.createElement('div');\r\n            div.innerHTML = html;\r\n\r\n            // Extract images\r\n            var img = div.querySelectorAll('img');\r\n\r\n            if (img.length) {\r\n                for (var i = 0; i < img.length; i++) {\r\n                    obj.addImage(img[i].src);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Insert node at caret\r\n         */\r\n        var insertNodeAtCaret = function(newNode) {\r\n            var sel, range;\r\n\r\n            if (window.getSelection) {\r\n                sel = window.getSelection();\r\n                if (sel.rangeCount) {\r\n                    range = sel.getRangeAt(0);\r\n                    var selectedText = range.toString();\r\n                    range.deleteContents();\r\n                    range.insertNode(newNode);\r\n                    // move the cursor after element\r\n                    range.setStartAfter(newNode);\r\n                    range.setEndAfter(newNode);\r\n                    sel.removeAllRanges();\r\n                    sel.addRange(range);\r\n                }\r\n            }\r\n        }\r\n\r\n        var updateTotalImages = function() {\r\n            var o = null;\r\n            if (o = snippet.children[0]) {\r\n                // Make sure is a grid\r\n                if (! o.classList.contains('jslider-grid')) {\r\n                    o.classList.add('jslider-grid');\r\n                }\r\n                // Quantify of images\r\n                var number = o.children.length;\r\n                // Set the configuration of the grid\r\n                o.setAttribute('data-number', number > 4 ? 4 : number);\r\n                // Total of images inside the grid\r\n                if (number > 4) {\r\n                    o.setAttribute('data-total', number - 4);\r\n                } else {\r\n                    o.removeAttribute('data-total');\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Append image to the snippet\r\n         */\r\n        var appendImage = function(image) {\r\n            if (! snippet.innerHTML) {\r\n                obj.appendSnippet({});\r\n            }\r\n            snippet.children[0].appendChild(image);\r\n            updateTotalImages();\r\n        }\r\n\r\n        /**\r\n         * Append snippet\r\n         * @Param object data\r\n         */\r\n        obj.appendSnippet = function(data) {\r\n            // Reset snippet\r\n            snippet.innerHTML = '';\r\n\r\n            // Attributes\r\n            var a = [ 'image', 'title', 'description', 'host', 'url' ];\r\n\r\n            for (var i = 0; i < a.length; i++) {\r\n                var div = document.createElement('div');\r\n                div.className = 'jsnippet-' + a[i];\r\n                div.setAttribute('data-k', a[i]);\r\n                snippet.appendChild(div);\r\n                if (data[a[i]]) {\r\n                    if (a[i] == 'image') {\r\n                        if (! Array.isArray(data.image)) {\r\n                            data.image = [ data.image ];\r\n                        }\r\n                        for (var j = 0; j < data.image.length; j++) {\r\n                            var img = document.createElement('img');\r\n                            img.src = data.image[j];\r\n                            div.appendChild(img);\r\n                        }\r\n                    } else {\r\n                        div.innerHTML = data[a[i]];\r\n                    }\r\n                }\r\n            }\r\n\r\n            obj.editor.appendChild(document.createElement('br'));\r\n            obj.editor.appendChild(snippet);\r\n        }\r\n\r\n        /**\r\n         * Set editor value\r\n         */\r\n        obj.setData = function(o) {\r\n            if (typeof(o) == 'object') {\r\n                obj.editor.innerHTML = o.content;\r\n            } else {\r\n                obj.editor.innerHTML = o;\r\n            }\r\n\r\n            if (obj.options.focus) {\r\n                Component.setCursor(obj.editor, true);\r\n            }\r\n\r\n            // Reset files container\r\n            files = [];\r\n        }\r\n\r\n        obj.getFiles = function() {\r\n            var f = obj.editor.querySelectorAll('.jfile');\r\n            var d = [];\r\n            for (var i = 0; i < f.length; i++) {\r\n                if (files[f[i].src]) {\r\n                    d.push(files[f[i].src]);\r\n                }\r\n            }\r\n            return d;\r\n        }\r\n\r\n        obj.getText = function() {\r\n            return obj.editor.innerText;\r\n        }\r\n\r\n        /**\r\n         * Get editor data\r\n         */\r\n        obj.getData = function(json) {\r\n            if (! json) {\r\n                var data = obj.editor.innerHTML;\r\n            } else {\r\n                var data = {\r\n                    content : '',\r\n                }\r\n\r\n                // Get snippet\r\n                if (snippet.innerHTML) {\r\n                    var index = 0;\r\n                    data.snippet = {};\r\n                    for (var i = 0; i < snippet.children.length; i++) {\r\n                        // Get key from element\r\n                        var key = snippet.children[i].getAttribute('data-k');\r\n                        if (key) {\r\n                            if (key == 'image') {\r\n                                if (! data.snippet.image) {\r\n                                    data.snippet.image = [];\r\n                                }\r\n                                // Get all images\r\n                                for (var j = 0; j < snippet.children[i].children.length; j++) {\r\n                                    data.snippet.image.push(snippet.children[i].children[j].getAttribute('src'))\r\n                                }\r\n                            } else {\r\n                                data.snippet[key] = snippet.children[i].innerHTML;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Get files\r\n                var f = Object.keys(files);\r\n                if (f.length) {\r\n                    data.files = [];\r\n                    for (var i = 0; i < f.length; i++) {\r\n                        data.files.push(files[f[i]]);\r\n                    }\r\n                }\r\n\r\n                // Get content\r\n                var d = document.createElement('div');\r\n                d.innerHTML = obj.editor.innerHTML;\r\n                var s = d.querySelector('.jsnippet');\r\n                if (s) {\r\n                    s.remove();\r\n                }\r\n\r\n                var text = d.innerHTML;\r\n                text = text.replace(/<br>/g, \"\\n\");\r\n                text = text.replace(/<\\/div>/g, \"<\\/div>\\n\");\r\n                text = text.replace(/<(?:.|\\n)*?>/gm, \"\");\r\n                data.content = text.trim();\r\n\r\n                // Process extensions\r\n                processExtensions('getData', data);\r\n            }\r\n\r\n            return data;\r\n        }\r\n\r\n        // Reset\r\n        obj.reset = function() {\r\n            obj.editor.innerHTML = '';\r\n            snippet.innerHTML = '';\r\n            files = [];\r\n        }\r\n\r\n        obj.addPdf = function(data) {\r\n            if (data.result.substr(0,4) != 'data') {\r\n                console.error('Invalid source');\r\n            } else {\r\n                var canvas = document.createElement('canvas');\r\n                canvas.width = 60;\r\n                canvas.height = 60;\r\n\r\n                var img = new Image();\r\n                var ctx = canvas.getContext('2d');\r\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n\r\n                canvas.toBlob(function(blob) {\r\n                    var newImage = document.createElement('img');\r\n                    newImage.src = window.URL.createObjectURL(blob);\r\n                    newImage.title = data.name;\r\n                    newImage.className = 'jfile pdf';\r\n\r\n                    files[newImage.src] = {\r\n                        file: newImage.src,\r\n                        extension: 'pdf',\r\n                        content: data.result,\r\n                    }\r\n\r\n                    //insertNodeAtCaret(newImage);\r\n                    document.execCommand('insertHtml', false, newImage.outerHTML);\r\n                });\r\n            }\r\n        }\r\n\r\n        obj.addImage = function(src, asSnippet) {\r\n            if (! src) {\r\n                src = '';\r\n            }\r\n\r\n            if (src.substr(0,4) != 'data' && ! obj.options.remoteParser) {\r\n                console.error('remoteParser not defined in your initialization');\r\n            } else {\r\n                // This is to process cross domain images\r\n                if (src.substr(0,4) == 'data') {\r\n                    var extension = src.split(';')\r\n                    extension = extension[0].split('/');\r\n                    extension = extension[1];\r\n                } else {\r\n                    var extension = src.substr(src.lastIndexOf('.') + 1);\r\n                    // Work for cross browsers\r\n                    src = obj.options.remoteParser + src;\r\n                }\r\n\r\n                var img = new Image();\r\n\r\n                img.onload = function onload() {\r\n                    var canvas = document.createElement('canvas');\r\n                    canvas.width = img.width;\r\n                    canvas.height = img.height;\r\n\r\n                    var ctx = canvas.getContext('2d');\r\n                    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n\r\n                    canvas.toBlob(function(blob) {\r\n                        var newImage = document.createElement('img');\r\n                        newImage.src = window.URL.createObjectURL(blob);\r\n                        newImage.classList.add('jfile');\r\n                        newImage.setAttribute('tabindex', '900');\r\n                        newImage.setAttribute('width', img.width);\r\n                        newImage.setAttribute('height', img.height);\r\n                        files[newImage.src] = {\r\n                            file: newImage.src,\r\n                            extension: extension,\r\n                            content: canvas.toDataURL(),\r\n                        }\r\n\r\n                        if (obj.options.dropAsSnippet || asSnippet) {\r\n                            appendImage(newImage);\r\n                            // Just to understand the attachment is part of a snippet\r\n                            files[newImage.src].snippet = true;\r\n                        } else {\r\n                            //insertNodeAtCaret(newImage);\r\n                            document.execCommand('insertHtml', false, newImage.outerHTML);\r\n                        }\r\n\r\n                        change();\r\n                    });\r\n                };\r\n\r\n                img.src = src;\r\n            }\r\n        }\r\n\r\n        obj.addFile = function(files) {\r\n            var reader = [];\r\n\r\n            for (var i = 0; i < files.length; i++) {\r\n                if (files[i].size > obj.options.maxFileSize) {\r\n                    alert('The file is too big');\r\n                } else {\r\n                    // Only PDF or Images\r\n                    var type = files[i].type.split('/');\r\n\r\n                    if (type[0] == 'image') {\r\n                        type = 1;\r\n                    } else if (type[1] == 'pdf') {\r\n                        type = 2;\r\n                    } else {\r\n                        type = 0;\r\n                    }\r\n\r\n                    if (type) {\r\n                        // Create file\r\n                        reader[i] = new FileReader();\r\n                        reader[i].index = i;\r\n                        reader[i].type = type;\r\n                        reader[i].name = files[i].name;\r\n                        reader[i].date = files[i].lastModified;\r\n                        reader[i].size = files[i].size;\r\n                        reader[i].addEventListener(\"load\", function (data) {\r\n                            // Get result\r\n                            if (data.target.type == 2) {\r\n                                if (obj.options.acceptFiles == true) {\r\n                                    obj.addPdf(data.target);\r\n                                }\r\n                            } else {\r\n                                obj.addImage(data.target.result);\r\n                            }\r\n                        }, false);\r\n\r\n                        reader[i].readAsDataURL(files[i])\r\n                    } else {\r\n                        alert('The extension is not allowed');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Destroy\r\n        obj.destroy = function() {\r\n            obj.editor.removeEventListener('mouseup', editorMouseUp);\r\n            obj.editor.removeEventListener('mousedown', editorMouseDown);\r\n            obj.editor.removeEventListener('mousemove', editorMouseMove);\r\n            obj.editor.removeEventListener('keyup', editorKeyUp);\r\n            obj.editor.removeEventListener('keydown', editorKeyDown);\r\n            obj.editor.removeEventListener('dragstart', editorDragStart);\r\n            obj.editor.removeEventListener('dragenter', editorDragEnter);\r\n            obj.editor.removeEventListener('dragover', editorDragOver);\r\n            obj.editor.removeEventListener('drop', editorDrop);\r\n            obj.editor.removeEventListener('paste', editorPaste);\r\n            obj.editor.removeEventListener('blur', editorBlur);\r\n            obj.editor.removeEventListener('focus', editorFocus);\r\n\r\n            el.editor = null;\r\n            el.classList.remove('jeditor-container');\r\n\r\n            toolbar.remove();\r\n            snippet.remove();\r\n            obj.editor.remove();\r\n        }\r\n\r\n        obj.upload = function() {\r\n            helpers.click(obj.file);\r\n        }\r\n\r\n        // Elements to be removed\r\n        var remove = [\r\n            HTMLUnknownElement,\r\n            HTMLAudioElement,\r\n            HTMLEmbedElement,\r\n            HTMLIFrameElement,\r\n            HTMLTextAreaElement,\r\n            HTMLInputElement,\r\n            HTMLScriptElement\r\n        ];\r\n\r\n        // Valid properties\r\n        var validProperty = ['width', 'height', 'align', 'border', 'src', 'tabindex'];\r\n\r\n        // Valid CSS attributes\r\n        var validStyle = ['color', 'font-weight', 'font-size', 'background', 'background-color', 'margin'];\r\n\r\n        var parse = function(element) {\r\n           // Remove attributes\r\n           if (element.attributes && element.attributes.length) {\r\n               var image = null;\r\n               var style = null;\r\n               // Process style attribute\r\n               var elementStyle = element.getAttribute('style');\r\n               if (elementStyle) {\r\n                   style = [];\r\n                   var t = elementStyle.split(';');\r\n                   for (var j = 0; j < t.length; j++) {\r\n                       var v = t[j].trim().split(':');\r\n                       if (validStyle.indexOf(v[0].trim()) >= 0) {\r\n                           var k = v.shift();\r\n                           var v = v.join(':');\r\n                           style.push(k + ':' + v);\r\n                       }\r\n                   }\r\n               }\r\n               // Process image\r\n               if (element.tagName.toUpperCase() == 'IMG') {\r\n                   if (! obj.options.acceptImages || ! element.src) {\r\n                       element.parentNode.removeChild(element);\r\n                   } else {\r\n                       // Check if is data\r\n                       element.setAttribute('tabindex', '900');\r\n                       // Check attributes for persistence\r\n                       obj.addImage(element.src);\r\n                   }\r\n               }\r\n               // Remove attributes\r\n               var attr = [];\r\n               for (var i = 0; i < element.attributes.length; i++) {\r\n                   attr.push(element.attributes[i].name);\r\n               }\r\n               if (attr.length) {\r\n                   attr.forEach(function(v) {\r\n                       if (validProperty.indexOf(v) == -1) {\r\n                           element.removeAttribute(v);\r\n                       } else {\r\n                           // Protection XSS\r\n                           if (element.attributes[i].value.indexOf('<') !== -1) {\r\n                               element.attributes[i].value.replace('<', '&#60;');\r\n                           }\r\n                       }\r\n                   });\r\n               }\r\n               element.style = '';\r\n               // Add valid style\r\n               if (style && style.length) {\r\n                   element.setAttribute('style', style.join(';'));\r\n               }\r\n           }\r\n           // Parse children\r\n           if (element.children.length) {\r\n               for (var i = 0; i < element.children.length; i++) {\r\n                   parse(element.children[i]);\r\n               }\r\n           }\r\n\r\n           if (remove.indexOf(element.constructor) >= 0) {\r\n               element.remove();\r\n           }\r\n        }\r\n\r\n        var select = function(e) {\r\n            var s = window.getSelection()\r\n            var r = document.createRange();\r\n            r.selectNode(e);\r\n            s.addRange(r)\r\n        }\r\n\r\n        var filter = function(data) {\r\n            if (data) {\r\n                data = data.replace(new RegExp('<!--(.*?)-->', 'gsi'), '');\r\n            }\r\n            var parser = new DOMParser();\r\n            var d = parser.parseFromString(data, \"text/html\");\r\n            parse(d);\r\n            var span = document.createElement('span');\r\n            span.innerHTML = d.firstChild.innerHTML;\r\n            return span;\r\n        }\r\n\r\n        var editorPaste = function(e) {\r\n            if (obj.options.filterPaste == true) {\r\n                if (e.clipboardData || e.originalEvent.clipboardData) {\r\n                    var html = (e.originalEvent || e).clipboardData.getData('text/html');\r\n                    var text = (e.originalEvent || e).clipboardData.getData('text/plain');\r\n                    var file = (e.originalEvent || e).clipboardData.files\r\n                } else if (window.clipboardData) {\r\n                    var html = window.clipboardData.getData('Html');\r\n                    var text = window.clipboardData.getData('Text');\r\n                    var file = window.clipboardData.files\r\n                }\r\n\r\n                if (file.length) {\r\n                    // Paste a image from the clipboard\r\n                    obj.addFile(file);\r\n                } else {\r\n                    if (! html) {\r\n                        html = text.split('\\r\\n');\r\n                        if (! e.target.innerText) {\r\n                            html.map(function(v) {\r\n                                var d = document.createElement('div');\r\n                                d.innerText = v;\r\n                                obj.editor.appendChild(d);\r\n                            });\r\n                        } else {\r\n                            html = html.map(function(v) {\r\n                                return '<div>' + v + '</div>';\r\n                            });\r\n                            document.execCommand('insertHtml', false, html.join(''));\r\n                        }\r\n                    } else {\r\n                        var d = filter(html);\r\n                        // Paste to the editor\r\n                        //insertNodeAtCaret(d);\r\n                        document.execCommand('insertHtml', false, d.innerHTML);\r\n                    }\r\n                }\r\n\r\n                e.preventDefault();\r\n            }\r\n        }\r\n\r\n        var editorDragStart = function(e) {\r\n            if (editorAction && editorAction.e) {\r\n                e.preventDefault();\r\n            }\r\n        }\r\n\r\n        var editorDragEnter = function(e) {\r\n            if (editorAction || obj.options.dropZone == false) {\r\n                // Do nothing\r\n            } else {\r\n                el.classList.add('jeditor-dragging');\r\n                e.preventDefault();\r\n            }\r\n        }\r\n\r\n        var editorDragOver = function(e) {\r\n            if (editorAction || obj.options.dropZone == false) {\r\n                // Do nothing\r\n            } else {\r\n                if (editorTimer) {\r\n                    clearTimeout(editorTimer);\r\n                }\r\n\r\n                editorTimer = setTimeout(function() {\r\n                    el.classList.remove('jeditor-dragging');\r\n                }, 100);\r\n                e.preventDefault();\r\n            }\r\n        }\r\n\r\n        var editorDrop = function(e) {\r\n            if (editorAction || obj.options.dropZone == false) {\r\n                // Do nothing\r\n            } else {\r\n                // Position caret on the drop\r\n                var range = null;\r\n                if (document.caretRangeFromPoint) {\r\n                    range=document.caretRangeFromPoint(e.clientX, e.clientY);\r\n                } else if (e.rangeParent) {\r\n                    range=document.createRange();\r\n                    range.setStart(e.rangeParent,e.rangeOffset);\r\n                }\r\n                var sel = window.getSelection();\r\n                sel.removeAllRanges();\r\n                sel.addRange(range);\r\n                sel.anchorNode.parentNode.focus();\r\n\r\n                var html = (e.originalEvent || e).dataTransfer.getData('text/html');\r\n                var text = (e.originalEvent || e).dataTransfer.getData('text/plain');\r\n                var file = (e.originalEvent || e).dataTransfer.files;\r\n\r\n                if (file.length) {\r\n                    obj.addFile(file);\r\n                } else if (text) {\r\n                    extractImageFromHtml(html);\r\n                }\r\n\r\n                el.classList.remove('jeditor-dragging');\r\n                e.preventDefault();\r\n            }\r\n        }\r\n\r\n        var editorBlur = function(e) {\r\n            // Process extensions\r\n            processExtensions('onevent', e);\r\n            // Apply changes\r\n            change(e);\r\n            // Blur\r\n            if (typeof(obj.options.onblur) == 'function') {\r\n                obj.options.onblur(el, obj, e);\r\n            }\r\n        }\r\n\r\n        var editorFocus = function(e) {\r\n            // Focus\r\n            if (typeof(obj.options.onfocus) == 'function') {\r\n                obj.options.onfocus(el, obj, e);\r\n            }\r\n        }\r\n\r\n        var editorKeyUp = function(e) {\r\n            if (! obj.editor.innerHTML) {\r\n                obj.editor.innerHTML = '<div><br></div>';\r\n            }\r\n            if (typeof(obj.options.onkeyup) == 'function') {\r\n                obj.options.onkeyup(el, obj, e);\r\n            }\r\n        }\r\n\r\n        var editorKeyDown = function(e) {\r\n            // Process extensions\r\n            processExtensions('onevent', e);\r\n\r\n            if (e.key == 'Delete') {\r\n                if (e.target.tagName == 'IMG') {\r\n                    var parent = e.target.parentNode;\r\n                    select(e.target);\r\n                    if (parent.classList.contains('jsnippet-image')) {\r\n                        updateTotalImages();\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (typeof(obj.options.onkeydown) == 'function') {\r\n                obj.options.onkeydown(el, obj, e);\r\n            }\r\n        }\r\n\r\n        var editorMouseUp = function(e) {\r\n            if (editorAction && editorAction.e) {\r\n                editorAction.e.classList.remove('resizing');\r\n\r\n                if (editorAction.e.changed == true) {\r\n                    var image = editorAction.e.cloneNode()\r\n                    image.width = parseInt(editorAction.e.style.width) || editorAction.e.getAttribute('width');\r\n                    image.height = parseInt(editorAction.e.style.height) || editorAction.e.getAttribute('height');\r\n                    editorAction.e.style.width = '';\r\n                    editorAction.e.style.height = '';\r\n                    select(editorAction.e);\r\n                    document.execCommand('insertHtml', false, image.outerHTML);\r\n                }\r\n            }\r\n\r\n            editorAction = false;\r\n        }\r\n\r\n        var editorMouseDown = function(e) {\r\n            var close = function(snippet) {\r\n                var rect = snippet.getBoundingClientRect();\r\n                if (rect.width - (e.clientX - rect.left) < 40 && e.clientY - rect.top < 40) {\r\n                    snippet.innerHTML = '';\r\n                    snippet.remove();\r\n                }\r\n            }\r\n\r\n            if (e.target.tagName == 'IMG') {\r\n                if (e.target.style.cursor) {\r\n                    var rect = e.target.getBoundingClientRect();\r\n                    editorAction = {\r\n                        e: e.target,\r\n                        x: e.clientX,\r\n                        y: e.clientY,\r\n                        w: rect.width,\r\n                        h: rect.height,\r\n                        d: e.target.style.cursor,\r\n                    }\r\n\r\n                    if (! e.target.getAttribute('width')) {\r\n                        e.target.setAttribute('width', rect.width)\r\n                    }\r\n\r\n                    if (! e.target.getAttribute('height')) {\r\n                        e.target.setAttribute('height', rect.height)\r\n                    }\r\n\r\n                    var s = window.getSelection();\r\n                    if (s.rangeCount) {\r\n                        for (var i = 0; i < s.rangeCount; i++) {\r\n                            s.removeRange(s.getRangeAt(i));\r\n                        }\r\n                    }\r\n\r\n                    e.target.classList.add('resizing');\r\n                } else {\r\n                    editorAction = true;\r\n                }\r\n            } else {\r\n                if (e.target.classList.contains('jsnippet')) {\r\n                    close(e.target);\r\n                } else if (e.target.parentNode.classList.contains('jsnippet')) {\r\n                    close(e.target.parentNode);\r\n                }\r\n\r\n                editorAction = true;\r\n            }\r\n        }\r\n\r\n        var editorMouseMove = function(e) {\r\n            if (e.target.tagName == 'IMG' && ! e.target.parentNode.classList.contains('jsnippet-image') && obj.options.allowImageResize == true) {\r\n                if (e.target.getAttribute('tabindex')) {\r\n                    var rect = e.target.getBoundingClientRect();\r\n                    if (e.clientY - rect.top < 5) {\r\n                        if (rect.width - (e.clientX - rect.left) < 5) {\r\n                            e.target.style.cursor = 'ne-resize';\r\n                        } else if (e.clientX - rect.left < 5) {\r\n                            e.target.style.cursor = 'nw-resize';\r\n                        } else {\r\n                            e.target.style.cursor = 'n-resize';\r\n                        }\r\n                    } else if (rect.height - (e.clientY - rect.top) < 5) {\r\n                        if (rect.width - (e.clientX - rect.left) < 5) {\r\n                            e.target.style.cursor = 'se-resize';\r\n                        } else if (e.clientX - rect.left < 5) {\r\n                            e.target.style.cursor = 'sw-resize';\r\n                        } else {\r\n                            e.target.style.cursor = 's-resize';\r\n                        }\r\n                    } else if (rect.width - (e.clientX - rect.left) < 5) {\r\n                        e.target.style.cursor = 'e-resize';\r\n                    } else if (e.clientX - rect.left < 5) {\r\n                        e.target.style.cursor = 'w-resize';\r\n                    } else {\r\n                        e.target.style.cursor = '';\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Move\r\n            if (e.which == 1 && editorAction && editorAction.d) {\r\n                if (editorAction.d == 'e-resize' || editorAction.d == 'ne-resize' ||  editorAction.d == 'se-resize') {\r\n                    editorAction.e.style.width = (editorAction.w + (e.clientX - editorAction.x));\r\n\r\n                    if (e.shiftKey) {\r\n                        var newHeight = (e.clientX - editorAction.x) * (editorAction.h / editorAction.w);\r\n                        editorAction.e.style.height = editorAction.h + newHeight;\r\n                    } else {\r\n                        var newHeight =  null;\r\n                    }\r\n                }\r\n\r\n                if (! newHeight) {\r\n                    if (editorAction.d == 's-resize' || editorAction.d == 'se-resize' || editorAction.d == 'sw-resize') {\r\n                        if (! e.shiftKey) {\r\n                            editorAction.e.style.height = editorAction.h + (e.clientY - editorAction.y);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                editorAction.e.changed = true;\r\n            }\r\n        }\r\n\r\n        var processExtensions = function(method, data) {\r\n            if (obj.options.extensions) {\r\n                var ext = Object.keys(obj.options.extensions);\r\n                if (ext.length) {\r\n                    for (var i = 0; i < ext.length; i++)\r\n                        if (obj.options.extensions[ext[i]] && typeof(obj.options.extensions[ext[i]][method]) == 'function') {\r\n                            obj.options.extensions[ext[i]][method].call(obj, data);\r\n                        }\r\n                }\r\n            }\r\n        }\r\n\r\n        var loadExtensions = function() {\r\n            if (obj.options.extensions) {\r\n                var ext = Object.keys(obj.options.extensions);\r\n                if (ext.length) {\r\n                    for (var i = 0; i < ext.length; i++) {\r\n                        if (obj.options.extensions[ext[i]] && typeof (obj.options.extensions[ext[i]]) == 'function') {\r\n                            obj.options.extensions[ext[i]] = obj.options.extensions[ext[i]](el, obj);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        document.addEventListener('mouseup', editorMouseUp);\r\n        document.addEventListener('mousemove', editorMouseMove);\r\n        obj.editor.addEventListener('mousedown', editorMouseDown);\r\n        obj.editor.addEventListener('keyup', editorKeyUp);\r\n        obj.editor.addEventListener('keydown', editorKeyDown);\r\n        obj.editor.addEventListener('dragstart', editorDragStart);\r\n        obj.editor.addEventListener('dragenter', editorDragEnter);\r\n        obj.editor.addEventListener('dragover', editorDragOver);\r\n        obj.editor.addEventListener('drop', editorDrop);\r\n        obj.editor.addEventListener('paste', editorPaste);\r\n        obj.editor.addEventListener('focus', editorFocus);\r\n        obj.editor.addEventListener('blur', editorBlur);\r\n\r\n        // Append editor to the container\r\n        el.appendChild(obj.editor);\r\n        // Snippet\r\n        if (obj.options.snippet) {\r\n            obj.appendSnippet(obj.options.snippet);\r\n        }\r\n\r\n        // Add toolbar\r\n        if (obj.options.toolbar) {\r\n            // Default toolbar configuration\r\n            if (Array.isArray(obj.options.toolbar)) {\r\n                var toolbarOptions = {\r\n                    container: true,\r\n                    responsive: true,\r\n                    items: obj.options.toolbar\r\n                }\r\n            } else if (obj.options.toolbar === true) {\r\n                var toolbarOptions = {\r\n                    container: true,\r\n                    responsive: true,\r\n                    items: [],\r\n                }\r\n            } else {\r\n                var toolbarOptions = obj.options.toolbar;\r\n            }\r\n\r\n            // Default items\r\n            if (! (toolbarOptions.items && toolbarOptions.items.length)) {\r\n                toolbarOptions.items = Component.getDefaultToolbar(obj);\r\n            }\r\n\r\n            if (obj.options.toolbarOnTop) {\r\n                // Add class\r\n                el.classList.add('toolbar-on-top');\r\n                // Append to the DOM\r\n                el.insertBefore(toolbar, el.firstChild);\r\n            } else {\r\n                // Add padding to the editor\r\n                obj.editor.style.padding = '15px';\r\n                // Append to the DOM\r\n                el.appendChild(toolbar);\r\n            }\r\n\r\n            // Create toolbar\r\n            Toolbar(toolbar, toolbarOptions);\r\n\r\n            toolbar.addEventListener('click', function() {\r\n                obj.editor.focus();\r\n            })\r\n        }\r\n\r\n        // Upload file\r\n        obj.file = document.createElement('input');\r\n        obj.file.style.display = 'none';\r\n        obj.file.type = 'file';\r\n        obj.file.setAttribute('accept', 'image/*');\r\n        obj.file.onchange = function() {\r\n            obj.addFile(this.files);\r\n        }\r\n        el.appendChild(obj.file);\r\n\r\n        // Focus to the editor\r\n        if (obj.options.focus) {\r\n            Component.setCursor(obj.editor, obj.options.focus == 'initial' ? true : false);\r\n        }\r\n\r\n        // Change method\r\n        el.change = obj.setData;\r\n\r\n        // Global generic value handler\r\n        el.val = function(val) {\r\n            if (val === undefined) {\r\n                // Data type\r\n                var o = el.getAttribute('data-html') === 'true' ? false : true;\r\n                return obj.getData(o);\r\n            } else {\r\n                obj.setData(val);\r\n            }\r\n        }\r\n\r\n        loadExtensions();\r\n\r\n        el.editor = obj;\r\n\r\n        // Onload\r\n        if (typeof(obj.options.onload) == 'function') {\r\n            obj.options.onload(el, obj, obj.editor);\r\n        }\r\n\r\n        return obj;\r\n    });\r\n\r\n    Component.setCursor = function(element, first) {\r\n        element.focus();\r\n        document.execCommand('selectAll');\r\n        var sel = window.getSelection();\r\n        var range = sel.getRangeAt(0);\r\n        if (first == true) {\r\n            var node = range.startContainer;\r\n            var size = 0;\r\n        } else {\r\n            var node = range.endContainer;\r\n            var size = node.length;\r\n        }\r\n        range.setStart(node, size);\r\n        range.setEnd(node, size);\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n    }\r\n\r\n    Component.getDefaultToolbar = function(obj) {\r\n\r\n        var color = function(a,b,c) {\r\n            if (! c.color) {\r\n                var t = null;\r\n                var colorPicker = Color(c, {\r\n                    onchange: function(o, v) {\r\n                        if (c.k === 'color') {\r\n                            document.execCommand('foreColor', false, v);\r\n                        } else {\r\n                            document.execCommand('backColor', false, v);\r\n                        }\r\n                    }\r\n                });\r\n                c.color.open();\r\n            }\r\n        }\r\n\r\n        var items = [];\r\n\r\n        items.push({\r\n            content: 'undo',\r\n            onclick: function() {\r\n                document.execCommand('undo');\r\n            }\r\n        });\r\n\r\n        items.push({\r\n            content: 'redo',\r\n            onclick: function() {\r\n                document.execCommand('redo');\r\n            }\r\n        });\r\n\r\n        items.push({\r\n            type: 'divisor'\r\n        });\r\n\r\n        if (obj.options.toolbarOnTop) {\r\n            items.push({\r\n                type: 'select',\r\n                width: '140px',\r\n                options: ['Default', 'Verdana', 'Arial', 'Courier New'],\r\n                render: function (e) {\r\n                    return '<span style=\"font-family:' + e + '\">' + e + '</span>';\r\n                },\r\n                onchange: function (a,b,c,d,e) {\r\n                    document.execCommand(\"fontName\", false, d);\r\n                }\r\n            });\r\n\r\n            items.push({\r\n                type: 'select',\r\n                content: 'format_size',\r\n                options: ['x-small', 'small', 'medium', 'large', 'x-large'],\r\n                render: function (e) {\r\n                    return '<span style=\"font-size:' + e + '\">' + e + '</span>';\r\n                },\r\n                onchange: function (a,b,c,d,e) {\r\n                    //var html = `<span style=\"font-size: ${c}\">${text}</span>`;\r\n                    //document.execCommand('insertHtml', false, html);\r\n                    document.execCommand(\"fontSize\", false, parseInt(e)+1);\r\n                    //var f = window.getSelection().anchorNode.parentNode\r\n                    //f.removeAttribute(\"size\");\r\n                    //f.style.fontSize = d;\r\n                }\r\n            });\r\n\r\n            items.push({\r\n                type: 'select',\r\n                options: ['format_align_left', 'format_align_center', 'format_align_right', 'format_align_justify'],\r\n                render: function (e) {\r\n                    return '<i class=\"material-icons\">' + e + '</i>';\r\n                },\r\n                onchange: function (a,b,c,d,e) {\r\n                    var options = ['JustifyLeft','justifyCenter','justifyRight','justifyFull'];\r\n                    document.execCommand(options[e]);\r\n                }\r\n            });\r\n\r\n            items.push({\r\n                type: 'divisor'\r\n            });\r\n\r\n            items.push({\r\n                content: 'format_color_text',\r\n                k: 'color',\r\n                onclick: color,\r\n            });\r\n\r\n            items.push({\r\n                content: 'format_color_fill',\r\n                k: 'background-color',\r\n                onclick: color,\r\n            });\r\n        }\r\n\r\n        items.push({\r\n            content: 'format_bold',\r\n            onclick: function(a,b,c) {\r\n                document.execCommand('bold');\r\n\r\n                if (document.queryCommandState(\"bold\")) {\r\n                    c.classList.add('selected');\r\n                } else {\r\n                    c.classList.remove('selected');\r\n                }\r\n            }\r\n        });\r\n\r\n        items.push({\r\n            content: 'format_italic',\r\n            onclick: function(a,b,c) {\r\n                document.execCommand('italic');\r\n\r\n                if (document.queryCommandState(\"italic\")) {\r\n                    c.classList.add('selected');\r\n                } else {\r\n                    c.classList.remove('selected');\r\n                }\r\n            }\r\n        });\r\n\r\n        items.push({\r\n            content: 'format_underline',\r\n            onclick: function(a,b,c) {\r\n                document.execCommand('underline');\r\n\r\n                if (document.queryCommandState(\"underline\")) {\r\n                    c.classList.add('selected');\r\n                } else {\r\n                    c.classList.remove('selected');\r\n                }\r\n            }\r\n        });\r\n\r\n        items.push({\r\n            type:'divisor'\r\n        });\r\n\r\n        items.push({\r\n            content: 'format_list_bulleted',\r\n            onclick: function(a,b,c) {\r\n                document.execCommand('insertUnorderedList');\r\n\r\n                if (document.queryCommandState(\"insertUnorderedList\")) {\r\n                    c.classList.add('selected');\r\n                } else {\r\n                    c.classList.remove('selected');\r\n                }\r\n            }\r\n        });\r\n\r\n        items.push({\r\n            content: 'format_list_numbered',\r\n            onclick: function(a,b,c) {\r\n                document.execCommand('insertOrderedList');\r\n\r\n                if (document.queryCommandState(\"insertOrderedList\")) {\r\n                    c.classList.add('selected');\r\n                } else {\r\n                    c.classList.remove('selected');\r\n                }\r\n            }\r\n        });\r\n\r\n        items.push({\r\n            content: 'format_indent_increase',\r\n            onclick: function(a,b,c) {\r\n                document.execCommand('indent', true, null);\r\n\r\n                if (document.queryCommandState(\"indent\")) {\r\n                    c.classList.add('selected');\r\n                } else {\r\n                    c.classList.remove('selected');\r\n                }\r\n            }\r\n        });\r\n\r\n        items.push({\r\n            content: 'format_indent_decrease',\r\n            onclick: function() {\r\n                document.execCommand('outdent');\r\n\r\n                if (document.queryCommandState(\"outdent\")) {\r\n                    this.classList.add('selected');\r\n                } else {\r\n                    this.classList.remove('selected');\r\n                }\r\n            }\r\n        });\r\n\r\n        if (obj.options.toolbarOnTop) {\r\n            items.push({\r\n                type: 'divisor'\r\n            });\r\n\r\n            items.push({\r\n                content: 'photo',\r\n                onclick: function () {\r\n                    obj.upload();\r\n                }\r\n            });\r\n\r\n            items.push({\r\n                type: 'select',\r\n                content: 'table_view',\r\n                columns: 8,\r\n                grid: 8,\r\n                right: true,\r\n                options: [\r\n                    '0x0', '1x0', '2x0', '3x0', '4x0', '5x0', '6x0', '7x0',\r\n                    '0x1', '1x1', '2x1', '3x1', '4x1', '5x1', '6x1', '7x1',\r\n                    '0x2', '1x2', '2x2', '3x2', '4x2', '5x2', '6x2', '7x2',\r\n                    '0x3', '1x3', '2x3', '3x3', '4x3', '5x3', '6x3', '7x3',\r\n                    '0x4', '1x4', '2x4', '3x4', '4x4', '5x4', '6x4', '7x4',\r\n                    '0x5', '1x5', '2x5', '3x5', '4x5', '5x5', '6x5', '7x5',\r\n                    '0x6', '1x6', '2x6', '3x6', '4x6', '5x6', '6x6', '7x6',\r\n                    '0x7', '1x7', '2x7', '3x7', '4x7', '5x7', '6x7', '7x7',\r\n                ],\r\n                render: function (e, item) {\r\n                    if (item) {\r\n                        item.onmouseover = this.onmouseover;\r\n                        e = e.split('x');\r\n                        item.setAttribute('data-x', e[0]);\r\n                        item.setAttribute('data-y', e[1]);\r\n                    }\r\n                    var element = document.createElement('div');\r\n                    item.style.margin = '1px';\r\n                    item.style.border = '1px solid #ddd';\r\n                    return element;\r\n                },\r\n                onmouseover: function (e) {\r\n                    var x = parseInt(e.target.getAttribute('data-x'));\r\n                    var y = parseInt(e.target.getAttribute('data-y'));\r\n                    for (var i = 0; i < e.target.parentNode.children.length; i++) {\r\n                        var element = e.target.parentNode.children[i];\r\n                        var ex = parseInt(element.getAttribute('data-x'));\r\n                        var ey = parseInt(element.getAttribute('data-y'));\r\n                        if (ex <= x && ey <= y) {\r\n                            element.style.backgroundColor = '#cae1fc';\r\n                            element.style.borderColor = '#2977ff';\r\n                        } else {\r\n                            element.style.backgroundColor = '';\r\n                            element.style.borderColor = '#ddd';\r\n                        }\r\n                    }\r\n                },\r\n                onchange: function (a, b, c) {\r\n                    c = c.split('x');\r\n                    var table = document.createElement('table');\r\n                    var tbody = document.createElement('tbody');\r\n                    for (var y = 0; y <= c[1]; y++) {\r\n                        var tr = document.createElement('tr');\r\n                        for (var x = 0; x <= c[0]; x++) {\r\n                            var td = document.createElement('td');\r\n                            td.innerHTML = '';\r\n                            tr.appendChild(td);\r\n                        }\r\n                        tbody.appendChild(tr);\r\n                    }\r\n                    table.appendChild(tbody);\r\n                    table.setAttribute('width', '100%');\r\n                    table.setAttribute('cellpadding', '6');\r\n                    table.setAttribute('cellspacing', '0');\r\n                    document.execCommand('insertHTML', false, table.outerHTML);\r\n                }\r\n            });\r\n        }\r\n\r\n        return items;\r\n    }\r\n\r\n    return Component;\r\n}\r\n\r\n/* harmony default export */ var editor = (Editor());\n;// CONCATENATED MODULE: ./src/plugins/floating.js\nfunction Floating() {\r\n    var Component = (function (el, options) {\r\n        var obj = {};\r\n        obj.options = {};\r\n\r\n        // Default configuration\r\n        var defaults = {\r\n            type: 'big',\r\n            title: 'Untitled',\r\n            width: 510,\r\n            height: 472,\r\n        }\r\n\r\n        // Loop through our object\r\n        for (var property in defaults) {\r\n            if (options && options.hasOwnProperty(property)) {\r\n                obj.options[property] = options[property];\r\n            } else {\r\n                obj.options[property] = defaults[property];\r\n            }\r\n        }\r\n\r\n        // Private methods\r\n\r\n        var setContent = function () {\r\n            var temp = document.createElement('div');\r\n            while (el.children[0]) {\r\n                temp.appendChild(el.children[0]);\r\n            }\r\n\r\n            obj.content = document.createElement('div');\r\n            obj.content.className = 'jfloating_content';\r\n            obj.content.innerHTML = el.innerHTML;\r\n\r\n            while (temp.children[0]) {\r\n                obj.content.appendChild(temp.children[0]);\r\n            }\r\n\r\n            obj.container = document.createElement('div');\r\n            obj.container.className = 'jfloating';\r\n            obj.container.appendChild(obj.content);\r\n\r\n            if (obj.options.title) {\r\n                obj.container.setAttribute('title', obj.options.title);\r\n            } else {\r\n                obj.container.classList.add('no-title');\r\n            }\r\n\r\n            // validate element dimensions\r\n            if (obj.options.width) {\r\n                obj.container.style.width = parseInt(obj.options.width) + 'px';\r\n            }\r\n\r\n            if (obj.options.height) {\r\n                obj.container.style.height = parseInt(obj.options.height) + 'px';\r\n            }\r\n\r\n            el.innerHTML = '';\r\n            el.appendChild(obj.container);\r\n        }\r\n\r\n        var setEvents = function () {\r\n            if (obj.container) {\r\n                obj.container.addEventListener('click', function (e) {\r\n                    var rect = e.target.getBoundingClientRect();\r\n\r\n                    if (e.target.classList.contains('jfloating')) {\r\n                        if (e.changedTouches && e.changedTouches[0]) {\r\n                            var x = e.changedTouches[0].clientX;\r\n                            var y = e.changedTouches[0].clientY;\r\n                        } else {\r\n                            var x = e.clientX;\r\n                            var y = e.clientY;\r\n                        }\r\n\r\n                        if (rect.width - (x - rect.left) < 50 && (y - rect.top) < 50) {\r\n                            setTimeout(function () {\r\n                                obj.close();\r\n                            }, 100);\r\n                        } else {\r\n                            obj.setState();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        var setType = function () {\r\n            obj.container.classList.add('jfloating-' + obj.options.type);\r\n        }\r\n\r\n        obj.state = {\r\n            isMinized: false,\r\n        }\r\n\r\n        obj.setState = function () {\r\n            if (obj.state.isMinized) {\r\n                obj.container.classList.remove('jfloating-minimized');\r\n            } else {\r\n                obj.container.classList.add('jfloating-minimized');\r\n            }\r\n            obj.state.isMinized = !obj.state.isMinized;\r\n        }\r\n\r\n        obj.close = function () {\r\n            Components.elements.splice(Component.elements.indexOf(obj.container), 1);\r\n            obj.updatePosition();\r\n            el.remove();\r\n        }\r\n\r\n        obj.updatePosition = function () {\r\n            for (var i = 0; i < Component.elements.length; i++) {\r\n                var floating = Component.elements[i];\r\n                var prevFloating = Component.elements[i - 1];\r\n                floating.style.right = i * (prevFloating ? prevFloating.offsetWidth : floating.offsetWidth) * 1.01 + 'px';\r\n            }\r\n        }\r\n\r\n        obj.init = function () {\r\n            // Set content into root\r\n            setContent();\r\n\r\n            // Set dialog events\r\n            setEvents();\r\n\r\n            // Set dialog type\r\n            setType();\r\n\r\n            // Update floating position\r\n            Component.elements.push(obj.container);\r\n            obj.updatePosition();\r\n\r\n            el.floating = obj;\r\n        }\r\n\r\n        obj.init();\r\n\r\n        return obj;\r\n    });\r\n\r\n    Component.elements = [];\r\n\r\n    return Component;\r\n}\r\n\r\n/* harmony default export */ var floating = (Floating());\n;// CONCATENATED MODULE: ./src/plugins/validations.js\nfunction Validations() {\r\n    /**\r\n     * Options: Object,\r\n     * Properties:\r\n     * Constraint,\r\n     * Reference,\r\n     * Value\r\n     */\r\n\r\n    var isNumeric = function(num) {\r\n        return !isNaN(num) && num !== null && num !== '';\r\n    }\r\n\r\n    var numberCriterias = {\r\n        'between': function(value, range) {\r\n            return value >= range[0] && value <= range[1];\r\n        },\r\n        'not between': function(value, range) {\r\n            return value < range[0] || value > range[1];\r\n        },\r\n        '<': function(value, range) {\r\n            return value < range[0];\r\n        },\r\n        '<=': function(value, range) {\r\n            return value <= range[0];\r\n        },\r\n        '>': function(value, range) {\r\n            return value > range[0];\r\n        },\r\n        '>=': function(value, range) {\r\n            return value >= range[0];\r\n        },\r\n        '=': function(value, range) {\r\n            return value == range[0];\r\n        },\r\n        '!=': function(value, range) {\r\n            return value != range[0];\r\n        },\r\n    }\r\n\r\n    var dateCriterias = {\r\n        'valid date': function() {\r\n            return true;\r\n        },\r\n        '=': function(value, range) {\r\n            return value === range[0];\r\n        },\r\n        '<': function(value, range) {\r\n            return value < range[0];\r\n        },\r\n        '<=': function(value, range) {\r\n            return value <= range[0];\r\n        },\r\n        '>': function(value, range) {\r\n            return value > range[0];\r\n        },\r\n        '>=': function(value, range) {\r\n            return value >= range[0];\r\n        },\r\n        'between': function(value, range) {\r\n            return value >= range[0] && value <= range[1];\r\n        },\r\n        'not between': function(value, range) {\r\n            return value < range[0] || value > range[1];\r\n        },\r\n    }\r\n\r\n    var textCriterias = {\r\n        'contains': function(value, range) {\r\n            return value.includes(range[0]);\r\n        },\r\n        'not contains': function(value, range) {\r\n            return !value.includes(range[0]);\r\n        },\r\n        'begins with': function(value, range) {\r\n            return value.startsWith(range[0]);\r\n        },\r\n        'ends with': function(value, range) {\r\n            return value.endsWith(range[0]);\r\n        },\r\n        '=': function(value, range) {\r\n            return value === range[0];\r\n        },\r\n        'valid email': function(value) {\r\n            var pattern = new RegExp(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);\r\n\r\n            return pattern.test(value);\r\n        },\r\n        'valid url': function(value) {\r\n            var pattern = new RegExp(/(((https?:\\/\\/)|(www\\.))[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|]+)/ig);\r\n\r\n            return pattern.test(value);\r\n        },\r\n    }\r\n\r\n    // Component router\r\n    var component = function(value, options) {\r\n        if (typeof(component[options.type]) === 'function') {\r\n            if (options.allowBlank && value === '') {\r\n                return true;\r\n            }\r\n\r\n            return component[options.type](value, options);\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    component.url = function() {\r\n        var pattern = new RegExp(/(((https?:\\/\\/)|(www\\.))[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|]+)/ig);\r\n        return pattern.test(data) ? true : false;\r\n    }\r\n\r\n    component.email = function(data) {\r\n        var pattern = new RegExp(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);\r\n        return data && pattern.test(data) ? true : false; \r\n    }\r\n    \r\n    component.required = function(data) {\r\n        return data.trim() ? true : false;\r\n    }\r\n\r\n    component.exist = function(data, options) {\r\n        return !!data.toString();\r\n    }\r\n\r\n    component['not exist'] = function(data, options) {\r\n        return !data.toString();\r\n    }\r\n\r\n    component.empty = function(data) {\r\n        return !data.toString();\r\n    }\r\n\r\n    component.notEmpty = function(data) {\r\n        return !!data.toString();\r\n    }\r\n\r\n    component.number = function(data, options) {\r\n       if (! isNumeric(data)) {\r\n           return false;\r\n       }\r\n\r\n       if (!options || !options.criteria) {\r\n           return true;\r\n       }\r\n\r\n       if (!numberCriterias[options.criteria]) {\r\n           return false;\r\n       }\r\n\r\n       var values = options.value.map(function(num) {\r\n          return parseFloat(num);\r\n       })\r\n\r\n       return numberCriterias[options.criteria](data, values);\r\n   };\r\n\r\n    component.login = function(data) {\r\n        var pattern = new RegExp(/^[a-zA-Z0-9\\_\\-\\.\\s+]+$/);\r\n        return data && pattern.test(data) ? true : false;\r\n    }\r\n\r\n    component.list = function(data, options) {\r\n        var dataType = typeof data;\r\n        if (dataType !== 'string' && dataType !== 'number') {\r\n            return false;\r\n        }\r\n        if (typeof(options.value[0]) === 'string') {\r\n            var list = options.value[0].split(',');\r\n        } else {\r\n            var list = options.value[0];\r\n        }\r\n\r\n        var validOption = list.findIndex(function name(item) {\r\n            return item == data;\r\n        });\r\n\r\n        return validOption > -1;\r\n    }\r\n\r\n    component.date = function(data, options) {\r\n        if (new Date(data) == 'Invalid Date') {\r\n            return false;\r\n        }\r\n\r\n        if (!options || !options.criteria) {\r\n            return true;\r\n        }\r\n\r\n        if (!dateCriterias[options.criteria]) {\r\n            return false;\r\n        }\r\n\r\n        var values = options.value.map(function(date) {\r\n            return new Date(date).getTime();\r\n        });\r\n\r\n        return dateCriterias[options.criteria](new Date(data).getTime(), values);\r\n    }\r\n\r\n    component.text = function(data, options) {\r\n        if (typeof data !== 'string') {\r\n            return false;\r\n        }\r\n\r\n        if (!options || !options.criteria) {\r\n            return true;\r\n        }\r\n\r\n        if (!textCriterias[options.criteria]) {\r\n            return false;\r\n        }\r\n\r\n        return textCriterias[options.criteria](data, options.value);\r\n    }\r\n\r\n    component.textLength = function(data, options) {\r\n        data = data.toString();\r\n\r\n        return component.number(data.length, options);\r\n    }\r\n\r\n    return component;\r\n}\r\n\r\n/* harmony default export */ var validations = (Validations());\n;// CONCATENATED MODULE: ./src/plugins/form.js\n\r\n\r\n\r\n\r\nfunction Form() {\r\n    var Component = (function(el, options) {\r\n        var obj = {};\r\n        obj.options = {};\r\n\r\n        // Default configuration\r\n        var defaults = {\r\n            url: null,\r\n            message: 'Are you sure? There are unsaved information in your form',\r\n            ignore: false,\r\n            currentHash: null,\r\n            submitButton:null,\r\n            validations: null,\r\n            onbeforeload: null,\r\n            onload: null,\r\n            onbeforesave: null,\r\n            onsave: null,\r\n            onbeforeremove: null,\r\n            onremove: null,\r\n            onerror: function(el, message) {\r\n                alert(message);\r\n            }\r\n        };\r\n\r\n        // Loop through our object\r\n        for (var property in defaults) {\r\n            if (options && options.hasOwnProperty(property)) {\r\n                obj.options[property] = options[property];\r\n            } else {\r\n                obj.options[property] = defaults[property];\r\n            }\r\n        }\r\n\r\n        // Validations\r\n        if (! obj.options.validations) {\r\n            obj.options.validations = {};\r\n        }\r\n\r\n        // Submit Button\r\n        if (! obj.options.submitButton) {\r\n            obj.options.submitButton = el.querySelector('input[type=submit]');\r\n        }\r\n\r\n        if (obj.options.submitButton && obj.options.url) {\r\n            obj.options.submitButton.onclick = function() {\r\n                obj.save();\r\n            }\r\n        }\r\n\r\n        if (! obj.options.validations.email) {\r\n            obj.options.validations.email = validations.email;\r\n        }\r\n\r\n        if (! obj.options.validations.length) {\r\n            obj.options.validations.length = validations.length;\r\n        }\r\n\r\n        if (! obj.options.validations.required) {\r\n            obj.options.validations.required = validations.required;\r\n        }\r\n\r\n        obj.setUrl = function(url) {\r\n            obj.options.url = url;\r\n        }\r\n\r\n        obj.load = function() {\r\n            ajax({\r\n                url: obj.options.url,\r\n                method: 'GET',\r\n                dataType: 'json',\r\n                queue: true,\r\n                success: function(data) {\r\n                    // Overwrite values from the backend\r\n                    if (typeof(obj.options.onbeforeload) == 'function') {\r\n                        var ret = obj.options.onbeforeload(el, data);\r\n                        if (ret) {\r\n                            data = ret;\r\n                        }\r\n                    }\r\n                    // Apply values to the form\r\n                    Component.setElements(el, data);\r\n                    // Onload methods\r\n                    if (typeof(obj.options.onload) == 'function') {\r\n                        obj.options.onload(el, data);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        obj.save = function() {\r\n            var test = obj.validate();\r\n\r\n            if (test) {\r\n                obj.options.onerror(el, test);\r\n            } else {\r\n                var data = Component.getElements(el, true);\r\n\r\n                if (typeof(obj.options.onbeforesave) == 'function') {\r\n                    var data = obj.options.onbeforesave(el, data);\r\n\r\n                    if (data === false) {\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                ajax({\r\n                    url: obj.options.url,\r\n                    method: 'POST',\r\n                    dataType: 'json',\r\n                    data: data,\r\n                    success: function(result) {\r\n                        if (typeof(obj.options.onsave) == 'function') {\r\n                            obj.options.onsave(el, data, result);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        obj.remove = function() {\r\n            if (typeof(obj.options.onbeforeremove) == 'function') {\r\n                var ret = obj.options.onbeforeremove(el, obj);\r\n                if (ret === false) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            ajax({\r\n                url: obj.options.url,\r\n                method: 'DELETE',\r\n                dataType: 'json',\r\n                success: function(result) {\r\n                    if (typeof(obj.options.onremove) == 'function') {\r\n                        obj.options.onremove(el, obj, result);\r\n                    }\r\n\r\n                    obj.reset();\r\n                }\r\n            });\r\n        }\r\n\r\n        var addError = function(element) {\r\n            // Add error in the element\r\n            element.classList.add('error');\r\n            // Submit button\r\n            if (obj.options.submitButton) {\r\n                obj.options.submitButton.setAttribute('disabled', true);\r\n            }\r\n            // Return error message\r\n            var error = element.getAttribute('data-error') || 'There is an error in the form';\r\n            element.setAttribute('title', error);\r\n            return error;\r\n        }\r\n\r\n        var delError = function(element) {\r\n            var error = false;\r\n            // Remove class from this element\r\n            element.classList.remove('error');\r\n            element.removeAttribute('title');\r\n            // Get elements in the form\r\n            var elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\r\n            // Run all elements\r\n            for (var i = 0; i < elements.length; i++) {\r\n                if (elements[i].getAttribute('data-validation')) {\r\n                    if (elements[i].classList.contains('error')) {\r\n                        error = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (obj.options.submitButton) {\r\n                if (error) {\r\n                    obj.options.submitButton.setAttribute('disabled', true);\r\n                } else {\r\n                    obj.options.submitButton.removeAttribute('disabled');\r\n                }\r\n            }\r\n        }\r\n\r\n        obj.validateElement = function(element) {\r\n            // Test results\r\n            var test = false;\r\n            // Value\r\n            var value = Component.getValue(element);\r\n            // Validation\r\n            var validation = element.getAttribute('data-validation');\r\n            // Parse\r\n            if (typeof(obj.options.validations[validation]) == 'function' && ! obj.options.validations[validation](value, element)) {\r\n                // Not passed in the test\r\n                test = addError(element);\r\n            } else {\r\n                if (element.classList.contains('error')) {\r\n                    delError(element);\r\n                }\r\n            }\r\n\r\n            return test;\r\n        }\r\n\r\n        obj.reset = function() {\r\n            // Get elements in the form\r\n            var name = null;\r\n            var elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\r\n            // Run all elements\r\n            for (var i = 0; i < elements.length; i++) {\r\n                if (name = elements[i].getAttribute('name')) {\r\n                    if (elements[i].type == 'checkbox' || elements[i].type == 'radio') {\r\n                        elements[i].checked = false;\r\n                    } else {\r\n                        if (typeof(elements[i].val) == 'function') {\r\n                            elements[i].val('');\r\n                        } else {\r\n                            elements[i].value = '';\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Run form validation\r\n        obj.validate = function() {\r\n            var test = [];\r\n            // Get elements in the form\r\n            var elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\r\n            // Run all elements\r\n            for (var i = 0; i < elements.length; i++) {\r\n                // Required\r\n                if (elements[i].getAttribute('data-validation')) {\r\n                    var res = obj.validateElement(elements[i]);\r\n                    if (res) {\r\n                        test.push(res);\r\n                    }\r\n                }\r\n            }\r\n            if (test.length > 0) {\r\n                return test.join('<br>');\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // Check the form\r\n        obj.getError = function() {\r\n            // Validation\r\n            return obj.validation() ? true : false;\r\n        }\r\n\r\n        // Return the form hash\r\n        obj.setHash = function() {\r\n            return obj.getHash(Component.getElements(el));\r\n        }\r\n\r\n        // Get the form hash\r\n        obj.getHash = function(str) {\r\n            var hash = 0, i, chr;\r\n\r\n            if (str.length === 0) {\r\n                return hash;\r\n            } else {\r\n                for (i = 0; i < str.length; i++) {\r\n                  chr = str.charCodeAt(i);\r\n                  hash = ((hash << 5) - hash) + chr;\r\n                  hash |= 0;\r\n                }\r\n            }\r\n\r\n            return hash;\r\n        }\r\n\r\n        // Is there any change in the form since start tracking?\r\n        obj.isChanged = function() {\r\n            var hash = obj.setHash();\r\n            return (obj.options.currentHash != hash);\r\n        }\r\n\r\n        // Restart tracking\r\n        obj.resetTracker = function() {\r\n            obj.options.currentHash = obj.setHash();\r\n            obj.options.ignore = false;\r\n        }\r\n\r\n        // Ignore flag\r\n        obj.setIgnore = function(ignoreFlag) {\r\n            obj.options.ignore = ignoreFlag ? true : false;\r\n        }\r\n\r\n        // Start tracking in one second\r\n        setTimeout(function() {\r\n            obj.options.currentHash = obj.setHash();\r\n        }, 1000);\r\n\r\n        // Validations\r\n        el.addEventListener(\"keyup\", function(e) {\r\n            if (e.target.getAttribute('data-validation')) {\r\n                obj.validateElement(e.target);\r\n            }\r\n        });\r\n\r\n        // Alert\r\n        if (! Component.hasEvents) {\r\n            window.addEventListener(\"beforeunload\", function (e) {\r\n                if (obj.isChanged() && obj.options.ignore == false) {\r\n                    var confirmationMessage =  obj.options.message? obj.options.message : \"\\o/\";\r\n\r\n                    if (confirmationMessage) {\r\n                        if (typeof e == 'undefined') {\r\n                            e = window.event;\r\n                        }\r\n\r\n                        if (e) {\r\n                            e.returnValue = confirmationMessage;\r\n                        }\r\n\r\n                        return confirmationMessage;\r\n                    } else {\r\n                        return void(0);\r\n                    }\r\n                }\r\n            });\r\n\r\n            Component.hasEvents = true;\r\n        }\r\n\r\n        el.form = obj;\r\n\r\n        return obj;\r\n    });\r\n\r\n    // Get value from one element\r\n    Component.getValue = function(element) {\r\n        var value = null;\r\n        if (element.type == 'checkbox') {\r\n            if (element.checked == true) {\r\n                value = element.value || true;\r\n            }\r\n        } else if (element.type == 'radio') {\r\n            if (element.checked == true) {\r\n                value = element.value;\r\n            }\r\n        } else if (element.type == 'file') {\r\n            value = element.files;\r\n        } else if (element.tagName == 'select' && element.multiple == true) {\r\n            value = [];\r\n            var options = element.querySelectorAll(\"options[selected]\");\r\n            for (var j = 0; j < options.length; j++) {\r\n                value.push(options[j].value);\r\n            }\r\n        } else if (typeof(element.val) == 'function') {\r\n            value = element.val();\r\n        } else {\r\n            value = element.value || '';\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    // Get form elements\r\n    Component.getElements = function(el, asArray) {\r\n        var data = {};\r\n        var name = null;\r\n        var elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\r\n\r\n        for (var i = 0; i < elements.length; i++) {\r\n            if (name = elements[i].getAttribute('name')) {\r\n                data[name] = Component.getValue(elements[i]) || '';\r\n            }\r\n        }\r\n\r\n        return asArray == true ? data : JSON.stringify(data);\r\n    }\r\n\r\n    //Get form elements\r\n    Component.setElements = function(el, data) {\r\n        var name = null;\r\n        var value = null;\r\n        var elements = el.querySelectorAll(\"input, select, textarea, div[name]\");\r\n        for (var i = 0; i < elements.length; i++) {\r\n            // Attributes\r\n            var type = elements[i].getAttribute('type');\r\n            if (name = elements[i].getAttribute('name')) {\r\n                // Transform variable names in pathname\r\n                name = name.replace(new RegExp(/\\[(.*?)\\]/ig), '.$1');\r\n                value = null;\r\n                // Seach for the data in the path\r\n                if (name.match(/\\./)) {\r\n                    var tmp = Path.call(data, name) || '';\r\n                    if (typeof(tmp) !== 'undefined') {\r\n                        value = tmp;\r\n                    }\r\n                } else {\r\n                    if (typeof(data[name]) !== 'undefined') {\r\n                        value = data[name];\r\n                    }\r\n                }\r\n                // Set the values\r\n                if (value !== null) {\r\n                    if (type == 'checkbox' || type == 'radio') {\r\n                        elements[i].checked = value ? true : false;\r\n                    } else if (type == 'file') {\r\n                        // Do nothing\r\n                    } else {\r\n                        if (typeof (elements[i].val) == 'function') {\r\n                            elements[i].val(value);\r\n                        } else {\r\n                            elements[i].value = value;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return Component;\r\n}\r\n\r\n/* harmony default export */ var plugins_form = (Form());\n;// CONCATENATED MODULE: ./src/plugins/modal.js\n\r\n\r\n\r\n\r\nfunction Modal() {\r\n\r\n    var Events = function() {\r\n        //  Position\r\n        var tracker = null;\r\n\r\n        var keyDown = function (e) {\r\n            if (e.which == 27) {\r\n                var modals = document.querySelectorAll('.jmodal');\r\n                for (var i = 0; i < modals.length; i++) {\r\n                    modals[i].parentNode.modal.close();\r\n                }\r\n            }\r\n        }\r\n\r\n        var mouseUp = function (e) {\r\n            var item = helpers.findElement(e.target, 'jmodal');\r\n            if (item) {\r\n                // Get target info\r\n                var rect = item.getBoundingClientRect();\r\n\r\n                if (e.changedTouches && e.changedTouches[0]) {\r\n                    var x = e.changedTouches[0].clientX;\r\n                    var y = e.changedTouches[0].clientY;\r\n                } else {\r\n                    var x = e.clientX;\r\n                    var y = e.clientY;\r\n                }\r\n\r\n                if (rect.width - (x - rect.left) < 50 && (y - rect.top) < 50) {\r\n                    item.parentNode.modal.close();\r\n                }\r\n            }\r\n\r\n            if (tracker) {\r\n                tracker.element.style.cursor = 'auto';\r\n                tracker = null;\r\n            }\r\n        }\r\n\r\n        var mouseDown = function (e) {\r\n            var item = helpers.findElement(e.target, 'jmodal');\r\n            if (item) {\r\n                // Get target info\r\n                var rect = item.getBoundingClientRect();\r\n\r\n                if (e.changedTouches && e.changedTouches[0]) {\r\n                    var x = e.changedTouches[0].clientX;\r\n                    var y = e.changedTouches[0].clientY;\r\n                } else {\r\n                    var x = e.clientX;\r\n                    var y = e.clientY;\r\n                }\r\n\r\n                if (rect.width - (x - rect.left) < 50 && (y - rect.top) < 50) {\r\n                    // Do nothing\r\n                } else {\r\n                    if (y - rect.top < 50) {\r\n                        if (document.selection) {\r\n                            document.selection.empty();\r\n                        } else if (window.getSelection) {\r\n                            window.getSelection().removeAllRanges();\r\n                        }\r\n\r\n                        tracker = {\r\n                            left: rect.left,\r\n                            top: rect.top,\r\n                            x: e.clientX,\r\n                            y: e.clientY,\r\n                            width: rect.width,\r\n                            height: rect.height,\r\n                            element: item,\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        var mouseMove = function (e) {\r\n            if (tracker) {\r\n                e = e || window.event;\r\n                if (e.buttons) {\r\n                    var mouseButton = e.buttons;\r\n                } else if (e.button) {\r\n                    var mouseButton = e.button;\r\n                } else {\r\n                    var mouseButton = e.which;\r\n                }\r\n\r\n                if (mouseButton) {\r\n                    tracker.element.style.top = (tracker.top + (e.clientY - tracker.y) + (tracker.height / 2)) + 'px';\r\n                    tracker.element.style.left = (tracker.left + (e.clientX - tracker.x) + (tracker.width / 2)) + 'px';\r\n                    tracker.element.style.cursor = 'move';\r\n                } else {\r\n                    tracker.element.style.cursor = 'auto';\r\n                }\r\n            }\r\n        }\r\n\r\n        document.addEventListener('keydown', keyDown);\r\n        document.addEventListener('mouseup', mouseUp);\r\n        document.addEventListener('mousedown', mouseDown);\r\n        document.addEventListener('mousemove', mouseMove);\r\n    }\r\n\r\n    var Component = (function (el, options) {\r\n        var obj = {};\r\n        obj.options = {};\r\n\r\n        // Default configuration\r\n        var defaults = {\r\n            url: null,\r\n            onopen: null,\r\n            onclose: null,\r\n            onload: null,\r\n            closed: false,\r\n            width: null,\r\n            height: null,\r\n            title: null,\r\n            padding: null,\r\n            backdrop: true,\r\n            icon: null,\r\n        };\r\n\r\n        // Loop through our object\r\n        for (var property in defaults) {\r\n            if (options && options.hasOwnProperty(property)) {\r\n                obj.options[property] = options[property];\r\n            } else {\r\n                obj.options[property] = defaults[property];\r\n            }\r\n        }\r\n\r\n        // Title\r\n        if (!obj.options.title && el.getAttribute('title')) {\r\n            obj.options.title = el.getAttribute('title');\r\n        }\r\n\r\n        var temp = document.createElement('div');\r\n        while (el.children[0]) {\r\n            temp.appendChild(el.children[0]);\r\n        }\r\n\r\n        obj.title = document.createElement('div');\r\n        obj.title.className = 'jmodal_title';\r\n        if (obj.options.icon) {\r\n            obj.title.setAttribute('data-icon', obj.options.icon);\r\n        }\r\n\r\n        obj.content = document.createElement('div');\r\n        obj.content.className = 'jmodal_content';\r\n        obj.content.innerHTML = el.innerHTML;\r\n\r\n        while (temp.children[0]) {\r\n            obj.content.appendChild(temp.children[0]);\r\n        }\r\n\r\n        obj.container = document.createElement('div');\r\n        obj.container.className = 'jmodal';\r\n        obj.container.appendChild(obj.title);\r\n        obj.container.appendChild(obj.content);\r\n\r\n        if (obj.options.padding) {\r\n            obj.content.style.padding = obj.options.padding;\r\n        }\r\n        if (obj.options.width) {\r\n            obj.container.style.width = obj.options.width;\r\n        }\r\n        if (obj.options.height) {\r\n            obj.container.style.height = obj.options.height;\r\n        }\r\n        if (obj.options.title) {\r\n            var title = document.createElement('h4');\r\n            title.innerText = obj.options.title;\r\n            obj.title.appendChild(title);\r\n        }\r\n\r\n        el.innerHTML = '';\r\n        el.style.display = 'none';\r\n        el.appendChild(obj.container);\r\n\r\n        // Backdrop\r\n        if (obj.options.backdrop) {\r\n            var backdrop = document.createElement('div');\r\n            backdrop.className = 'jmodal_backdrop';\r\n            backdrop.onclick = function () {\r\n                obj.close();\r\n            }\r\n            el.appendChild(backdrop);\r\n        }\r\n\r\n        obj.open = function () {\r\n            el.style.display = 'block';\r\n            // Fullscreen\r\n            var rect = obj.container.getBoundingClientRect();\r\n            if (helpers.getWindowWidth() < rect.width) {\r\n                obj.container.style.top = '';\r\n                obj.container.style.left = '';\r\n                obj.container.classList.add('jmodal_fullscreen');\r\n                animation.slideBottom(obj.container, 1);\r\n            } else {\r\n                if (obj.options.backdrop) {\r\n                    backdrop.style.display = 'block';\r\n                }\r\n            }\r\n            // Event\r\n            if (typeof (obj.options.onopen) == 'function') {\r\n                obj.options.onopen(el, obj);\r\n            }\r\n        }\r\n\r\n        obj.resetPosition = function () {\r\n            obj.container.style.top = '';\r\n            obj.container.style.left = '';\r\n        }\r\n\r\n        obj.isOpen = function () {\r\n            return el.style.display != 'none' ? true : false;\r\n        }\r\n\r\n        obj.close = function () {\r\n            if (obj.isOpen()) {\r\n                el.style.display = 'none';\r\n                if (obj.options.backdrop) {\r\n                    // Backdrop\r\n                    backdrop.style.display = '';\r\n                }\r\n                // Remove fullscreen class\r\n                obj.container.classList.remove('jmodal_fullscreen');\r\n                // Event\r\n                if (typeof (obj.options.onclose) == 'function') {\r\n                    obj.options.onclose(el, obj);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (obj.options.url) {\r\n            ajax({\r\n                url: obj.options.url,\r\n                method: 'GET',\r\n                dataType: 'text/html',\r\n                success: function (data) {\r\n                    obj.content.innerHTML = data;\r\n\r\n                    if (!obj.options.closed) {\r\n                        obj.open();\r\n                    }\r\n\r\n                    if (typeof (obj.options.onload) === 'function') {\r\n                        obj.options.onload(obj);\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            if (!obj.options.closed) {\r\n                obj.open();\r\n            }\r\n\r\n            if (typeof (obj.options.onload) === 'function') {\r\n                obj.options.onload(obj);\r\n            }\r\n        }\r\n\r\n        // Keep object available from the node\r\n        el.modal = obj;\r\n\r\n        // Create events when the first modal is create only\r\n        Events();\r\n\r\n        // Execute the events only once\r\n        Events = function() {};\r\n\r\n        return obj;\r\n    });\r\n\r\n    return Component;\r\n}\r\n\r\n/* harmony default export */ var modal = (Modal());\n;// CONCATENATED MODULE: ./src/plugins/notification.js\n\r\n\r\n\r\nfunction Notification() {\r\n    var Component = function (options) {\r\n        var obj = {};\r\n        obj.options = {};\r\n\r\n        // Default configuration\r\n        var defaults = {\r\n            icon: null,\r\n            name: 'Notification',\r\n            date: null,\r\n            error: null,\r\n            title: null,\r\n            message: null,\r\n            timeout: 4000,\r\n            autoHide: true,\r\n            closeable: true,\r\n        };\r\n\r\n        // Loop through our object\r\n        for (var property in defaults) {\r\n            if (options && options.hasOwnProperty(property)) {\r\n                obj.options[property] = options[property];\r\n            } else {\r\n                obj.options[property] = defaults[property];\r\n            }\r\n        }\r\n\r\n        var notification = document.createElement('div');\r\n        notification.className = 'jnotification';\r\n\r\n        if (obj.options.error) {\r\n            notification.classList.add('jnotification-error');\r\n        }\r\n\r\n        var notificationContainer = document.createElement('div');\r\n        notificationContainer.className = 'jnotification-container';\r\n        notification.appendChild(notificationContainer);\r\n\r\n        var notificationHeader = document.createElement('div');\r\n        notificationHeader.className = 'jnotification-header';\r\n        notificationContainer.appendChild(notificationHeader);\r\n\r\n        var notificationImage = document.createElement('div');\r\n        notificationImage.className = 'jnotification-image';\r\n        notificationHeader.appendChild(notificationImage);\r\n\r\n        if (obj.options.icon) {\r\n            var notificationIcon = document.createElement('img');\r\n            notificationIcon.src = obj.options.icon;\r\n            notificationImage.appendChild(notificationIcon);\r\n        }\r\n\r\n        var notificationName = document.createElement('div');\r\n        notificationName.className = 'jnotification-name';\r\n        notificationName.innerHTML = obj.options.name;\r\n        notificationHeader.appendChild(notificationName);\r\n\r\n        if (obj.options.closeable == true) {\r\n            var notificationClose = document.createElement('div');\r\n            notificationClose.className = 'jnotification-close';\r\n            notificationClose.onclick = function () {\r\n                obj.hide();\r\n            }\r\n            notificationHeader.appendChild(notificationClose);\r\n        }\r\n\r\n        var notificationDate = document.createElement('div');\r\n        notificationDate.className = 'jnotification-date';\r\n        notificationHeader.appendChild(notificationDate);\r\n\r\n        var notificationContent = document.createElement('div');\r\n        notificationContent.className = 'jnotification-content';\r\n        notificationContainer.appendChild(notificationContent);\r\n\r\n        if (obj.options.title) {\r\n            var notificationTitle = document.createElement('div');\r\n            notificationTitle.className = 'jnotification-title';\r\n            notificationTitle.innerHTML = obj.options.title;\r\n            notificationContent.appendChild(notificationTitle);\r\n        }\r\n\r\n        var notificationMessage = document.createElement('div');\r\n        notificationMessage.className = 'jnotification-message';\r\n        notificationMessage.innerHTML = obj.options.message;\r\n        notificationContent.appendChild(notificationMessage);\r\n\r\n        obj.show = function () {\r\n            document.body.appendChild(notification);\r\n            if (helpers.getWindowWidth() > 800) {\r\n                animation.fadeIn(notification);\r\n            } else {\r\n                animation.slideTop(notification, 1);\r\n            }\r\n        }\r\n\r\n        obj.hide = function () {\r\n            if (helpers.getWindowWidth() > 800) {\r\n                animation.fadeOut(notification, function () {\r\n                    if (notification.parentNode) {\r\n                        notification.parentNode.removeChild(notification);\r\n                        if (notificationTimeout) {\r\n                            clearTimeout(notificationTimeout);\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                animation.slideTop(notification, 0, function () {\r\n                    if (notification.parentNode) {\r\n                        notification.parentNode.removeChild(notification);\r\n                        if (notificationTimeout) {\r\n                            clearTimeout(notificationTimeout);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        obj.show();\r\n\r\n        if (obj.options.autoHide == true) {\r\n            var notificationTimeout = setTimeout(function () {\r\n                obj.hide();\r\n            }, obj.options.timeout);\r\n        }\r\n\r\n        if (helpers.getWindowWidth() < 800) {\r\n            notification.addEventListener(\"swipeup\", function (e) {\r\n                obj.hide();\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            });\r\n        }\r\n\r\n        return obj;\r\n    }\r\n\r\n    Component.isVisible = function () {\r\n        var j = document.querySelector('.jnotification');\r\n        return j && j.parentNode ? true : false;\r\n    }\r\n\r\n    return Component;\r\n}\r\n\r\n/* harmony default export */ var notification = (Notification());\n;// CONCATENATED MODULE: ./src/plugins/progressbar.js\nfunction Progressbar(el, options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n\r\n    // Default configuration\r\n    var defaults = {\r\n        value: 0,\r\n        onchange: null,\r\n        width: null,\r\n    };\r\n\r\n    // Loop through the initial configuration\r\n    for (var property in defaults) {\r\n        if (options && options.hasOwnProperty(property)) {\r\n            obj.options[property] = options[property];\r\n        } else {\r\n            obj.options[property] = defaults[property];\r\n        }\r\n    }\r\n\r\n    // Class\r\n    el.classList.add('jprogressbar');\r\n    el.setAttribute('tabindex', 1);\r\n    el.setAttribute('data-value', obj.options.value);\r\n\r\n    var bar = document.createElement('div');\r\n    bar.style.width = obj.options.value + '%';\r\n    bar.style.color = '#fff';\r\n    el.appendChild(bar);\r\n\r\n    if (obj.options.width) {\r\n        el.style.width = obj.options.width;\r\n    }\r\n\r\n    // Set value\r\n    obj.setValue = function(value) {\r\n        value = parseInt(value);\r\n        obj.options.value = value;\r\n        bar.style.width = value + '%';\r\n        el.setAttribute('data-value', value + '%');\r\n\r\n        if (value < 6) {\r\n            el.style.color = '#000';\r\n        } else {\r\n            el.style.color = '#fff';\r\n        }\r\n\r\n        // Update value\r\n        obj.options.value = value;\r\n\r\n        if (typeof(obj.options.onchange) == 'function') {\r\n            obj.options.onchange(el, value);\r\n        }\r\n\r\n        // Lemonade JS\r\n        if (el.value != obj.options.value) {\r\n            el.value = obj.options.value;\r\n            if (typeof(el.oninput) == 'function') {\r\n                el.oninput({\r\n                    type: 'input',\r\n                    target: el,\r\n                    value: el.value\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    obj.getValue = function() {\r\n        return obj.options.value;\r\n    }\r\n\r\n    var action = function(e) {\r\n        if (e.which) {\r\n            // Get target info\r\n            var rect = el.getBoundingClientRect();\r\n\r\n            if (e.changedTouches && e.changedTouches[0]) {\r\n                var x = e.changedTouches[0].clientX;\r\n                var y = e.changedTouches[0].clientY;\r\n            } else {\r\n                var x = e.clientX;\r\n                var y = e.clientY;\r\n            }\r\n\r\n            obj.setValue(Math.round((x - rect.left) / rect.width * 100));\r\n        }\r\n    }\r\n\r\n    // Events\r\n    if ('touchstart' in document.documentElement === true) {\r\n        el.addEventListener('touchstart', action);\r\n        el.addEventListener('touchend', action);\r\n    } else {\r\n        el.addEventListener('mousedown', action);\r\n        el.addEventListener(\"mousemove\", action);\r\n    }\r\n\r\n    // Change\r\n    el.change = obj.setValue;\r\n\r\n    // Global generic value handler\r\n    el.val = function(val) {\r\n        if (val === undefined) {\r\n            return obj.getValue();\r\n        } else {\r\n            obj.setValue(val);\r\n        }\r\n    }\r\n\r\n    // Reference\r\n    el.progressbar = obj;\r\n\r\n    return obj;\r\n}\n;// CONCATENATED MODULE: ./src/plugins/rating.js\nfunction Rating(el, options) {\r\n    // Already created, update options\r\n    if (el.rating) {\r\n        return el.rating.setOptions(options, true);\r\n    }\r\n\r\n    // New instance\r\n    var obj = {};\r\n    obj.options = {};\r\n\r\n    obj.setOptions = function(options, reset) {\r\n        // Default configuration\r\n        var defaults = {\r\n            number: 5,\r\n            value: 0,\r\n            tooltip: [ 'Very bad', 'Bad', 'Average', 'Good', 'Very good' ],\r\n            onchange: null,\r\n        };\r\n\r\n        // Loop through the initial configuration\r\n        for (var property in defaults) {\r\n            if (options && options.hasOwnProperty(property)) {\r\n                obj.options[property] = options[property];\r\n            } else {\r\n                if (typeof(obj.options[property]) == 'undefined' || reset === true) {\r\n                    obj.options[property] = defaults[property];\r\n                }\r\n            }\r\n        }\r\n\r\n        // Make sure the container is empty\r\n        el.innerHTML = '';\r\n\r\n        // Add elements\r\n        for (var i = 0; i < obj.options.number; i++) {\r\n            var div = document.createElement('div');\r\n            div.setAttribute('data-index', (i + 1))\r\n            div.setAttribute('title', obj.options.tooltip[i])\r\n            el.appendChild(div);\r\n        }\r\n\r\n        // Selected option\r\n        if (obj.options.value) {\r\n            for (var i = 0; i < obj.options.number; i++) {\r\n                if (i < obj.options.value) {\r\n                    el.children[i].classList.add('jrating-selected');\r\n                }\r\n            }\r\n        }\r\n\r\n        return obj;\r\n    }\r\n\r\n    // Set value\r\n    obj.setValue = function(index) {\r\n        for (var i = 0; i < obj.options.number; i++) {\r\n            if (i < index) {\r\n                el.children[i].classList.add('jrating-selected');\r\n            } else {\r\n                el.children[i].classList.remove('jrating-over');\r\n                el.children[i].classList.remove('jrating-selected');\r\n            }\r\n        }\r\n\r\n        obj.options.value = index;\r\n\r\n        if (typeof(obj.options.onchange) == 'function') {\r\n            obj.options.onchange(el, index);\r\n        }\r\n\r\n        // Lemonade JS\r\n        if (el.value != obj.options.value) {\r\n            el.value = obj.options.value;\r\n            if (typeof(el.oninput) == 'function') {\r\n                el.oninput({\r\n                    type: 'input',\r\n                    target: el,\r\n                    value: el.value\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    obj.getValue = function() {\r\n        return obj.options.value;\r\n    }\r\n\r\n    var init = function() {\r\n        // Start plugin\r\n        obj.setOptions(options);\r\n\r\n        // Class\r\n        el.classList.add('jrating');\r\n\r\n        // Events\r\n        el.addEventListener(\"click\", function(e) {\r\n            var index = e.target.getAttribute('data-index');\r\n            if (index != undefined) {\r\n                if (index == obj.options.value) {\r\n                    obj.setValue(0);\r\n                } else {\r\n                    obj.setValue(index);\r\n                }\r\n            }\r\n        });\r\n\r\n        el.addEventListener(\"mouseover\", function(e) {\r\n            var index = e.target.getAttribute('data-index');\r\n            for (var i = 0; i < obj.options.number; i++) {\r\n                if (i < index) {\r\n                    el.children[i].classList.add('jrating-over');\r\n                } else {\r\n                    el.children[i].classList.remove('jrating-over');\r\n                }\r\n            }\r\n        });\r\n\r\n        el.addEventListener(\"mouseout\", function(e) {\r\n            for (var i = 0; i < obj.options.number; i++) {\r\n                el.children[i].classList.remove('jrating-over');\r\n            }\r\n        });\r\n\r\n        // Change\r\n        el.change = obj.setValue;\r\n\r\n        // Global generic value handler\r\n        el.val = function(val) {\r\n            if (val === undefined) {\r\n                return obj.getValue();\r\n            } else {\r\n                obj.setValue(val);\r\n            }\r\n        }\r\n\r\n        // Reference\r\n        el.rating = obj;\r\n    }\r\n\r\n    init();\r\n\r\n    return obj;\r\n}\n;// CONCATENATED MODULE: ./src/plugins/search.js\n\r\n\r\n\r\nfunction Search(el, options) {\r\n    if (el.search) {\r\n        return el.search;\r\n    }\r\n\r\n    var index =  null;\r\n\r\n    var select = function(e) {\r\n        if (e.target.classList.contains('jsearch_item')) {\r\n            var element = e.target;\r\n        } else {\r\n            var element = e.target.parentNode;\r\n        }\r\n\r\n        obj.selectIndex(element);\r\n        e.preventDefault();\r\n    }\r\n\r\n    var createList = function(data) {\r\n        if (typeof(obj.options.onsearch) == 'function') {\r\n            var ret = obj.options.onsearch(obj, data);\r\n            if (ret) {\r\n                data = ret;\r\n            }\r\n        }\r\n\r\n        // Reset container\r\n        container.innerHTML = '';\r\n        // Print results\r\n        if (! data.length) {\r\n            // Show container\r\n            el.style.display = '';\r\n        } else {\r\n            // Show container\r\n            el.style.display = 'block';\r\n\r\n            // Show items (only 10)\r\n            var len = data.length < 11 ? data.length : 10;\r\n            for (var i = 0; i < len; i++) {\r\n                if (typeof(data[i]) == 'string') {\r\n                    var text = data[i];\r\n                    var value = data[i];\r\n                } else {\r\n                    // Legacy\r\n                    var text = data[i].text;\r\n                    if (! text && data[i].name) {\r\n                        text = data[i].name;\r\n                    }\r\n                    var value = data[i].value;\r\n                    if (! value && data[i].id) {\r\n                        value = data[i].id;\r\n                    }\r\n                }\r\n\r\n                var div = document.createElement('div');\r\n                div.setAttribute('data-value', value);\r\n                div.setAttribute('data-text', text);\r\n                div.className = 'jsearch_item';\r\n\r\n                if (data[i].id) {\r\n                    div.setAttribute('id', data[i].id)\r\n                }\r\n\r\n                if (obj.options.forceSelect && i == 0) {\r\n                    div.classList.add('selected');\r\n                }\r\n                var img = document.createElement('img');\r\n                if (data[i].image) {\r\n                    img.src = data[i].image;\r\n                } else {\r\n                    img.style.display = 'none';\r\n                }\r\n                div.appendChild(img);\r\n\r\n                var item = document.createElement('div');\r\n                item.innerHTML = text;\r\n                div.appendChild(item);\r\n\r\n                // Append item to the container\r\n                container.appendChild(div);\r\n            }\r\n        }\r\n    }\r\n\r\n    var execute = function(str) {\r\n        if (str != obj.terms) {\r\n            // New terms\r\n            obj.terms = str;\r\n            // New index\r\n            if (obj.options.forceSelect) {\r\n                index = 0;\r\n            } else {\r\n                index = null;\r\n            }\r\n            // Array or remote search\r\n            if (Array.isArray(obj.options.data)) {\r\n                var test = function(o) {\r\n                    if (typeof(o) == 'string') {\r\n                        if ((''+o).toLowerCase().search(str.toLowerCase()) >= 0) {\r\n                            return true;\r\n                        }\r\n                    } else {\r\n                        for (var key in o) {\r\n                            var value = o[key];\r\n                            if ((''+value).toLowerCase().search(str.toLowerCase()) >= 0) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n\r\n                var results = obj.options.data.filter(function(item) {\r\n                    return test(item);\r\n                });\r\n\r\n                // Show items\r\n                createList(results);\r\n            } else {\r\n                // Get remove results\r\n                ajax({\r\n                    url: obj.options.data + str,\r\n                    method: 'GET',\r\n                    dataType: 'json',\r\n                    success: function(data) {\r\n                        // Show items\r\n                        createList(data);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    // Search timer\r\n    var timer = null;\r\n\r\n    // Search methods\r\n    var obj = function(str) {\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n        timer = setTimeout(function() {\r\n            execute(str);\r\n        }, 500);\r\n    }\r\n    if(options.forceSelect === null) {\r\n        options.forceSelect = true;\r\n    }\r\n    obj.options = {\r\n        data: options.data || null,\r\n        input: options.input || null,\r\n        searchByNode: options.searchByNode || null,\r\n        onselect: options.onselect || null,\r\n        forceSelect: options.forceSelect,\r\n        onsearch: options.onsearch || null,\r\n        onbeforesearch: options.onbeforesearch || null,\r\n    };\r\n\r\n    obj.selectIndex = function(item) {\r\n        var id = item.getAttribute('id');\r\n        var text = item.getAttribute('data-text');\r\n        var value = item.getAttribute('data-value');\r\n        var image = item.children[0].src || '';\r\n        // Onselect\r\n        if (typeof(obj.options.onselect) == 'function') {\r\n            obj.options.onselect(obj, text, value, id, image);\r\n        }\r\n        // Close container\r\n        obj.close();\r\n    }\r\n\r\n    obj.open = function() {\r\n        el.style.display = 'block';\r\n    }\r\n\r\n    obj.close = function() {\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n        // Current terms\r\n        obj.terms = '';\r\n        // Remove results\r\n        container.innerHTML = '';\r\n        // Hide\r\n        el.style.display = '';\r\n    }\r\n\r\n    obj.isOpened = function() {\r\n        return el.style.display ? true : false;\r\n    }\r\n\r\n    obj.keydown = function(e) {\r\n        if (obj.isOpened()) {\r\n            if (e.key == 'Enter') {\r\n                // Enter\r\n                if (index!==null && container.children[index]) {\r\n                    obj.selectIndex(container.children[index]);\r\n                    e.preventDefault();\r\n                } else {\r\n                    obj.close();\r\n                }\r\n            } else if (e.key === 'ArrowUp') {\r\n                // Up\r\n                if (index!==null && container.children[0]) {\r\n                    container.children[index].classList.remove('selected');\r\n                    if(!obj.options.forceSelect && index === 0) {\r\n                        index = null;\r\n                    } else {\r\n                        index = Math.max(0, index-1);\r\n                        container.children[index].classList.add('selected');\r\n                    }\r\n                }\r\n                e.preventDefault();\r\n            } else if (e.key === 'ArrowDown') {\r\n                // Down\r\n                if(index == null) {\r\n                    index = -1;\r\n                } else {\r\n                    container.children[index].classList.remove('selected');\r\n                }\r\n                if (index < 9 && container.children[index+1]) {\r\n                    index++;\r\n                }\r\n                container.children[index].classList.add('selected');\r\n                e.preventDefault();\r\n            }\r\n        }\r\n    }\r\n\r\n    obj.keyup = function(e) {\r\n        if (! obj.options.searchByNode && obj.options.input) {\r\n            if (obj.options.input.tagName === 'DIV') {\r\n                var terms = obj.options.input.innerText;\r\n            } else {\r\n                var terms = obj.options.input.value;\r\n            }\r\n        } else {\r\n            // Current node\r\n            var node = helpers.getNode();\r\n            if (node) {\r\n                var terms = node.innerText;\r\n            }\r\n        }\r\n\r\n        if (typeof(obj.options.onbeforesearch) == 'function') {\r\n            var ret = obj.options.onbeforesearch(obj, terms);\r\n            if (ret) {\r\n                terms = ret;\r\n            } else {\r\n                if (ret === false) {\r\n                    // Ignore event\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        obj(terms);\r\n    }\r\n\r\n    obj.blur = function(e) {\r\n        obj.close();\r\n    }\r\n\r\n    // Add events\r\n    if (obj.options.input) {\r\n        obj.options.input.addEventListener(\"keyup\", obj.keyup);\r\n        obj.options.input.addEventListener(\"keydown\", obj.keydown);\r\n        obj.options.input.addEventListener(\"blur\", obj.blur);\r\n    }\r\n\r\n    // Append element\r\n    var container = document.createElement('div');\r\n    container.classList.add('jsearch_container');\r\n    container.onmousedown = select;\r\n    el.appendChild(container);\r\n\r\n    el.classList.add('jsearch');\r\n    el.search = obj;\r\n\r\n    return obj;\r\n}\n;// CONCATENATED MODULE: ./src/plugins/slider.js\nfunction Slider(el, options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n    obj.currentImage = null;\r\n\r\n    if (options) {\r\n        obj.options = options;\r\n    }\r\n\r\n    // Focus\r\n    el.setAttribute('tabindex', '900')\r\n\r\n    // Items\r\n    obj.options.items = [];\r\n\r\n    if (! el.classList.contains('jslider')) {\r\n        el.classList.add('jslider');\r\n        el.classList.add('unselectable');\r\n\r\n        if (obj.options.height) {\r\n            el.style.minHeight = parseInt(obj.options.height) + 'px';\r\n        }\r\n        if (obj.options.width) {\r\n            el.style.width = parseInt(obj.options.width) + 'px';\r\n        }\r\n        if (obj.options.grid) {\r\n            el.classList.add('jslider-grid');\r\n            var number = el.children.length;\r\n            if (number > 4) {\r\n                el.setAttribute('data-total', number - 4);\r\n            }\r\n            el.setAttribute('data-number', (number > 4 ? 4 : number));\r\n        }\r\n\r\n        // Add slider counter\r\n        var counter = document.createElement('div');\r\n        counter.classList.add('jslider-counter');\r\n\r\n        // Move children inside\r\n        if (el.children.length > 0) {\r\n            // Keep children items\r\n            for (var i = 0; i < el.children.length; i++) {\r\n                obj.options.items.push(el.children[i]);\r\n                \r\n                // counter click event\r\n                var item = document.createElement('div');\r\n                item.onclick = function() {\r\n                    var index = Array.prototype.slice.call(counter.children).indexOf(this);\r\n                    obj.show(obj.currentImage = obj.options.items[index]);\r\n                }\r\n                counter.appendChild(item);\r\n            }\r\n        }\r\n        // Add caption\r\n        var caption = document.createElement('div');\r\n        caption.className = 'jslider-caption';\r\n\r\n        // Add close buttom\r\n        var controls = document.createElement('div');\r\n        var close = document.createElement('div');\r\n        close.className = 'jslider-close';\r\n        close.innerHTML = '';\r\n        \r\n        close.onclick = function() {\r\n            obj.close();\r\n        }\r\n        controls.appendChild(caption);\r\n        controls.appendChild(close);\r\n    }\r\n\r\n    obj.updateCounter = function(index) {\r\n        for (var i = 0; i < counter.children.length; i ++) {\r\n            if (counter.children[i].classList.contains('jslider-counter-focus')) {\r\n                counter.children[i].classList.remove('jslider-counter-focus');\r\n                break;\r\n            }\r\n        }\r\n        counter.children[index].classList.add('jslider-counter-focus');\r\n    }\r\n\r\n    obj.show = function(target) {\r\n        if (! target) {\r\n            var target = el.children[0];\r\n        }\r\n\r\n        // Focus element\r\n        el.classList.add('jslider-focus');\r\n        el.classList.remove('jslider-grid');\r\n        el.appendChild(controls);\r\n        el.appendChild(counter);\r\n\r\n        // Update counter\r\n        var index = obj.options.items.indexOf(target);\r\n        obj.updateCounter(index);\r\n\r\n        // Remove display\r\n        for (var i = 0; i < el.children.length; i++) {\r\n            el.children[i].style.display = '';\r\n        }\r\n        target.style.display = 'block';\r\n\r\n        // Is there any previous\r\n        if (target.previousElementSibling) {\r\n            el.classList.add('jslider-left');\r\n        } else {\r\n            el.classList.remove('jslider-left');\r\n        }\r\n\r\n        // Is there any next\r\n        if (target.nextElementSibling && target.nextElementSibling.tagName == 'IMG') {\r\n            el.classList.add('jslider-right');\r\n        } else {\r\n            el.classList.remove('jslider-right');\r\n        }\r\n\r\n        obj.currentImage = target;\r\n\r\n        // Vertical image\r\n        if (obj.currentImage.offsetHeight > obj.currentImage.offsetWidth) {\r\n            obj.currentImage.classList.add('jslider-vertical');\r\n        }\r\n\r\n        controls.children[0].innerText = obj.currentImage.getAttribute('title');\r\n    }\r\n\r\n    obj.open = function() {\r\n        obj.show();\r\n\r\n        // Event\r\n        if (typeof(obj.options.onopen) == 'function') {\r\n            obj.options.onopen(el);\r\n        }\r\n    }\r\n\r\n    obj.close = function() {\r\n        // Remove control classes\r\n        el.classList.remove('jslider-focus');\r\n        el.classList.remove('jslider-left');\r\n        el.classList.remove('jslider-right');\r\n        // Show as a grid depending on the configuration\r\n        if (obj.options.grid) {\r\n            el.classList.add('jslider-grid');\r\n        }\r\n        // Remove display\r\n        for (var i = 0; i < el.children.length; i++) {\r\n            el.children[i].style.display = '';\r\n        }\r\n        // Remove controls from the component\r\n        counter.remove();\r\n        controls.remove();\r\n        // Current image\r\n        obj.currentImage = null;\r\n        // Event\r\n        if (typeof(obj.options.onclose) == 'function') {\r\n            obj.options.onclose(el);\r\n        }\r\n    }\r\n\r\n    obj.reset = function() {\r\n        el.innerHTML = '';\r\n    }\r\n\r\n    obj.next = function() {\r\n        var nextImage = obj.currentImage.nextElementSibling;\r\n        if (nextImage && nextImage.tagName === 'IMG') {\r\n            obj.show(obj.currentImage.nextElementSibling);\r\n        }\r\n    }\r\n    \r\n    obj.prev = function() {\r\n        if (obj.currentImage.previousElementSibling) {\r\n            obj.show(obj.currentImage.previousElementSibling);\r\n        }\r\n    }\r\n\r\n    var mouseUp = function(e) {\r\n        // Open slider\r\n        if (e.target.tagName == 'IMG') {\r\n            obj.show(e.target);\r\n        } else if (! e.target.classList.contains('jslider-close') && ! (e.target.parentNode.classList.contains('jslider-counter') || e.target.classList.contains('jslider-counter'))){\r\n            // Arrow controls\r\n            var offsetX = e.offsetX || e.changedTouches[0].clientX;\r\n            if (e.target.clientWidth - offsetX < 40) {\r\n                // Show next image\r\n                obj.next();\r\n            } else if (offsetX < 40) {\r\n                // Show previous image\r\n                obj.prev();\r\n            }\r\n        }\r\n    }\r\n\r\n    if ('ontouchend' in document.documentElement === true) {\r\n        el.addEventListener('touchend', mouseUp);\r\n    } else {\r\n        el.addEventListener('mouseup', mouseUp);\r\n    }\r\n\r\n    // Add global events\r\n    el.addEventListener(\"swipeleft\", function(e) {\r\n        obj.next();\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    });\r\n\r\n    el.addEventListener(\"swiperight\", function(e) {\r\n        obj.prev();\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    });\r\n\r\n    el.addEventListener('keydown', function(e) {\r\n        if (e.which == 27) {\r\n            obj.close();\r\n        }\r\n    });\r\n\r\n    el.slider = obj;\r\n\r\n    return obj;\r\n}\n;// CONCATENATED MODULE: ./src/plugins/tags.js\n\r\n\r\n\r\n\r\nfunction Tags(el, options) {\r\n    // Redefine configuration\r\n    if (el.tags) {\r\n        return el.tags.setOptions(options, true);\r\n    }\r\n\r\n    var obj = { type:'tags' };\r\n    obj.options = {};\r\n\r\n    // Limit\r\n    var limit = function() {\r\n        return obj.options.limit && el.children.length >= obj.options.limit ? true : false;\r\n    }\r\n\r\n    // Search helpers\r\n    var search = null;\r\n    var searchContainer = null;\r\n\r\n    obj.setOptions = function(options, reset) {\r\n        /**\r\n         * @typedef {Object} defaults\r\n         * @property {(string|Array)} value - Initial value of the compontent\r\n         * @property {number} limit - Max number of tags inside the element\r\n         * @property {string} search - The URL for suggestions\r\n         * @property {string} placeholder - The default instruction text on the element\r\n         * @property {validation} validation - Method to validate the tags\r\n         * @property {requestCallback} onbeforechange - Method to be execute before any changes on the element\r\n         * @property {requestCallback} onchange - Method to be execute after any changes on the element\r\n         * @property {requestCallback} onfocus - Method to be execute when on focus\r\n         * @property {requestCallback} onblur - Method to be execute when on blur\r\n         * @property {requestCallback} onload - Method to be execute when the element is loaded\r\n         */\r\n        var defaults = {\r\n            value: '',\r\n            limit: null,\r\n            search: null,\r\n            placeholder: null,\r\n            validation: null,\r\n            onbeforepaste: null,\r\n            onbeforechange: null,\r\n            onlimit: null,\r\n            onchange: null,\r\n            onfocus: null,\r\n            onblur: null,\r\n            onload: null,\r\n        }\r\n\r\n        // Loop through though the default configuration\r\n        for (var property in defaults) {\r\n            if (options && options.hasOwnProperty(property)) {\r\n                obj.options[property] = options[property];\r\n            } else {\r\n                if (typeof(obj.options[property]) == 'undefined' || reset === true) {\r\n                    obj.options[property] = defaults[property];\r\n                }\r\n            }\r\n        }\r\n\r\n        // Placeholder\r\n        if (obj.options.placeholder) {\r\n            el.setAttribute('data-placeholder', obj.options.placeholder);\r\n        } else {\r\n            el.removeAttribute('data-placeholder');\r\n        }\r\n        el.placeholder = obj.options.placeholder;\r\n\r\n        // Update value\r\n        obj.setValue(obj.options.value);\r\n\r\n        // Validate items\r\n        filter();\r\n\r\n        // Create search box\r\n        if (obj.options.search) {\r\n            if (! searchContainer) {\r\n                searchContainer = document.createElement('div');\r\n                el.parentNode.insertBefore(searchContainer, el.nextSibling);\r\n\r\n                // Create container\r\n                search = Search(searchContainer, {\r\n                    data: obj.options.search,\r\n                    onselect: function(a,b,c) {\r\n                        obj.selectIndex(b,c);\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            if (searchContainer) {\r\n                search = null;\r\n                searchContainer.remove();\r\n                searchContainer = null;\r\n            }\r\n        }\r\n\r\n        return obj;\r\n    }\r\n\r\n    /**\r\n     * Add a new tag to the element\r\n     * @param {(?string|Array)} value - The value of the new element\r\n     */\r\n    obj.add = function(value, focus) {\r\n        if (typeof(obj.options.onbeforechange) == 'function') {\r\n            var ret = obj.options.onbeforechange(el, obj, obj.options.value, value);\r\n            if (ret === false) {\r\n                return false;\r\n            } else { \r\n                if (ret != null) {\r\n                    value = ret;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Make sure search is closed\r\n        if (search) {\r\n            search.close();\r\n        }\r\n\r\n        if (limit()) {\r\n            if (typeof(obj.options.onlimit) == 'function') {\r\n                obj.options.onlimit(obj, obj.options.limit);\r\n            } else {\r\n                alert(dictionary.translate('You reach the limit number of entries') + ' ' + obj.options.limit);\r\n            }\r\n        } else {\r\n            // Get node\r\n            var node = helpers.getNode();\r\n\r\n            if (node && node.parentNode && node.parentNode.classList.contains('jtags') &&\r\n                node.nextSibling && (! (node.nextSibling.innerText && node.nextSibling.innerText.trim()))) {\r\n                div = node.nextSibling;\r\n            } else {\r\n                // Remove not used last item\r\n                if (el.lastChild) {\r\n                    if (! el.lastChild.innerText.trim()) {\r\n                        el.removeChild(el.lastChild);\r\n                    }\r\n                }\r\n\r\n                // Mix argument string or array\r\n                if (! value || typeof(value) == 'string') {\r\n                    var div = createElement(value, value, node);\r\n                } else {\r\n                    for (var i = 0; i <= value.length; i++) {\r\n                        if (! limit()) {\r\n                            if (! value[i] || typeof(value[i]) == 'string') {\r\n                                var t = value[i] || '';\r\n                                var v = null;\r\n                            } else {\r\n                                var t = value[i].text;\r\n                                var v = value[i].value;\r\n                            }\r\n\r\n                            // Add element\r\n                            var div = createElement(t, v);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Change\r\n                change();\r\n            }\r\n\r\n            // Place caret\r\n            if (focus) {\r\n                setFocus(div);\r\n            }\r\n        }\r\n    }\r\n\r\n    obj.setLimit = function(limit) {\r\n        obj.options.limit = limit;\r\n        var n = el.children.length - limit;\r\n        while (el.children.length > limit) {\r\n            el.removeChild(el.lastChild);\r\n        }\r\n    }\r\n\r\n    // Remove a item node\r\n    obj.remove = function(node) {\r\n        // Remove node\r\n        node.parentNode.removeChild(node);\r\n        // Make sure element is not blank\r\n        if (! el.children.length) {\r\n            obj.add('', true);\r\n        } else {\r\n            change();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get all tags in the element\r\n     * @return {Array} data - All tags as an array\r\n     */\r\n    obj.getData = function() {\r\n        var data = [];\r\n        for (var i = 0; i < el.children.length; i++) {\r\n            // Get value\r\n            var text = el.children[i].innerText.replace(\"\\n\", \"\");\r\n            // Get id\r\n            var value = el.children[i].getAttribute('data-value');\r\n            if (! value) {\r\n                value = text;\r\n            }\r\n            // Item\r\n            if (text || value) {\r\n                data.push({ text: text, value: value });\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     * Get the value of one tag. Null for all tags\r\n     * @param {?number} index - Tag index number. Null for all tags.\r\n     * @return {string} value - All tags separated by comma\r\n     */\r\n    obj.getValue = function(index) {\r\n        var value = null;\r\n\r\n        if (index != null) {\r\n            // Get one individual value\r\n            value = el.children[index].getAttribute('data-value');\r\n            if (! value) {\r\n                value = el.children[index].innerText.replace(\"\\n\", \"\");\r\n            }\r\n        } else {\r\n            // Get all\r\n            var data = [];\r\n            for (var i = 0; i < el.children.length; i++) {\r\n                value = el.children[i].innerText.replace(\"\\n\", \"\");\r\n                if (value) {\r\n                    data.push(obj.getValue(i));\r\n                }\r\n            }\r\n            value = data.join(',');\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Set the value of the element based on a string separeted by (,|;|\\r\\n)\r\n     * @param {mixed} value - A string or array object with values\r\n     */\r\n    obj.setValue = function(mixed) {\r\n        if (! mixed) {\r\n            obj.reset();\r\n        } else {\r\n            if (el.value != mixed) {\r\n                if (Array.isArray(mixed)) {\r\n                    obj.add(mixed);\r\n                } else {\r\n                    // Remove whitespaces\r\n                    var text = (''+mixed).trim();\r\n                    // Tags\r\n                    var data = extractTags(text);\r\n                    // Reset\r\n                    el.innerHTML = '';\r\n                    // Add tags to the element\r\n                    obj.add(data);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Reset the data from the element\r\n     */\r\n    obj.reset = function() {\r\n        // Empty class\r\n        el.classList.add('jtags-empty');\r\n        // Empty element\r\n        el.innerHTML = '<div></div>';\r\n        // Execute changes\r\n        change();\r\n    }\r\n\r\n    /**\r\n     * Verify if all tags in the element are valid\r\n     * @return {boolean}\r\n     */\r\n    obj.isValid = function() {\r\n        var test = 0;\r\n        for (var i = 0; i < el.children.length; i++) {\r\n            if (el.children[i].classList.contains('jtags_error')) {\r\n                test++;\r\n            }\r\n        }\r\n        return test == 0 ? true : false;\r\n    }\r\n\r\n    /**\r\n     * Add one element from the suggestions to the element\r\n     * @param {object} item - Node element in the suggestions container\r\n     */ \r\n    obj.selectIndex = function(text, value) {\r\n        var node = helpers.getNode();\r\n        if (node) {\r\n            // Append text to the caret\r\n            node.innerText = text;\r\n            // Set node id\r\n            if (value) {\r\n                node.setAttribute('data-value', value);\r\n            }\r\n            // Remove any error\r\n            node.classList.remove('jtags_error');\r\n            if (! limit()) {\r\n                // Add new item\r\n                obj.add('', true);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Search for suggestions\r\n     * @param {object} node - Target node for any suggestions\r\n     */\r\n    obj.search = function(node) {\r\n        // Search for\r\n        var terms = node.innerText;\r\n    }\r\n\r\n    // Destroy tags element\r\n    obj.destroy = function() {\r\n        // Bind events\r\n        el.removeEventListener('mouseup', tagsMouseUp);\r\n        el.removeEventListener('keydown', tagsKeyDown);\r\n        el.removeEventListener('keyup', tagsKeyUp);\r\n        el.removeEventListener('paste', tagsPaste);\r\n        el.removeEventListener('focus', tagsFocus);\r\n        el.removeEventListener('blur', tagsBlur);\r\n\r\n        // Remove element\r\n        el.parentNode.removeChild(el);\r\n    }\r\n\r\n    var setFocus = function(node) {\r\n        if (el.children.length) {\r\n            var range = document.createRange();\r\n            var sel = window.getSelection();\r\n            if (! node) {\r\n                var node = el.childNodes[el.childNodes.length-1];\r\n            }\r\n            range.setStart(node, node.length)\r\n            range.collapse(true)\r\n            sel.removeAllRanges()\r\n            sel.addRange(range)\r\n            el.scrollLeft = el.scrollWidth;\r\n        }\r\n    }\r\n\r\n    var createElement = function(label, value, node) {\r\n        var div = document.createElement('div');\r\n        div.innerHTML = label ? label : '';\r\n        if (value) {\r\n            div.setAttribute('data-value', value);\r\n        }\r\n\r\n        if (node && node.parentNode.classList.contains('jtags')) {\r\n            el.insertBefore(div, node.nextSibling);\r\n        } else {\r\n            el.appendChild(div);\r\n        }\r\n\r\n        return div;\r\n    }\r\n\r\n    var change = function() {\r\n        // Value\r\n        var value = obj.getValue();\r\n\r\n        if (value != obj.options.value) {\r\n            obj.options.value = value;\r\n            if (typeof(obj.options.onchange) == 'function') {\r\n                obj.options.onchange(el, obj, obj.options.value);\r\n            }\r\n\r\n            // Lemonade JS\r\n            if (el.value != obj.options.value) {\r\n                el.value = obj.options.value;\r\n                if (typeof(el.oninput) == 'function') {\r\n                    el.oninput({\r\n                        type: 'input',\r\n                        target: el,\r\n                        value: el.value\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        filter();\r\n    }\r\n\r\n    /**\r\n     * Filter tags\r\n     */\r\n    var filter = function() {\r\n        for (var i = 0; i < el.children.length; i++) {\r\n            if (el.children[i].tagName === 'DIV') {\r\n                // Create label design\r\n                if (!obj.getValue(i)) {\r\n                    el.children[i].classList.remove('jtags_label');\r\n                } else {\r\n                    el.children[i].classList.add('jtags_label');\r\n\r\n                    // Validation in place\r\n                    if (typeof (obj.options.validation) == 'function') {\r\n                        if (obj.getValue(i)) {\r\n                            if (!obj.options.validation(el.children[i], el.children[i].innerText, el.children[i].getAttribute('data-value'))) {\r\n                                el.children[i].classList.add('jtags_error');\r\n                            } else {\r\n                                el.children[i].classList.remove('jtags_error');\r\n                            }\r\n                        } else {\r\n                            el.children[i].classList.remove('jtags_error');\r\n                        }\r\n                    } else {\r\n                        el.children[i].classList.remove('jtags_error');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        isEmpty();\r\n    }\r\n\r\n    var isEmpty = function() {\r\n        // Can't be empty\r\n        if (! el.innerText.trim()) {\r\n            if (! el.children.length || el.children[0].tagName === 'BR') {\r\n                el.innerHTML = '';\r\n                setFocus(createElement());\r\n            }\r\n        } else {\r\n            el.classList.remove('jtags-empty');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Extract tags from a string\r\n     * @param {string} text - Raw string\r\n     * @return {Array} data - Array with extracted tags\r\n     */\r\n    var extractTags = function(text) {\r\n        /** @type {Array} */\r\n        var data = [];\r\n\r\n        /** @type {string} */\r\n        var word = '';\r\n\r\n        // Remove whitespaces\r\n        text = text.trim();\r\n\r\n        if (text) {\r\n            for (var i = 0; i < text.length; i++) {\r\n                if (text[i] == ',' || text[i] == ';' || text[i] == '\\n') {\r\n                    if (word) {\r\n                        data.push(word.trim());\r\n                        word = '';\r\n                    }\r\n                } else {\r\n                    word += text[i];\r\n                }\r\n            }\r\n\r\n            if (word) {\r\n                data.push(word);\r\n            }\r\n        }\r\n\r\n        return data;\r\n    }\r\n\r\n    /** @type {number} */\r\n    var anchorOffset = 0;\r\n\r\n    /**\r\n     * Processing event keydown on the element\r\n     * @param e {object}\r\n     */\r\n    var tagsKeyDown = function(e) {\r\n        // Anchoroffset\r\n        anchorOffset = window.getSelection().anchorOffset;\r\n\r\n        // Verify if is empty\r\n        isEmpty();\r\n\r\n        // Comma\r\n        if (e.key === 'Tab'  || e.key === ';' || e.key === ',') {\r\n            var n = window.getSelection().anchorOffset;\r\n            if (n > 1) {\r\n                if (limit()) {\r\n                    if (typeof(obj.options.onlimit) == 'function') {\r\n                        obj.options.onlimit(obj, obj.options.limit)\r\n                    }\r\n                } else {\r\n                    obj.add('', true);\r\n                }\r\n            }\r\n            e.preventDefault();\r\n        } else if (e.key == 'Enter') {\r\n            if (! search || ! search.isOpened()) {\r\n                var n = window.getSelection().anchorOffset;\r\n                if (n > 1) {\r\n                    if (! limit()) {\r\n                        obj.add('', true);\r\n                    }\r\n                }\r\n                e.preventDefault();\r\n            }\r\n        } else if (e.key == 'Backspace') {\r\n            // Back space - do not let last item to be removed\r\n            if (el.children.length == 1 && window.getSelection().anchorOffset < 1) {\r\n                e.preventDefault();\r\n            }\r\n        }\r\n\r\n        // Search events\r\n        if (search) {\r\n            search.keydown(e);\r\n        }\r\n\r\n        // Verify if is empty\r\n        isEmpty();\r\n    }\r\n\r\n    /**\r\n     * Processing event keyup on the element\r\n     * @param e {object}\r\n     */\r\n    var tagsKeyUp = function(e) {\r\n        if (e.which == 39) {\r\n            // Right arrow\r\n            var n = window.getSelection().anchorOffset;\r\n            if (n > 1 && n == anchorOffset) {\r\n                obj.add('', true);\r\n            }\r\n        } else if (e.which == 13 || e.which == 38 || e.which == 40) {\r\n            e.preventDefault();\r\n        } else {\r\n            if (search) {\r\n                search.keyup(e);\r\n            }\r\n        }\r\n\r\n        filter();\r\n    }\r\n\r\n    /**\r\n     * Processing event paste on the element\r\n     * @param e {object}\r\n     */\r\n    var tagsPaste =  function(e) {\r\n        if (e.clipboardData || e.originalEvent.clipboardData) {\r\n            var text = (e.originalEvent || e).clipboardData.getData('text/plain');\r\n        } else if (window.clipboardData) {\r\n            var text = window.clipboardData.getData('Text');\r\n        }\r\n\r\n        var data = extractTags(text);\r\n\r\n        if (typeof(obj.options.onbeforepaste) == 'function') {\r\n            var ret = obj.options.onbeforepaste(el, obj, data);\r\n            if (ret === false) {\r\n                e.preventDefault();\r\n                return false;\r\n            } else {\r\n                if (ret) {\r\n                    data = ret;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (data.length > 1) {\r\n            obj.add(data, true);\r\n            e.preventDefault();\r\n        } else if (data[0]) {\r\n            document.execCommand('insertText', false, data[0])\r\n            e.preventDefault();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Processing event mouseup on the element\r\n     * @param e {object}\r\n     */\r\n    var tagsMouseUp = function(e) {\r\n        if (e.target.parentNode && e.target.parentNode.classList.contains('jtags')) {\r\n            if (e.target.classList.contains('jtags_label') || e.target.classList.contains('jtags_error')) {\r\n                var rect = e.target.getBoundingClientRect();\r\n                if (rect.width - (e.clientX - rect.left) < 16) {\r\n                    obj.remove(e.target);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Set focus in the last item\r\n        if (e.target == el) {\r\n            setFocus();\r\n        }\r\n    }\r\n\r\n    var tagsFocus = function() {\r\n        if (! el.classList.contains('jtags-focus')) {\r\n            if (! el.children.length || obj.getValue(el.children.length - 1)) {\r\n                if (! limit()) {\r\n                    createElement('');\r\n                }\r\n            }\r\n\r\n            if (typeof(obj.options.onfocus) == 'function') {\r\n                obj.options.onfocus(el, obj, obj.getValue());\r\n            }\r\n\r\n            el.classList.add('jtags-focus');\r\n        }\r\n    }\r\n\r\n    var tagsBlur = function() {\r\n        if (el.classList.contains('jtags-focus')) {\r\n            if (search) {\r\n                search.close();\r\n            }\r\n\r\n            for (var i = 0; i < el.children.length - 1; i++) {\r\n                // Create label design\r\n                if (! obj.getValue(i)) {\r\n                    el.removeChild(el.children[i]);\r\n                }\r\n            }\r\n\r\n            change();\r\n\r\n            el.classList.remove('jtags-focus');\r\n\r\n            if (typeof(obj.options.onblur) == 'function') {\r\n                obj.options.onblur(el, obj, obj.getValue());\r\n            }\r\n        }\r\n    }\r\n\r\n    var init = function() {\r\n        // Bind events\r\n        if ('touchend' in document.documentElement === true) {\r\n            el.addEventListener('touchend', tagsMouseUp);\r\n        } else {\r\n            el.addEventListener('mouseup', tagsMouseUp);\r\n        }\r\n\r\n        el.addEventListener('keydown', tagsKeyDown);\r\n        el.addEventListener('keyup', tagsKeyUp);\r\n        el.addEventListener('paste', tagsPaste);\r\n        el.addEventListener('focus', tagsFocus);\r\n        el.addEventListener('blur', tagsBlur);\r\n\r\n        // Editable\r\n        el.setAttribute('contenteditable', true);\r\n\r\n        // Prepare container\r\n        el.classList.add('jtags');\r\n\r\n        // Initial options\r\n        obj.setOptions(options);\r\n\r\n        if (typeof(obj.options.onload) == 'function') {\r\n            obj.options.onload(el, obj);\r\n        }\r\n\r\n        // Change methods\r\n        el.change = obj.setValue;\r\n\r\n        // Global generic value handler\r\n        el.val = function(val) {\r\n            if (val === undefined) {\r\n                return obj.getValue();\r\n            } else {\r\n                obj.setValue(val);\r\n            }\r\n        }\r\n\r\n        el.tags = obj;\r\n    }\r\n\r\n    init();\r\n\r\n    return obj;\r\n}\n;// CONCATENATED MODULE: ./src/plugins/upload.js\n\r\n\r\n\r\n\r\nfunction Upload(el, options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n\r\n    // Default configuration\r\n    var defaults = {\r\n        type: 'image',\r\n        extension: '*',\r\n        input: false,\r\n        minWidth: false,\r\n        maxWidth: null,\r\n        maxHeight: null,\r\n        maxJpegSizeBytes: null, // For example, 350Kb would be 350000\r\n        onchange: null,\r\n        multiple: false,\r\n        remoteParser: null,\r\n    };\r\n\r\n    // Loop through our object\r\n    for (var property in defaults) {\r\n        if (options && options.hasOwnProperty(property)) {\r\n            obj.options[property] = options[property];\r\n        } else {\r\n            obj.options[property] = defaults[property];\r\n        }\r\n    }\r\n\r\n    // Multiple\r\n    if (obj.options.multiple == true) {\r\n        el.setAttribute('data-multiple', true);\r\n    }\r\n\r\n    // Container\r\n    el.content = [];\r\n\r\n    // Upload icon\r\n    el.classList.add('jupload');\r\n\r\n    if (obj.options.input == true) {\r\n        el.classList.add('input');\r\n    }\r\n\r\n    obj.add = function(data) {\r\n        // Reset container for single files\r\n        if (obj.options.multiple == false) {\r\n            el.content = [];\r\n            el.innerText = '';\r\n        }\r\n\r\n        // Append to the element\r\n        if (obj.options.type == 'image') {\r\n            var img = document.createElement('img');\r\n            img.setAttribute('src', data.file);\r\n            img.setAttribute('tabindex', -1);\r\n            if (! el.getAttribute('name')) {\r\n                img.className = 'jfile';\r\n                img.content = data;\r\n            }\r\n            el.appendChild(img);\r\n        } else {\r\n            if (data.name) {\r\n                var name = data.name;\r\n            } else {\r\n                var name = data.file;\r\n            }\r\n            var div = document.createElement('div');\r\n            div.innerText = name || obj.options.type;\r\n            div.classList.add('jupload-item');\r\n            div.setAttribute('tabindex', -1);\r\n            el.appendChild(div);\r\n        }\r\n\r\n        if (data.content) {\r\n            data.file = helpers.guid();\r\n        }\r\n\r\n        // Push content\r\n        el.content.push(data);\r\n\r\n        // Onchange\r\n        if (typeof(obj.options.onchange) == 'function') {\r\n            obj.options.onchange(el, data);\r\n        }\r\n    }\r\n\r\n    obj.addFromFile = function(file) {\r\n        var type = file.type.split('/');\r\n        if (type[0] == obj.options.type) {\r\n            var readFile = new FileReader();\r\n            readFile.addEventListener(\"load\", function (v) {\r\n                var data = {\r\n                    file: v.srcElement.result,\r\n                    extension: file.name.substr(file.name.lastIndexOf('.') + 1),\r\n                    name: file.name,\r\n                    size: file.size,\r\n                    lastmodified: file.lastModified,\r\n                    content: v.srcElement.result,\r\n                }\r\n\r\n                obj.add(data);\r\n            });\r\n\r\n            readFile.readAsDataURL(file);\r\n        } else {\r\n            alert(dictionary.translate('This extension is not allowed'));\r\n        }\r\n    }\r\n\r\n    obj.addFromUrl = function(src) {\r\n        if (src.substr(0,4) != 'data' && ! obj.options.remoteParser) {\r\n            console.error('remoteParser not defined in your initialization');\r\n        } else {\r\n            // This is to process cross domain images\r\n            if (src.substr(0,4) == 'data') {\r\n                var extension = src.split(';')\r\n                extension = extension[0].split('/');\r\n                var type = extension[0].replace('data:','');\r\n                if (type == obj.options.type) {\r\n                    var data = {\r\n                        file: src,\r\n                        name: '',\r\n                        extension: extension[1],\r\n                        content: src,\r\n                    }\r\n                    obj.add(data);\r\n                } else {\r\n                    alert(obj.options.text.extensionNotAllowed);\r\n                }\r\n            } else {\r\n                var extension = src.substr(src.lastIndexOf('.') + 1);\r\n                // Work for cross browsers\r\n                src = obj.options.remoteParser + src;\r\n                // Get remove content\r\n                ajax({\r\n                    url: src,\r\n                    type: 'GET',\r\n                    dataType: 'blob',\r\n                    success: function(data) {\r\n                        //add(extension[0].replace('data:',''), data);\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    var getDataURL = function(canvas, type) {\r\n        var compression = 0.92;\r\n        var lastContentLength = null;\r\n        var content = canvas.toDataURL(type, compression);\r\n        while (obj.options.maxJpegSizeBytes && type === 'image/jpeg' &&\r\n               content.length > obj.options.maxJpegSizeBytes && content.length !== lastContentLength) {\r\n            // Apply the compression\r\n            compression *= 0.9;\r\n            lastContentLength = content.length;\r\n            content = canvas.toDataURL(type, compression);\r\n        }\r\n        return content;\r\n    }\r\n\r\n    var mime = obj.options.type + '/' + obj.options.extension;\r\n    var input = document.createElement('input');\r\n    input.type = 'file';\r\n    input.setAttribute('accept', mime);\r\n    input.onchange = function() {\r\n        for (var i = 0; i < this.files.length; i++) {\r\n            obj.addFromFile(this.files[i]);\r\n        }\r\n    }\r\n\r\n    // Allow multiple files\r\n    if (obj.options.multiple == true) {\r\n        input.setAttribute('multiple', true);\r\n    }\r\n\r\n    var current = null;\r\n\r\n    el.addEventListener(\"click\", function(e) {\r\n        current = null;\r\n        if (! el.children.length || e.target === el) {\r\n            helpers.click(input);\r\n        } else {\r\n            if (e.target.parentNode == el) {\r\n                current = e.target;\r\n            }\r\n        }\r\n    });\r\n\r\n    el.addEventListener(\"dblclick\", function(e) {\r\n        helpers.click(input);\r\n    });\r\n\r\n    el.addEventListener('dragenter', function(e) {\r\n        el.style.border = '1px dashed #000';\r\n    });\r\n\r\n    el.addEventListener('dragleave', function(e) {\r\n        el.style.border = '1px solid #eee';\r\n    });\r\n\r\n    el.addEventListener('dragstop', function(e) {\r\n        el.style.border = '1px solid #eee';\r\n    });\r\n\r\n    el.addEventListener('dragover', function(e) {\r\n        e.preventDefault();\r\n    });\r\n\r\n    el.addEventListener('keydown', function(e) {\r\n        if (current && e.which == 46) {\r\n            var index = Array.prototype.indexOf.call(el.children, current);\r\n            if (index >= 0) {\r\n                el.content.splice(index, 1);\r\n                current.remove();\r\n                current = null;\r\n            }\r\n        }\r\n    });\r\n\r\n    el.addEventListener('drop', function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        var html = (e.originalEvent || e).dataTransfer.getData('text/html');\r\n        var file = (e.originalEvent || e).dataTransfer.files;\r\n\r\n        if (file.length) {\r\n            for (var i = 0; i < e.dataTransfer.files.length; i++) {\r\n                obj.addFromFile(e.dataTransfer.files[i]);\r\n            }\r\n        } else if (html) {\r\n            if (obj.options.multiple == false) {\r\n                el.innerText = '';\r\n            }\r\n\r\n            // Create temp element\r\n            var div = document.createElement('div');\r\n            div.innerHTML = html;\r\n\r\n            // Extract images\r\n            var img = div.querySelectorAll('img');\r\n\r\n            if (img.length) {\r\n                for (var i = 0; i < img.length; i++) {\r\n                    obj.addFromUrl(img[i].src);\r\n                }\r\n            }\r\n        }\r\n\r\n        el.style.border = '1px solid #eee';\r\n\r\n        return false;\r\n    });\r\n\r\n    el.val = function(val) {\r\n        if (val === undefined) {\r\n            return el.content && el.content.length ? el.content : null;\r\n        } else {\r\n            // Reset\r\n            el.innerText = '';\r\n            el.content = [];\r\n\r\n            if (val) {\r\n                if (Array.isArray(val)) {\r\n                    for (var i = 0; i < val.length; i++) {\r\n                        if (typeof(val[i]) == 'string') {\r\n                            obj.add({ file: val[i] });\r\n                        } else {\r\n                            obj.add(val[i]);\r\n                        }\r\n                    }\r\n                } else if (typeof(val) == 'string') {\r\n                    obj.add({ file: val });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    el.upload = el.image = obj;\r\n\r\n    return obj;\r\n}\r\n\n// EXTERNAL MODULE: ./packages/sha512/sha512.js\nvar sha512 = __webpack_require__(195);\nvar sha512_default = /*#__PURE__*/__webpack_require__.n(sha512);\n;// CONCATENATED MODULE: ./src/jsuites.js\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar jSuites = {\r\n    /** Current version */\r\n    version: '5.0.1',\r\n    /** Bind new extensions to Jsuites */\r\n    setExtensions: function(o) {\r\n        if (typeof(o) == 'object') {\r\n            var k = Object.keys(o);\r\n            for (var i = 0; i < k.length; i++) {\r\n                jSuites[k[i]] = o[k[i]];\r\n            }\r\n        }\r\n    },\r\n    // Helpers\r\n    tracking: Tracking,\r\n    ...dictionary,\r\n    ...helpers,\r\n    path: Path,\r\n    sorting: Sorting,\r\n    lazyLoading: LazyLoading,\r\n    // Plugins\r\n    ajax: ajax,\r\n    animation: animation,\r\n    calendar: calendar,\r\n    color: Color,\r\n    contextmenu: contextmenu,\r\n    dropdown: dropdown,\r\n    editor: editor,\r\n    floating: floating,\r\n    form: plugins_form,\r\n    mask: mask,\r\n    modal: modal,\r\n    notification: notification,\r\n    palette: palette,\r\n    picker: Picker,\r\n    progressbar: Progressbar,\r\n    rating: Rating,\r\n    search: Search,\r\n    slider: Slider,\r\n    tabs: Tabs,\r\n    tags: Tags,\r\n    toolbar: Toolbar,\r\n    upload: Upload,\r\n    validations: validations,\r\n}\r\n\r\n// Legacy\r\njSuites.image = Upload;\r\njSuites.image.create = function(data) {\r\n    var img = document.createElement('img');\r\n    img.setAttribute('src', data.file);\r\n    img.className = 'jfile';\r\n    img.setAttribute('tabindex', -1);\r\n    img.content = data;\r\n\r\n    return img;\r\n}\r\n\r\njSuites.tracker = plugins_form;\r\njSuites.loading = animation.loading;\r\njSuites.sha512 = (sha512_default());\r\n\r\n\r\n/** Core events */\r\nvar Events = function() {\r\n\r\n    document.jsuitesComponents = [];\r\n\r\n    var find = function(DOMElement, component) {\r\n        if (DOMElement[component.type] && DOMElement[component.type] == component) {\r\n            return true;\r\n        }\r\n        if (DOMElement.component && DOMElement.component == component) {\r\n            return true;\r\n        }\r\n        if (DOMElement.parentNode) {\r\n            return find(DOMElement.parentNode, component);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    var isOpened = function(e) {\r\n        if (document.jsuitesComponents && document.jsuitesComponents.length > 0) {\r\n            for (var i = 0; i < document.jsuitesComponents.length; i++) {\r\n                if (document.jsuitesComponents[i] && ! find(e, document.jsuitesComponents[i])) {\r\n                    document.jsuitesComponents[i].close();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // Width of the border\r\n    var cornerSize = 15;\r\n\r\n    // Current element\r\n    var element = null;\r\n\r\n    // Controllers\r\n    var editorAction = false;\r\n\r\n    // Event state\r\n    var state = {\r\n        x: null,\r\n        y: null,\r\n    }\r\n\r\n    // Tooltip element\r\n    var tooltip = document.createElement('div')\r\n    tooltip.classList.add('jtooltip');\r\n\r\n    // Events\r\n    var mouseDown = function(e) {\r\n        // Check if this is the floating\r\n        var item = jSuites.findElement(e.target, 'jpanel');\r\n        // Jfloating found\r\n        if (item && ! item.classList.contains(\"readonly\")) {\r\n            // Add focus to the chart container\r\n            item.focus();\r\n            // Keep the tracking information\r\n            var rect = e.target.getBoundingClientRect();\r\n            editorAction = {\r\n                e: item,\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                w: rect.width,\r\n                h: rect.height,\r\n                d: item.style.cursor,\r\n                resizing: item.style.cursor ? true : false,\r\n                actioned: false,\r\n            }\r\n\r\n            // Make sure width and height styling is OK\r\n            if (! item.style.width) {\r\n                item.style.width = rect.width + 'px';\r\n            }\r\n\r\n            if (! item.style.height) {\r\n                item.style.height = rect.height + 'px';\r\n            }\r\n\r\n            // Remove any selection from the page\r\n            var s = window.getSelection();\r\n            if (s.rangeCount) {\r\n                for (var i = 0; i < s.rangeCount; i++) {\r\n                    s.removeRange(s.getRangeAt(i));\r\n                }\r\n            }\r\n\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        } else {\r\n            // No floating action found\r\n            editorAction = false;\r\n        }\r\n\r\n        // Verify current components tracking\r\n        if (e.changedTouches && e.changedTouches[0]) {\r\n            var x = e.changedTouches[0].clientX;\r\n            var y = e.changedTouches[0].clientY;\r\n        } else {\r\n            var x = e.clientX;\r\n            var y = e.clientY;\r\n        }\r\n\r\n        // Which component I am clicking\r\n        var path = e.path || (e.composedPath && e.composedPath());\r\n\r\n        // If path available get the first element in the chain\r\n        if (path) {\r\n            element = path[0];\r\n        } else {\r\n            // Try to guess using the coordinates\r\n            if (e.target && e.target.shadowRoot) {\r\n                var d = e.target.shadowRoot;\r\n            } else {\r\n                var d = document;\r\n            }\r\n            // Get the first target element\r\n            element = d.elementFromPoint(x, y);\r\n        }\r\n\r\n        isOpened(element);\r\n    }\r\n\r\n    var mouseUp = function(e) {\r\n        if (editorAction && editorAction.e) {\r\n            if (typeof(editorAction.e.refresh) == 'function' && state.actioned) {\r\n                editorAction.e.refresh();\r\n            }\r\n            editorAction.e.style.cursor = '';\r\n        }\r\n\r\n        // Reset\r\n        state = {\r\n            x: null,\r\n            y: null,\r\n        }\r\n\r\n        editorAction = false;\r\n    }\r\n\r\n    var mouseMove = function(e) {\r\n        if (editorAction) {\r\n            var x = e.clientX || e.pageX;\r\n            var y = e.clientY || e.pageY;\r\n\r\n            // Action on going\r\n            if (! editorAction.resizing) {\r\n                if (state.x == null && state.y == null) {\r\n                    state.x = x;\r\n                    state.y = y;\r\n                }\r\n\r\n                var dx = x - state.x;\r\n                var dy = y - state.y;\r\n                var top = editorAction.e.offsetTop + dy;\r\n                var left = editorAction.e.offsetLeft + dx;\r\n\r\n                // Update position\r\n                editorAction.e.style.top = top + 'px';\r\n                editorAction.e.style.left = left + 'px';\r\n                editorAction.e.style.cursor = \"move\";\r\n\r\n                state.x = x;\r\n                state.y = y;\r\n\r\n\r\n                // Update element\r\n                if (typeof(editorAction.e.refresh) == 'function') {\r\n                    state.actioned = true;\r\n                    editorAction.e.refresh('position', top, left);\r\n                }\r\n            } else {\r\n                var width = null;\r\n                var height = null;\r\n\r\n                if (editorAction.d == 'e-resize' || editorAction.d == 'ne-resize' || editorAction.d == 'se-resize') {\r\n                    // Update width\r\n                    width = editorAction.w + (x - editorAction.x);\r\n                    editorAction.e.style.width = width + 'px';\r\n\r\n                    // Update Height\r\n                    if (e.shiftKey) {\r\n                        var newHeight = (x - editorAction.x) * (editorAction.h / editorAction.w);\r\n                        height = editorAction.h + newHeight;\r\n                        editorAction.e.style.height = height + 'px';\r\n                    } else {\r\n                        var newHeight = false;\r\n                    }\r\n                }\r\n\r\n                if (! newHeight) {\r\n                    if (editorAction.d == 's-resize' || editorAction.d == 'se-resize' || editorAction.d == 'sw-resize') {\r\n                        height = editorAction.h + (y - editorAction.y);\r\n                        editorAction.e.style.height = height + 'px';\r\n                    }\r\n                }\r\n\r\n                // Update element\r\n                if (typeof(editorAction.e.refresh) == 'function') {\r\n                    state.actioned = true;\r\n                    editorAction.e.refresh('dimensions', width, height);\r\n                }\r\n            }\r\n        } else {\r\n            // Resizing action\r\n            var item = jSuites.findElement(e.target, 'jpanel');\r\n            // Found eligible component\r\n            if (item) {\r\n                if (item.getAttribute('tabindex')) {\r\n                    var rect = item.getBoundingClientRect();\r\n                    if (e.clientY - rect.top < cornerSize) {\r\n                        if (rect.width - (e.clientX - rect.left) < cornerSize) {\r\n                            item.style.cursor = 'ne-resize';\r\n                        } else if (e.clientX - rect.left < cornerSize) {\r\n                            item.style.cursor = 'nw-resize';\r\n                        } else {\r\n                            item.style.cursor = 'n-resize';\r\n                        }\r\n                    } else if (rect.height - (e.clientY - rect.top) < cornerSize) {\r\n                        if (rect.width - (e.clientX - rect.left) < cornerSize) {\r\n                            item.style.cursor = 'se-resize';\r\n                        } else if (e.clientX - rect.left < cornerSize) {\r\n                            item.style.cursor = 'sw-resize';\r\n                        } else {\r\n                            item.style.cursor = 's-resize';\r\n                        }\r\n                    } else if (rect.width - (e.clientX - rect.left) < cornerSize) {\r\n                        item.style.cursor = 'e-resize';\r\n                    } else if (e.clientX - rect.left < cornerSize) {\r\n                        item.style.cursor = 'w-resize';\r\n                    } else {\r\n                        item.style.cursor = '';\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    var mouseOver = function(e) {\r\n        var message = e.target.getAttribute('data-tooltip');\r\n        if (message) {\r\n            // Instructions\r\n            tooltip.innerText = message;\r\n\r\n            // Position\r\n            if (e.changedTouches && e.changedTouches[0]) {\r\n                var x = e.changedTouches[0].clientX;\r\n                var y = e.changedTouches[0].clientY;\r\n            } else {\r\n                var x = e.clientX;\r\n                var y = e.clientY;\r\n            }\r\n\r\n            tooltip.style.top = y + 'px';\r\n            tooltip.style.left = x + 'px';\r\n            document.body.appendChild(tooltip);\r\n        } else if (tooltip.innerText) {\r\n            tooltip.innerText = '';\r\n            document.body.removeChild(tooltip);\r\n        }\r\n    }\r\n\r\n    var dblClick = function(e) {\r\n        var item = jSuites.findElement(e.target, 'jpanel');\r\n        if (item && typeof(item.dblclick) == 'function') {\r\n            // Create edition\r\n            item.dblclick(e);\r\n        }\r\n    }\r\n\r\n    var contextMenu = function(e) {\r\n        var item = document.activeElement;\r\n        if (item && typeof(item.contextmenu) == 'function') {\r\n            // Create edition\r\n            item.contextmenu(e);\r\n\r\n            e.preventDefault();\r\n            e.stopImmediatePropagation();\r\n        } else {\r\n            // Search for possible context menus\r\n            item = jSuites.findElement(e.target, function(o) {\r\n                return o.tagName && o.getAttribute('aria-contextmenu-id');\r\n            });\r\n\r\n            if (item) {\r\n                var o = document.querySelector('#' + item);\r\n                if (! o) {\r\n                    console.error('JSUITES: contextmenu id not found: ' + item);\r\n                } else {\r\n                    o.contextmenu.open(e);\r\n                    e.preventDefault();\r\n                    e.stopImmediatePropagation();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    var keyDown = function(e) {\r\n        var item = document.activeElement;\r\n        if (item) {\r\n            if (e.key == \"Delete\" && typeof(item.delete) == 'function') {\r\n                item.delete();\r\n                e.preventDefault();\r\n                e.stopImmediatePropagation();\r\n            }\r\n        }\r\n\r\n        if (document.jsuitesComponents && document.jsuitesComponents.length) {\r\n            if (item = document.jsuitesComponents[document.jsuitesComponents.length - 1]) {\r\n                if (e.key == \"Escape\" && typeof(item.isOpened) == 'function' && typeof(item.close) == 'function') {\r\n                    if (item.isOpened()) {\r\n                        item.close();\r\n                        e.preventDefault();\r\n                        e.stopImmediatePropagation();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    document.addEventListener('mouseup', mouseUp);\r\n    document.addEventListener(\"mousedown\", mouseDown);\r\n    document.addEventListener('mousemove', mouseMove);\r\n    document.addEventListener('mouseover', mouseOver);\r\n    document.addEventListener('dblclick', dblClick);\r\n    document.addEventListener('keydown', keyDown);\r\n    document.addEventListener('contextmenu', contextMenu);\r\n}\r\n\r\nif (typeof(document) !== \"undefined\" && ! document.jsuitesComponents) {\r\n    Events();\r\n}\r\n\r\n/* harmony default export */ var jsuites = (jSuites);\n}();\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});"],"mappings":"AAAA,CAAC,SAASA,gCAAgCA,CAACC,IAAI,EAAEC,OAAO,EAAE;EACzD,IAAG,OAAOC,OAAO,KAAK,QAAQ,IAAI,OAAOC,MAAM,KAAK,QAAQ,EAC3DA,MAAM,CAACD,OAAO,GAAGD,OAAO,EAAE,CAAC,KACvB,IAAG,OAAOG,MAAM,KAAK,UAAU,IAAIA,MAAM,CAACC,GAAG,EACjDD,MAAM,CAAC,EAAE,EAAEH,OAAO,CAAC,CAAC,KAChB,IAAG,OAAOC,OAAO,KAAK,QAAQ,EAClCA,OAAO,CAAC,SAAS,CAAC,GAAGD,OAAO,EAAE,CAAC,KAE/BD,IAAI,CAAC,SAAS,CAAC,GAAGC,OAAO,EAAE;AAC7B,CAAC,EAAE,IAAI,EAAE,YAAW;EACpB,OAAO,SAAU,YAAW;MAAE;MAC9B;MAAU,IAAIK,mBAAmB,GAAI;QAErC,KAAM,GAAG,EACT,KAAO,UAASH,MAAM,EAAE;UAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;UAEA;UAAE,WAAUI,MAAM,EAAEN,OAAO,EAAE;YACxB,IAAI,GAAGE,MAAM,CAACD,OAAO,GAAGD,OAAO,EAAE,GAClC,CAAC;UACL,CAAC,EAAC,IAAI,EAAG,YAAY;YAEjB,OAAQ,UAASO,GAAG,EAAE;cAClB,SAASC,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;gBAC/B,IAAI,CAACC,SAAS,GAAGF,QAAQ;gBACzB,IAAI,CAACG,QAAQ,GAAGF,QAAQ;cAC5B;cAEA,IAAIG,CAAC,GAAG,CAAC,IAAIL,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACzE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;cAEzE,IAAIM,CAAC,GAAG,CAAC,IAAIN,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACzE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EACpE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAIA,KAAK,CAAC,UAAU,EAAE,UAAU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"},"metadata":{},"sourceType":"script","externalDependencies":[]}