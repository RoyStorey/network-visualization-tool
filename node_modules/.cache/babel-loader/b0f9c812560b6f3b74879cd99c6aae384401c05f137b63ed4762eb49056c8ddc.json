{"ast":null,"code":"import DOMPurify from 'dompurify';\nimport { stringify } from \"./mixed.mjs\";\n/**\n * Convert string to upper case first letter.\n *\n * @param {string} string String to convert.\n * @returns {string}\n */\nexport function toUpperCaseFirst(string) {\n  return string[0].toUpperCase() + string.substr(1);\n}\n\n/**\n * Compare strings case insensitively.\n *\n * @param {...string} strings Strings to compare.\n * @returns {boolean}\n */\nexport function equalsIgnoreCase() {\n  var unique = [];\n  for (var _len = arguments.length, strings = new Array(_len), _key = 0; _key < _len; _key++) {\n    strings[_key] = arguments[_key];\n  }\n  var length = strings.length;\n  while (length) {\n    length -= 1;\n    var string = stringify(strings[length]).toLowerCase();\n    if (unique.indexOf(string) === -1) {\n      unique.push(string);\n    }\n  }\n  return unique.length === 1;\n}\n\n/**\n * Generates a random hex string. Used as namespace for Handsontable instance events.\n *\n * @returns {string} Returns 16-long character random string (eq. `'92b1bfc74ec4'`).\n */\nexport function randomString() {\n  /**\n   * @returns {string}\n   */\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n  return s4() + s4() + s4() + s4();\n}\n\n/**\n * Checks if value is valid percent.\n *\n * @param {string} value The value to check.\n * @returns {boolean}\n */\nexport function isPercentValue(value) {\n  return /^([0-9][0-9]?%$)|(^100%$)/.test(value);\n}\n\n/**\n * Substitute strings placed beetwen square brackets into value defined in `variables` object. String names defined in\n * square brackets must be the same as property name of `variables` object.\n *\n * @param {string} template Template string.\n * @param {object} variables Object which contains all available values which can be injected into template.\n * @returns {string}\n */\nexport function substitute(template) {\n  var variables = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return \"\".concat(template).replace(/(?:\\\\)?\\[([^[\\]]+)]/g, function (match, name) {\n    if (match.charAt(0) === '\\\\') {\n      return match.substr(1, match.length - 1);\n    }\n    return variables[name] === void 0 ? '' : variables[name];\n  });\n}\n\n/**\n * Strip any HTML tag from the string.\n *\n * @param {string} string String to cut HTML from.\n * @returns {string}\n */\nexport function stripTags(string) {\n  return sanitize(\"\".concat(string), {\n    ALLOWED_TAGS: []\n  });\n}\n\n/**\n * Sanitizes string from potential security vulnerabilities.\n *\n * @param {string} string String to sanitize.\n * @param {object} [options] DOMPurify's configuration object.\n * @returns {string}\n */\nexport function sanitize(string, options) {\n  return DOMPurify.sanitize(string, options);\n}","map":{"version":3,"names":["DOMPurify","stringify","toUpperCaseFirst","string","toUpperCase","substr","equalsIgnoreCase","unique","_len","arguments","length","strings","Array","_key","toLowerCase","indexOf","push","randomString","s4","Math","floor","random","toString","substring","isPercentValue","value","test","substitute","template","variables","undefined","concat","replace","match","name","charAt","stripTags","sanitize","ALLOWED_TAGS","options"],"sources":["/home/rstorey/wwwdev/Blucktool/node_modules/handsontable/helpers/string.mjs"],"sourcesContent":["import \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport DOMPurify from 'dompurify';\nimport { stringify } from \"./mixed.mjs\";\n/**\n * Convert string to upper case first letter.\n *\n * @param {string} string String to convert.\n * @returns {string}\n */\nexport function toUpperCaseFirst(string) {\n  return string[0].toUpperCase() + string.substr(1);\n}\n\n/**\n * Compare strings case insensitively.\n *\n * @param {...string} strings Strings to compare.\n * @returns {boolean}\n */\nexport function equalsIgnoreCase() {\n  var unique = [];\n  for (var _len = arguments.length, strings = new Array(_len), _key = 0; _key < _len; _key++) {\n    strings[_key] = arguments[_key];\n  }\n  var length = strings.length;\n  while (length) {\n    length -= 1;\n    var string = stringify(strings[length]).toLowerCase();\n    if (unique.indexOf(string) === -1) {\n      unique.push(string);\n    }\n  }\n  return unique.length === 1;\n}\n\n/**\n * Generates a random hex string. Used as namespace for Handsontable instance events.\n *\n * @returns {string} Returns 16-long character random string (eq. `'92b1bfc74ec4'`).\n */\nexport function randomString() {\n  /**\n   * @returns {string}\n   */\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n  return s4() + s4() + s4() + s4();\n}\n\n/**\n * Checks if value is valid percent.\n *\n * @param {string} value The value to check.\n * @returns {boolean}\n */\nexport function isPercentValue(value) {\n  return /^([0-9][0-9]?%$)|(^100%$)/.test(value);\n}\n\n/**\n * Substitute strings placed beetwen square brackets into value defined in `variables` object. String names defined in\n * square brackets must be the same as property name of `variables` object.\n *\n * @param {string} template Template string.\n * @param {object} variables Object which contains all available values which can be injected into template.\n * @returns {string}\n */\nexport function substitute(template) {\n  var variables = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return \"\".concat(template).replace(/(?:\\\\)?\\[([^[\\]]+)]/g, function (match, name) {\n    if (match.charAt(0) === '\\\\') {\n      return match.substr(1, match.length - 1);\n    }\n    return variables[name] === void 0 ? '' : variables[name];\n  });\n}\n\n/**\n * Strip any HTML tag from the string.\n *\n * @param {string} string String to cut HTML from.\n * @returns {string}\n */\nexport function stripTags(string) {\n  return sanitize(\"\".concat(string), {\n    ALLOWED_TAGS: []\n  });\n}\n\n/**\n * Sanitizes string from potential security vulnerabilities.\n *\n * @param {string} string String to sanitize.\n * @param {object} [options] DOMPurify's configuration object.\n * @returns {string}\n */\nexport function sanitize(string, options) {\n  return DOMPurify.sanitize(string, options);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}