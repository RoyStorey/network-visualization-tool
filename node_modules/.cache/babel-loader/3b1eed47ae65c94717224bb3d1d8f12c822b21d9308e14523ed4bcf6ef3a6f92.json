{"ast":null,"code":"import jQuery from \"jquery\";\nexport default function switchpanel() {\n  if (jQuery('#switchpanel_tooltip').length == 0) {\n    jQuery('<div id=\"switchpanel_tooltip\"></div>').appendTo('body');\n  }\n  this.showToolTip = function (oEvent, sLabel, sTitle, sText, sLink) {\n    var sHtml = '';\n    if (sLabel + sTitle !== '') {\n      sHtml += '<div class=\"switchpanel_tooltip_title\">' + sLabel + (sTitle !== '' ? ' : ' : '') + sTitle + '</div>';\n    }\n    sHtml += '<div class=\"switchpanel_tooltip_text\">' + sText + '</div>';\n    if (sLink !== '') {\n      sHtml += '<div class=\"switchpanel_tooltip_link\">' + sLink + '</div>';\n    }\n    jQuery('#switchpanel_tooltip').html(sHtml).css({\n      top: oEvent.clientY + 20,\n      display: 'block'\n    });\n\n    // calcul positioning coefficient to the left\n    var iPosPopup = jQuery(oEvent.target).attr('x');\n    var iWidthSvg = jQuery(oEvent.target).closest('svg').attr('width').replace('px', '');\n    var iCoef = iPosPopup / iWidthSvg;\n\n    // Move popup to the left\n    jQuery('#switchpanel_tooltip').css({\n      left: oEvent.clientX - jQuery('#switchpanel_tooltip').width() * iCoef\n    });\n  };\n  this.hideToolTip = function () {\n    jQuery('#switchpanel_tooltip').css({\n      display: 'none'\n    });\n  };\n}\njQuery(document).ready(function () {\n  window.oSwitchPanel = new switchpanel();\n});","map":{"version":3,"names":["jQuery","switchpanel","length","appendTo","showToolTip","oEvent","sLabel","sTitle","sText","sLink","sHtml","html","css","top","clientY","display","iPosPopup","target","attr","iWidthSvg","closest","replace","iCoef","left","clientX","width","hideToolTip","document","ready","window","oSwitchPanel"],"sources":["/home/rstorey/wwwdev/Blucktool/src/switchmap/script.js"],"sourcesContent":["import jQuery from \"jquery\";\n\nexport default function switchpanel(){\n\tif( jQuery( '#switchpanel_tooltip' ).length == 0 ){\n\t\tjQuery( '<div id=\"switchpanel_tooltip\"></div>' ).appendTo( 'body' );\n\t}\n\t\n\tthis.showToolTip = function( oEvent, sLabel, sTitle, sText, sLink ){\n\t\tvar sHtml = '';\n\t\tif( ( sLabel + sTitle ) !== '' ){\n\t\t\tsHtml += '<div class=\"switchpanel_tooltip_title\">' + sLabel + ( sTitle !== '' ? ' : ' : '' ) + sTitle + '</div>';\n\t\t}\n\t\tsHtml += '<div class=\"switchpanel_tooltip_text\">' + sText + '</div>';\n\t\tif( sLink !== '' ){\n\t\t\tsHtml += '<div class=\"switchpanel_tooltip_link\">' + sLink + '</div>';\n\t\t}\n\t\tjQuery( '#switchpanel_tooltip' )\n\t\t\t.html( sHtml )\n\t\t\t.css( { top: oEvent.clientY + 20, display: 'block' } );\n\t\t\n\t\t// calcul positioning coefficient to the left\n\t\tvar iPosPopup = jQuery( oEvent.target ).attr( 'x' );\n\t\tvar iWidthSvg = jQuery( oEvent.target ).closest( 'svg' ).attr( 'width' ).replace( 'px', '' );\n\t\tvar iCoef = iPosPopup / iWidthSvg;\n\t\t\n\t\t// Move popup to the left\n\t\tjQuery( '#switchpanel_tooltip' )\n\t\t\t.css( { left: oEvent.clientX - ( jQuery( '#switchpanel_tooltip' ).width() * iCoef ) } );\n\t};\n\t\n\tthis.hideToolTip = function(){\n\t\tjQuery( '#switchpanel_tooltip' ).css( { display: 'none' } );\n\t};\n}\n\njQuery( document ).ready( function(){\n\twindow.oSwitchPanel = new switchpanel();\n} );\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,QAAQ;AAE3B,eAAe,SAASC,WAAWA,CAAA,EAAE;EACpC,IAAID,MAAM,CAAE,sBAAsB,CAAE,CAACE,MAAM,IAAI,CAAC,EAAE;IACjDF,MAAM,CAAE,sCAAsC,CAAE,CAACG,QAAQ,CAAE,MAAM,CAAE;EACpE;EAEA,IAAI,CAACC,WAAW,GAAG,UAAUC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAEC,KAAK,EAAE;IAClE,IAAIC,KAAK,GAAG,EAAE;IACd,IAAMJ,MAAM,GAAGC,MAAM,KAAO,EAAE,EAAE;MAC/BG,KAAK,IAAI,yCAAyC,GAAGJ,MAAM,IAAKC,MAAM,KAAK,EAAE,GAAG,KAAK,GAAG,EAAE,CAAE,GAAGA,MAAM,GAAG,QAAQ;IACjH;IACAG,KAAK,IAAI,wCAAwC,GAAGF,KAAK,GAAG,QAAQ;IACpE,IAAIC,KAAK,KAAK,EAAE,EAAE;MACjBC,KAAK,IAAI,wCAAwC,GAAGD,KAAK,GAAG,QAAQ;IACrE;IACAT,MAAM,CAAE,sBAAsB,CAAE,CAC9BW,IAAI,CAAED,KAAK,CAAE,CACbE,GAAG,CAAE;MAAEC,GAAG,EAAER,MAAM,CAACS,OAAO,GAAG,EAAE;MAAEC,OAAO,EAAE;IAAQ,CAAC,CAAE;;IAEvD;IACA,IAAIC,SAAS,GAAGhB,MAAM,CAAEK,MAAM,CAACY,MAAM,CAAE,CAACC,IAAI,CAAE,GAAG,CAAE;IACnD,IAAIC,SAAS,GAAGnB,MAAM,CAAEK,MAAM,CAACY,MAAM,CAAE,CAACG,OAAO,CAAE,KAAK,CAAE,CAACF,IAAI,CAAE,OAAO,CAAE,CAACG,OAAO,CAAE,IAAI,EAAE,EAAE,CAAE;IAC5F,IAAIC,KAAK,GAAGN,SAAS,GAAGG,SAAS;;IAEjC;IACAnB,MAAM,CAAE,sBAAsB,CAAE,CAC9BY,GAAG,CAAE;MAAEW,IAAI,EAAElB,MAAM,CAACmB,OAAO,GAAKxB,MAAM,CAAE,sBAAsB,CAAE,CAACyB,KAAK,EAAE,GAAGH;IAAQ,CAAC,CAAE;EACzF,CAAC;EAED,IAAI,CAACI,WAAW,GAAG,YAAU;IAC5B1B,MAAM,CAAE,sBAAsB,CAAE,CAACY,GAAG,CAAE;MAAEG,OAAO,EAAE;IAAO,CAAC,CAAE;EAC5D,CAAC;AACF;AAEAf,MAAM,CAAE2B,QAAQ,CAAE,CAACC,KAAK,CAAE,YAAU;EACnCC,MAAM,CAACC,YAAY,GAAG,IAAI7B,WAAW,EAAE;AACxC,CAAC,CAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}