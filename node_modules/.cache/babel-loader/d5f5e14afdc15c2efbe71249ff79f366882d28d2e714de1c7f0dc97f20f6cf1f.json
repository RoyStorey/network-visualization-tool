{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nimport { fastInnerHTML } from \"../../../helpers/dom/element.mjs\";\n/**\n * The class generates the nested headers structure in the DOM and reads the column width for\n * each column. The hierarchy is built only for visible, non-hidden columns. Each time the\n * column is shown or hidden, the structure is rebuilt, and the width of the columns in the\n * map updated.\n *\n * @private\n */\nvar GhostTable = /*#__PURE__*/function () {\n  /**\n   * Reference to the Handsontable instance.\n   *\n   * @private\n   * @type {Handsontable}\n   */\n\n  /**\n   * The function for retrieving the nested headers settings.\n   *\n   * @private\n   * @type {Function}\n   */\n\n  /**\n   * The value that holds information about the number of the nested header layers (header rows).\n   *\n   * @private\n   * @type {number}\n   */\n\n  /**\n   * Temporary element created to get minimal headers widths.\n   *\n   * @private\n   * @type {*}\n   */\n\n  /**\n   * PhysicalIndexToValueMap to keep and track of the columns' widths.\n   *\n   * @private\n   * @type {PhysicalIndexToValueMap}\n   */\n\n  function GhostTable(hot, nestedHeaderSettingsGetter) {\n    _classCallCheck(this, GhostTable);\n    _defineProperty(this, \"hot\", void 0);\n    _defineProperty(this, \"nestedHeaderSettingsGetter\", void 0);\n    _defineProperty(this, \"layersCount\", 0);\n    _defineProperty(this, \"container\", void 0);\n    _defineProperty(this, \"widthsMap\", void 0);\n    this.hot = hot;\n    this.nestedHeaderSettingsGetter = nestedHeaderSettingsGetter;\n    this.widthsMap = this.hot.columnIndexMapper.createAndRegisterIndexMap('nestedHeaders.widthsMap', 'physicalIndexToValue');\n  }\n\n  /**\n   * Sets the number of nested headers layers count.\n   *\n   * @param {number} layersCount Total number of headers levels.\n   * @returns {GhostTable}\n   */\n  _createClass(GhostTable, [{\n    key: \"setLayersCount\",\n    value: function setLayersCount(layersCount) {\n      this.layersCount = layersCount;\n      return this;\n    }\n\n    /**\n     * Gets the column width based on the visual column index.\n     *\n     * @param {number} visualColumn Visual column index.\n     * @returns {number|null}\n     */\n  }, {\n    key: \"getWidth\",\n    value: function getWidth(visualColumn) {\n      return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(visualColumn));\n    }\n\n    /**\n     * Build cache of the headers widths.\n     */\n  }, {\n    key: \"buildWidthsMap\",\n    value: function buildWidthsMap() {\n      this.container = this.hot.rootDocument.createElement('div');\n      this.container.classList.add('handsontable', 'htGhostTable', 'htAutoSize');\n      this._buildGhostTable(this.container);\n      this.hot.rootDocument.body.appendChild(this.container);\n      var columns = this.container.querySelectorAll('tr:last-of-type th');\n      var maxColumns = columns.length;\n      this.widthsMap.clear();\n      for (var column = 0; column < maxColumns; column++) {\n        var visualColumnsIndex = this.hot.columnIndexMapper.getVisualFromRenderableIndex(column);\n        var physicalColumnIndex = this.hot.toPhysicalColumn(visualColumnsIndex);\n        this.widthsMap.setValueAtIndex(physicalColumnIndex, columns[column].offsetWidth);\n      }\n      this.container.parentNode.removeChild(this.container);\n      this.container = null;\n    }\n\n    /**\n     * Build temporary table for getting minimal columns widths.\n     *\n     * @private\n     * @param {HTMLElement} container The element where the DOM nodes are injected.\n     */\n  }, {\n    key: \"_buildGhostTable\",\n    value: function _buildGhostTable(container) {\n      var _this$hot = this.hot,\n        rootDocument = _this$hot.rootDocument,\n        columnIndexMapper = _this$hot.columnIndexMapper;\n      var fragment = rootDocument.createDocumentFragment();\n      var table = rootDocument.createElement('table');\n      var isDropdownEnabled = !!this.hot.getSettings().dropdownMenu;\n      var maxRenderedCols = columnIndexMapper.getRenderableIndexesLength();\n      for (var row = 0; row < this.layersCount; row++) {\n        var tr = rootDocument.createElement('tr');\n        for (var col = 0; col < maxRenderedCols; col++) {\n          var visualColumnsIndex = columnIndexMapper.getVisualFromRenderableIndex(col);\n          if (visualColumnsIndex === null) {\n            visualColumnsIndex = col;\n          }\n          var th = rootDocument.createElement('th');\n          var headerSettings = this.nestedHeaderSettingsGetter(row, visualColumnsIndex);\n          if (headerSettings && (!headerSettings.isPlaceholder || headerSettings.isHidden)) {\n            var label = headerSettings.label;\n            if (isDropdownEnabled) {\n              label += '<button class=\"changeType\"></button>';\n            }\n            fastInnerHTML(th, label);\n            th.colSpan = headerSettings.colspan;\n            tr.appendChild(th);\n          }\n        }\n        table.appendChild(tr);\n      }\n      fragment.appendChild(table);\n      container.appendChild(fragment);\n    }\n\n    /**\n     * Clear the widths cache.\n     */\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.widthsMap.clear();\n      this.container = null;\n    }\n  }]);\n  return GhostTable;\n}();\nexport default GhostTable;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","_defineProperty","value","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","Number","fastInnerHTML","GhostTable","hot","nestedHeaderSettingsGetter","widthsMap","columnIndexMapper","createAndRegisterIndexMap","setLayersCount","layersCount","getWidth","visualColumn","getValueAtIndex","toPhysicalColumn","buildWidthsMap","container","rootDocument","createElement","classList","add","_buildGhostTable","body","appendChild","columns","querySelectorAll","maxColumns","clear","column","visualColumnsIndex","getVisualFromRenderableIndex","physicalColumnIndex","setValueAtIndex","offsetWidth","parentNode","removeChild","_this$hot","fragment","createDocumentFragment","table","isDropdownEnabled","getSettings","dropdownMenu","maxRenderedCols","getRenderableIndexesLength","row","tr","col","th","headerSettings","isPlaceholder","isHidden","label","colSpan","colspan"],"sources":["/home/rstorey/wwwdev/Blucktool/node_modules/handsontable/plugins/nestedHeaders/utils/ghostTable.mjs"],"sourcesContent":["import \"core-js/modules/es.symbol.to-primitive.js\";\nimport \"core-js/modules/es.date.to-primitive.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { fastInnerHTML } from \"../../../helpers/dom/element.mjs\";\n/**\n * The class generates the nested headers structure in the DOM and reads the column width for\n * each column. The hierarchy is built only for visible, non-hidden columns. Each time the\n * column is shown or hidden, the structure is rebuilt, and the width of the columns in the\n * map updated.\n *\n * @private\n */\nvar GhostTable = /*#__PURE__*/function () {\n  /**\n   * Reference to the Handsontable instance.\n   *\n   * @private\n   * @type {Handsontable}\n   */\n\n  /**\n   * The function for retrieving the nested headers settings.\n   *\n   * @private\n   * @type {Function}\n   */\n\n  /**\n   * The value that holds information about the number of the nested header layers (header rows).\n   *\n   * @private\n   * @type {number}\n   */\n\n  /**\n   * Temporary element created to get minimal headers widths.\n   *\n   * @private\n   * @type {*}\n   */\n\n  /**\n   * PhysicalIndexToValueMap to keep and track of the columns' widths.\n   *\n   * @private\n   * @type {PhysicalIndexToValueMap}\n   */\n\n  function GhostTable(hot, nestedHeaderSettingsGetter) {\n    _classCallCheck(this, GhostTable);\n    _defineProperty(this, \"hot\", void 0);\n    _defineProperty(this, \"nestedHeaderSettingsGetter\", void 0);\n    _defineProperty(this, \"layersCount\", 0);\n    _defineProperty(this, \"container\", void 0);\n    _defineProperty(this, \"widthsMap\", void 0);\n    this.hot = hot;\n    this.nestedHeaderSettingsGetter = nestedHeaderSettingsGetter;\n    this.widthsMap = this.hot.columnIndexMapper.createAndRegisterIndexMap('nestedHeaders.widthsMap', 'physicalIndexToValue');\n  }\n\n  /**\n   * Sets the number of nested headers layers count.\n   *\n   * @param {number} layersCount Total number of headers levels.\n   * @returns {GhostTable}\n   */\n  _createClass(GhostTable, [{\n    key: \"setLayersCount\",\n    value: function setLayersCount(layersCount) {\n      this.layersCount = layersCount;\n      return this;\n    }\n\n    /**\n     * Gets the column width based on the visual column index.\n     *\n     * @param {number} visualColumn Visual column index.\n     * @returns {number|null}\n     */\n  }, {\n    key: \"getWidth\",\n    value: function getWidth(visualColumn) {\n      return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(visualColumn));\n    }\n\n    /**\n     * Build cache of the headers widths.\n     */\n  }, {\n    key: \"buildWidthsMap\",\n    value: function buildWidthsMap() {\n      this.container = this.hot.rootDocument.createElement('div');\n      this.container.classList.add('handsontable', 'htGhostTable', 'htAutoSize');\n      this._buildGhostTable(this.container);\n      this.hot.rootDocument.body.appendChild(this.container);\n      var columns = this.container.querySelectorAll('tr:last-of-type th');\n      var maxColumns = columns.length;\n      this.widthsMap.clear();\n      for (var column = 0; column < maxColumns; column++) {\n        var visualColumnsIndex = this.hot.columnIndexMapper.getVisualFromRenderableIndex(column);\n        var physicalColumnIndex = this.hot.toPhysicalColumn(visualColumnsIndex);\n        this.widthsMap.setValueAtIndex(physicalColumnIndex, columns[column].offsetWidth);\n      }\n      this.container.parentNode.removeChild(this.container);\n      this.container = null;\n    }\n\n    /**\n     * Build temporary table for getting minimal columns widths.\n     *\n     * @private\n     * @param {HTMLElement} container The element where the DOM nodes are injected.\n     */\n  }, {\n    key: \"_buildGhostTable\",\n    value: function _buildGhostTable(container) {\n      var _this$hot = this.hot,\n        rootDocument = _this$hot.rootDocument,\n        columnIndexMapper = _this$hot.columnIndexMapper;\n      var fragment = rootDocument.createDocumentFragment();\n      var table = rootDocument.createElement('table');\n      var isDropdownEnabled = !!this.hot.getSettings().dropdownMenu;\n      var maxRenderedCols = columnIndexMapper.getRenderableIndexesLength();\n      for (var row = 0; row < this.layersCount; row++) {\n        var tr = rootDocument.createElement('tr');\n        for (var col = 0; col < maxRenderedCols; col++) {\n          var visualColumnsIndex = columnIndexMapper.getVisualFromRenderableIndex(col);\n          if (visualColumnsIndex === null) {\n            visualColumnsIndex = col;\n          }\n          var th = rootDocument.createElement('th');\n          var headerSettings = this.nestedHeaderSettingsGetter(row, visualColumnsIndex);\n          if (headerSettings && (!headerSettings.isPlaceholder || headerSettings.isHidden)) {\n            var label = headerSettings.label;\n            if (isDropdownEnabled) {\n              label += '<button class=\"changeType\"></button>';\n            }\n            fastInnerHTML(th, label);\n            th.colSpan = headerSettings.colspan;\n            tr.appendChild(th);\n          }\n        }\n        table.appendChild(tr);\n      }\n      fragment.appendChild(table);\n      container.appendChild(fragment);\n    }\n\n    /**\n     * Clear the widths cache.\n     */\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.widthsMap.clear();\n      this.container = null;\n    }\n  }]);\n  return GhostTable;\n}();\nexport default GhostTable;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}